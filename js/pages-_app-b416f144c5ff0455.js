(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{48926:function(t){function e(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){n(t);return}a.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise(function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,u,"next",t)}function u(t){e(s,i,o,a,u,"throw",t)}a(void 0)})}}},59713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},6479:function(t,e,n){var r=n(37316);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},37316:function(t){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},26099:function(t,e,n){"use strict";var r,i,o=n(70655),s=n(44589),a=n(30909),u=n(14594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.LL("app","Firebase",c),f="@firebase/app",l="[DEFAULT]",p=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return u},"PUBLIC"));try{for(var c=(0,o.XA)(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var f=h.value;this._addComponent(f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=l),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=l),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t(){var e=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=l);var a=o.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw h.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),d.warn(u.join(" "));return}c(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument",{appName:name});(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||l,!(0,s.r3)(e,t))throw h.create("no-app",{appName:t});return e[t]}function c(a){var u,c,f=a.name;if(n.has(f))return d.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===a.type?r[f]:null;if(n.set(f,a),"PUBLIC"===a.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[f])throw h.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==a.serviceProps&&(0,s.ZB)(l,a.serviceProps),r[f]=l,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,f).apply(this,a.multipleInstances?t:[])}}try{for(var p=(0,o.XA)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if((null==(e=t.getComponent())?void 0:e.type)!=="VERSION")return null;var e,n=t.getImmediate();return n.library+"/"+n.version}).filter(function(t){return t}).join(" ")},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,s.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)},y.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new m(t)},"PRIVATE")),y.registerVersion(f,"0.6.14",void 0),y.registerVersion("fire-js",""),e.Z=y},30909:function(t,e,n){"use strict";n.d(e,{H0:function(){return u},wA:function(){return o}});var r=n(70655),i=n(44589),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:s,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,"EAGER"===t.instantiationMode)try{this.getOrInitializeService(s)}catch(t){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[0],c=a[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(h);c.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fl)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,t===s?void 0:t),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},14594:function(t,e,n){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.d(e,{Am:function(){return d},Ub:function(){return p},Yd:function(){return l},in:function(){return s}});var i,o,s,a=[];(i=s||(s={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,h=((o={})[s.DEBUG]="log",o[s.VERBOSE]="log",o[s.INFO]="info",o[s.WARN]="warn",o[s.ERROR]="error",o),f=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),s=h[e];if(s)console[s].apply(console,r(["["+o+"]  "+t.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+e+")")}},l=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=f,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function p(t){a.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=0;n<a.length;n++)!function(n){var r=null;e&&e.level&&(r=u[e.level]),null===t?n.userLogHandler=null:n.userLogHandler=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}}(a[n])}},44589:function(t,e,n){"use strict";n.d(e,{BH:function(){return s},LL:function(){return m},Mn:function(){return v},UG:function(){return c},ZB:function(){return o},ZR:function(){return y},b$:function(){return l},d:function(){return p},jU:function(){return h},ne:function(){return w},p$:function(){return i},r3:function(){return b},ru:function(){return f},uI:function(){return u},w1:function(){return d},z$:function(){return a}});var r=n(70655);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function h(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function l(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p(){return a().indexOf("Electron/")>=0}function d(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?o.replace(g,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}):"Error",a=this.serviceName+": "+s+" ("+i+").";return new y(i,a,r)},t}(),g=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new I(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n,r,i=this.W_;if("string"==typeof t)for(var o=0;o<16;o++)i[o]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var o=0;o<16;o++)i[o]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var o=16;o<80;o++){var s=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],o=0;o<80;o++){o<40?o<20?(n=h^u&(c^h),r=1518500249):(n=u^c^h,r=1859775393):o<60?(n=u&c|h&(u|c),r=2400959708):(n=u^c^h,r=3395469782);var s=(a<<5|a>>>27)+n+f+r+i[o]&4294967295;f=h,h=c,c=(u<<30|u>>>2)&4294967295,u=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0;n<e.length;n++){var r=e[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?{next:t,error:e,complete:n}:t).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},15503:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r.Z}});var r=n(26099);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */r.Z.registerVersion("firebase","8.2.7","app")},72211:function(t,e,n){"use strict";n.r(e);var r=n(26099);(function(){var t,e,i,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},s=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function a(t){var e,n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:(e=0,function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}}!function(t,e){if(e){var n=s;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var i=s.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{switch(typeof t){case"object":var n=null!=t;break;case"function":n=!0;break;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){this.g(t);return}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)})},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e(function(t,e){var o=[],s=0;do o.push(void 0),s++,r(i.value).Qa(function(e){return function(n){o[e]=n,0==--s&&t(o)}}(o.length-1),e),i=n.next();while(!i.done)})},e});var u=u||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&h.test(t)?t:""}function p(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function v(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++w)}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function I(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I:E).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var A=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function N(t){return t}function k(t,e,n){this.code=D+t,this.message=e||P[t]||"",this.a=n||null}function O(t){var e=t&&t.code;return e?new k(e.substring(D.length),t.message,t.serverResponse):null}S(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var D="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function j(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function U(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}oH=x("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(M,L),M.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var G=new U(function(){return new q},function(t){t.reset()});function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=G.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},J=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=B(t,e)}function Y(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){var n=0;!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function Z(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,te=/</g,tn=/>/g,tr=/"/g,ti=/'/g,to=/\x00/g,ts=/[\x00&<>"']/;function ta(t,e){return -1!=t.indexOf(e)}function tu(t,e){return t<e?-1:t>e?1:0}t:{var tc=c.navigator;if(tc){var th=tc.userAgent;if(th){oK=th;break t}}oK=""}function tf(t){return ta(oK,t)}function tl(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function tp(t){for(var e in t)return!1;return!0}function td(t){var e,n={};for(e in t)n[e]=t[e];return n}var tv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ty(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tv.length;o++)n=tv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tm(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function tg(t,e){this.a=t===tI&&e||"",this.b=tw}function tb(t){return t instanceof tg&&t.constructor===tg&&t.b===tw?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}tg.prototype.sa=!0,tg.prototype.ra=function(){return this.a},tg.prototype.toString=function(){return"Const{"+this.a+"}"};var tw={},tI={};function tE(){if(void 0===oJ){var t=null,e=c.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:N,createScript:N,createScriptURL:N})}catch(t){c.console&&c.console.error(t.message)}oJ=t}else oJ=t}return oJ}function tT(t,e){this.a=e===tk?t:""}function t_(t){return t instanceof tT&&t.constructor===tT?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function tA(t,e){var n,r,i=tb(t);if(!tN.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return n=t=i.replace(tS,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof tg?tb(t):encodeURIComponent(String(t))}),new tT(n=(r=tE())?r.createScriptURL(n):n,tk)}tT.prototype.sa=!0,tT.prototype.ra=function(){return this.a.toString()},tT.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var tS=/%{(\w+)}/g,tN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,tk={};function tO(t,e){this.a=e===tM?t:""}function tD(t){return t instanceof tO&&t.constructor===tO?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}tO.prototype.sa=!0,tO.prototype.ra=function(){return this.a.toString()},tO.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var tP=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,tx=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tR(t){if(t instanceof tO)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),tx.test(t))t=new tO(t,tM);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(tC);t=e&&tP.test(e[1])?new tO(t,tM):null}return t}function tL(t){return t instanceof tO?t:(t="object"==typeof t&&t.sa?t.ra():String(t),tx.test(t)||(t="about:invalid#zClosurez"),new tO(t,tM))}var tM={},tj=new tO("about:invalid#zClosurez",tM);function tU(t,e,n){this.a=n===tV?t:""}tU.prototype.sa=!0,tU.prototype.ra=function(){return this.a.toString()},tU.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var tV={};function tF(t,e,n,r){return t=t instanceof tO?t:tL(t),e=e||c,n=n instanceof tg?tb(n):n||"",e.open(tD(t),n,r,void 0)}function tG(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function tq(t){return ts.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(te,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tn,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tr,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ti,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(to,"&#0;"))),t}function tB(t){return tB[" "](t),t}tB[" "]=p;var tz=tf("Opera"),tH=tf("Trident")||tf("MSIE"),tK=tf("Edge"),tJ=tK||tH,tX=tf("Gecko")&&!(ta(oK.toLowerCase(),"webkit")&&!tf("Edge"))&&!(tf("Trident")||tf("MSIE"))&&!tf("Edge"),tY=ta(oK.toLowerCase(),"webkit")&&!tf("Edge");function tW(){var t=c.document;return t?t.documentMode:void 0}t:{var tZ,tQ="",t$=(tZ=oK,tX?/rv:([^\);]+)(\)|;)/.exec(tZ):tK?/Edge\/([\d\.]+)/.exec(tZ):tH?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tZ):tY?/WebKit\/(\S+)/.exec(tZ):tz?/(?:Version)[ \/]?(\S+)/.exec(tZ):void 0);if(t$&&(tQ=t$?t$[1]:""),tH){var t0=tW();if(null!=t0&&t0>parseFloat(tQ)){oX=String(t0);break t}}oX=tQ}var t1={};function t2(t){var e;return e=function(){for(var e=0,n=$(String(oX)).split("."),r=$(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=tu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||tu(0==s[2].length,0==a[2].length)||tu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(t1,t)?t1[t]:t1[t]=e(t)}var t3=c.document&&tH&&(tW()||parseInt(oX,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var t4=!tH||9<=Number(t3);function t5(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function t6(t,e){tl(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:t9.hasOwnProperty(n)?t.setAttribute(t9[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var t9={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function t8(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function t7(t){c.setTimeout(function(){throw t},0)}function et(t,e){oZ||function(){if(c.Promise&&c.Promise.resolve){var t=c.Promise.resolve(void 0);oZ=function(){t.then(er)}}else oZ=function(){!y(c.setImmediate)||c.Window&&c.Window.prototype&&!tf("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(oW||(oW=function(){var t=c.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!tf("Presto")&&(t=function(){var t=t8(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T(function(t){("*"==r||t.origin==r)&&t.data==n&&this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!tf("Trident")&&!tf("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){c.setTimeout(t,0)}}()),oW(er)):c.setImmediate(er)}}(),ee||(oZ(),ee=!0),en.add(t,e)}var ee=!1,en=new F;function er(){for(var t,e;t=null,en.a&&(t=en.a,en.a=en.a.next,en.a||(en.b=null),t.next=null),e=t;){try{e.a.call(e.b)}catch(t){t7(t)}V(G,e)}ee=!1}function ei(t,e){if(this.a=eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,function(t){em(n,es,t)},function(t){if(!(t instanceof e_))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}em(n,ea,t)})}catch(t){em(this,ea,t)}}var eo=0,es=2,ea=3;function eu(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}eu.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ec=new U(function(){return new eu},function(t){t.reset()});function eh(t,e,n){var r=ec.get();return r.g=t,r.b=e,r.f=n,r}function ef(t){if(t instanceof ei)return t;var e=new ei(p);return em(e,es,t),e}function el(t){return new ei(function(e,n){n(t)})}function ep(t,e,n){eg(t,e,n,null)||et(_(e,t))}function ed(t){return new ei(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ep(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function ev(t,e){t.b||t.a!=es&&t.a!=ea||eb(t),t.f?t.f.next=e:t.b=e,t.f=e}function ey(t,e,n,r){var i=eh(null,null,null);return i.a=new ei(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof e_?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,ev(t,i),i.a}function em(t,e,n){var r;t.a==eo&&(t===n&&(e=ea,n=TypeError("Promise cannot resolve to itself")),t.a=1,eg(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,eb(t),e!=ea||n instanceof e_||(r=n,t.g=!0,et(function(){t.g&&eT.call(null,r)}))))}function eg(t,e,n,r){if(t instanceof ei)return ev(t,eh(e||p,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(y(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function eb(t){t.h||(t.h=!0,et(t.gc,t))}function ew(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function eI(t,e,n,r){if(n==ea&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,eE(e,n,r);else try{e.c?e.g.call(e.f):eE(e,n,r)}catch(t){eT.call(null,t)}V(ec,e)}function eE(t,e,n){e==es?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ei.prototype.then=function(t,e,n){return ey(this,y(t)?t:null,y(e)?e:null,n)},ei.prototype.$goog_Thenable=!0,(i=ei.prototype).oa=function(t,e){return(t=eh(t,t,e)).c=!0,ev(this,t),this},i.o=function(t,e){return ey(this,null,t,e)},i.cancel=function(t){if(this.a==eo){var e=new e_(t);et(function(){(function t(e,n){if(e.a==eo){if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==eo&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):ew(r),eI(r,o,ea,n)))}e.c=null}else em(e,ea,n)}})(this,e)},this)}},i.$c=function(t){this.a=eo,em(this,es,t)},i.ad=function(t){this.a=eo,em(this,ea,t)},i.gc=function(){for(var t;t=ew(this);)eI(this,t,this.a,this.i);this.h=!1};var eT=t7;function e_(t){L.call(this,t)}function eA(){0!=eS&&(eN[g(this)]=this),this.xa=this.xa,this.pa=this.pa}S(e_,L),e_.prototype.name="cancel";var eS=0,eN={};function ek(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=eS)){var e=g(t);if(0!=eS&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete eN[e]}}eA.prototype.xa=!1,eA.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eO=Object.freeze||function(t){return t},eD=!tH||9<=Number(t3),eP=tH&&!t2("9"),eC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",p,e),c.removeEventListener("test",p,e)}catch(t){}return t}();function ex(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function eR(t,e){if(ex.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(tX){t:{try{tB(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:eL[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ex.prototype.preventDefault=function(){this.defaultPrevented=!0},S(eR,ex);var eL=eO({2:"touch",3:"pen",4:"mouse"});eR.prototype.preventDefault=function(){eR.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,eP)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},eR.prototype.g=function(){return this.a};var eM="closure_listenable_"+(1e6*Math.random()|0),ej=0;function eU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++ej,this.va=this.Pa=!1}function eV(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function eF(t){this.src=t,this.a={},this.b=0}function eG(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(eV(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function eq(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&!!n==o.capture&&o.Va==r)return i}return -1}eF.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=eq(t,e,r,i);return -1<s?(e=t[s],n||(e.Pa=!1)):((e=new eU(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var eB="closure_lm_"+(1e6*Math.random()|0),ez={},eH=0;function eK(t,e,n,r,i){if(r&&r.once)eX(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)eK(t,e[o],n,r,i);else n=e3(n),t&&t[eM]?e5(t,e,n,m(r)?!!r.capture:!!r,i):eJ(t,e,n,!1,r,i)}function eJ(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a=m(i)?!!i.capture:!!i,u=e1(t);if(u||(t[eB]=u=new eF(t)),!(n=u.add(e,n,r,a,o)).proxy){if(r=s=eD?function(t){return e0.call(s.src,s.listener,t)}:function(t){if(!(t=e0.call(s.src,s.listener,t)))return t},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eC||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eZ(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");eH++}}function eX(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eX(t,e[o],n,r,i);else n=e3(n),t&&t[eM]?e6(t,e,n,m(r)?!!r.capture:!!r,i):eJ(t,e,n,!0,r,i)}function eY(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eY(t,e[o],n,r,i);else(r=m(r)?!!r.capture:!!r,n=e3(n),t&&t[eM])?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=eq(o=t.a[e],n,r,i))&&(eV(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=e1(t))&&(e=t.a[e.toString()],t=-1,e&&(t=eq(e,n,r,i)),(n=-1<t?e[t]:null)&&eW(n))}function eW(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[eM])eG(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eZ(n),r):e.addListener&&e.removeListener&&e.removeListener(r),eH--,(n=e1(e))?(eG(n,t),0==n.b&&(n.src=null,e[eB]=null)):eV(t)}}}function eZ(t){return t in ez?ez[t]:ez[t]="on"+t}function eQ(t,e,n,r){var i=!0;if((t=e1(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=e$(o,r),i=i&&!1!==o)}return i}function e$(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&eW(t),n.call(r,e)}function e0(t,e){if(t.va)return!0;if(!eD){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new eR(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=eQ(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=eQ(r[i],t,!1,e),n=n&&o}return n}return e$(t,new eR(e,this))}function e1(t){return(t=t[eB])instanceof eF?t:null}var e2="__closure_events_fn_"+(1e9*Math.random()>>>0);function e3(t){return y(t)?t:(t[e2]||(t[e2]=function(e){return t.handleEvent(e)}),t[e2])}function e4(){eA.call(this),this.v=new eF(this),this.ac=this,this.gb=null}function e5(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function e6(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function e9(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&eG(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function e8(t,e,n){if(y(t))n&&(t=T(t,n));else if(t&&"function"==typeof t.handleEvent)t=T(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function e7(t){var e=null;return new ei(function(n,r){-1==(e=e8(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw c.clearTimeout(e),t})}function nt(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function ne(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(v(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){if(t instanceof nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}}function nr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ni(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ni(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(e4,eA),e4.prototype[eM]=!0,e4.prototype.addEventListener=function(t,e,n,r){eK(this,t,e,n,r)},e4.prototype.removeEventListener=function(t,e,n,r){eY(this,t,e,n,r)},e4.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new ex(t,n);else if(t instanceof ex)t.target=t.target||n;else{var i=t;ty(t=new ex(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=e9(s,r,!0,t)&&i}if(i=e9(s=t.b=n,r,!0,t)&&i,i=e9(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=e9(s=t.b=e[o],r,!1,t)&&i;return i},e4.prototype.Da=function(){if(e4.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)eV(n[r]);delete e.a[t],e.b--}}this.gb=null},(i=nn.prototype).W=function(){nr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.Y=function(){return nr(this),this.a.concat()},i.clear=function(){this.b={},this.c=this.a.length=0},i.get=function(t,e){return ni(this.b,t)?this.b[t]:e},i.set=function(t,e){ni(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var no=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ns(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof ns?(this.i=void 0!==e?e:t.i,na(this,t.c),this.l=t.l,this.a=t.a,nu(this,t.g),this.f=t.f,nc(this,nk(t.b)),this.h=t.h):t&&(n=String(t).match(no))?(this.i=!!e,na(this,n[1]||"",!0),this.l=nd(n[2]||""),this.a=nd(n[3]||"",!0),nu(this,n[4]),this.f=nd(n[5]||"",!0),nc(this,n[6]||"",!0),this.h=nd(n[7]||"")):(this.i=!!e,this.b=new nE(null,this.i))}function na(t,e,n){t.c=n?nd(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function nu(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function nc(t,e,n){var r,i;e instanceof nE?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(nT(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nA(this,e),nN(this,n,t))},r)),r.f=i):(n||(e=nv(e,nw)),t.b=new nE(e,t.i))}function nh(t,e,n){t.b.set(e,n)}function nf(t,e){return t.b.get(e)}function nl(t){return t instanceof ns?new ns(t):new ns(t,void 0)}function np(t,e,n,r){var i=new ns(null,void 0);return t&&na(i,t),e&&(i.a=e),n&&nu(i,n),r&&(i.f=r),i}function nd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nv(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ny),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ny(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ns.prototype.toString=function(){var t=[],e=this.c;e&&t.push(nv(e,nm,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(nv(e,nm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(nv(n,"/"==n.charAt(0)?nb:ng,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",nv(n,nI)),t.join("")},ns.prototype.resolve=function(t){var e=new ns(this),n=!!t.c;n?na(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)nu(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0)){if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}}if(".."==(i=r)||"."==i)r="";else if(ta(i,"./")||ta(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?nc(e,nk(t.b)):n=!!t.h,n&&(e.h=t.h),e};var nm=/[#\/\?@]/g,ng=/[#\?:]/g,nb=/[#\?]/g,nw=/[#\?@]/g,nI=/#/g;function nE(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nT(t){t.a||(t.a=new nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function n_(t){var e=ne(t);if(void 0===e)throw Error("Keys are undefined");var n=new nE(null,void 0);t=nt(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nN(n,i,o):n.add(i,o)}return n}function nA(t,e){nT(t),e=nO(t,e),ni(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ni((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nr(t)))}function nS(t,e){return nT(t),e=nO(t,e),ni(t.a.b,e)}function nN(t,e,n){nA(t,e),0<n.length&&(t.c=null,t.a.set(nO(t,e),Q(n)),t.b+=n.length)}function nk(t){var e=new nE;return e.c=t.c,t.a&&(e.a=new nn(t.a),e.b=t.b),e}function nO(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nD(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";r.push("]");return}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),nR(i,r),r.push(":"),t(e,s,r),o=",");r.push("}");return}}switch(typeof n){case"string":nR(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nP,t,e),e.join("")}function nP(){}(i=nE.prototype).add=function(t,e){nT(this),this.c=null,t=nO(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.clear=function(){this.a=this.c=null,this.b=0},i.forEach=function(t,e){nT(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},i.Y=function(){nT(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.W=function(t){nT(this);var e=[];if("string"==typeof t)nS(this,t)&&(e=Z(e,this.a.get(nO(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},i.set=function(t,e){return nT(this),this.c=null,nS(this,t=nO(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nC={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nx=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nR(t,e){e.push('"',t.replace(nx,function(t){var e=nC[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nC[t]=e),e}),'"')}function nL(){var t=n0();return tH&&!!t3&&11==t3||/Edge\/\d+/.test(t)}function nM(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function nj(t,e){e=e||c.window;var n="about:blank";t&&(n=tD(tR(t)||tj)),e.location.href=n}function nU(t){return!!((t=(t||n0()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nV(t){t=t||c.window;try{t.close()}catch(t){}}function nF(t,e,n){var r,i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<o?o:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=n0().toLowerCase(),i&&(e.target=i,ta(n,"crios/")&&(e.target="_blank")),nZ(n0())==nY&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof tO?n:tR(void 0!==n.href?n.href:String(n))||tj,n=t.target||n.target,o=[],t)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(t[a]?1:0))}var a=o.join(",");if((tf("iPhone")&&!tf("iPod")&&!tf("iPad")||tf("iPad")||tf("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(tm(a=t8(document,"A"),"HTMLAnchorElement"),e=e instanceof tO?e:tL(e),a.href=tD(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=tF("",i,n,a),t=tD(e),a&&(tJ&&ta(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+tq(t)+'">',t=new tU(t=(i=tE())?i.createHTML(t):t,null,tV),i=a.document)&&(i.write((r=t)instanceof tU&&r.constructor===tU?r.a:(j("expected object of type SafeHtml, got '"+r+"' of type "+d(r)),"type_error:SafeHtml")),i.close())):(a=tF(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var nG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nq=/^[^@]+@[^@]+$/;function nB(){var t=null;return new ei(function(e){"complete"==c.document.readyState?e():eX(window,"load",t=function(){e()})}).o(function(e){throw eY(window,"load",t),e})}function nz(t){return t=t||n0(),!("file:"!==n5()&&"ionic:"!==n5()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function nH(){var t=c.window;try{return!(!t||t==t.top)}catch(t){return!1}}function nK(){return void 0!==c.WorkerGlobalScope&&"function"==typeof c.importScripts}function nJ(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":nK()?"Worker":"Browser"}function nX(){var t=nJ();return"ReactNative"===t||"Node"===t}var nY="Firefox",nW="Chrome";function nZ(t){var e=t.toLowerCase();return ta(e,"opera/")||ta(e,"opr/")||ta(e,"opios/")?"Opera":ta(e,"iemobile")?"IEMobile":ta(e,"msie")||ta(e,"trident/")?"IE":ta(e,"edge/")?"Edge":ta(e,"firefox/")?nY:ta(e,"silk/")?"Silk":ta(e,"blackberry")?"Blackberry":ta(e,"webos")?"Webos":!ta(e,"safari/")||ta(e,"chrome/")||ta(e,"crios/")||ta(e,"android")?!ta(e,"chrome/")&&!ta(e,"crios/")||ta(e,"edge/")?ta(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":nW:"Safari"}var nQ={md:"FirebaseCore-web",od:"FirebaseUI-web"};function n$(t,e){e=e||[];var n,r=[],i={};for(n in nQ)i[nQ[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=nJ())?r=nZ(i=n0()):"Worker"===r&&(r=nZ(i=n0())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function n0(){return c.navigator&&c.navigator.userAgent||""}function n1(t,e){t=t.split("."),e=e||c;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function n2(){try{var t=c.localStorage,e=rt();if(t)return t.setItem(e,"1"),t.removeItem(e),!nL()||!!c.indexedDB}catch(t){return nK()&&!!c.indexedDB}return!1}function n3(){return(n4()||"chrome-extension:"===n5()||nz())&&!nX()&&n2()&&!nK()}function n4(){return"http:"===n5()||"https:"===n5()}function n5(){return c.location&&c.location.protocol||null}function n6(t){return!nU(t=t||n0())&&nZ(t)!=nY}function n9(t){return void 0===t?null:nD(t)}function n8(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function n7(t){if(null!==t)return JSON.parse(t)}function rt(t){return t||Math.floor(1e9*Math.random()).toString()}function re(t){return!("Safari"==nZ(t=t||n0())||t.toLowerCase().match(/iphone|ipad|ipod/))}function rn(){var t=c.___jsl;if(t&&t.H){for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}}function rr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=n0(),e=nJ(),this.b=nU(t)||"ReactNative"===e}function ri(){var t=c.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function ro(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function rs(){return!(!n1("fireauth.oauthhelper",c)&&!n1("fireauth.iframe",c))}rr.prototype.get=function(){var t=c.navigator;return(t&&"boolean"==typeof t.onLine&&(n4()||"chrome-extension:"===n5()||void 0!==t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var ra={};function ru(t){ra[t]||(ra[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var rc={};Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:2}),oQ=2==rc.abcd}catch(t){oQ=!1}function rh(t,e,n){oQ?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function rf(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&rh(t,n,e[n])}function rl(t){var e={};return rf(e,t),e}function rp(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)rh(e,n,rp(t[n]));return e}function rd(t){var e=t&&(t[rb]?"phone":null);if(e&&t&&t[rg]){rh(this,"uid",t[rg]),rh(this,"displayName",t[ry]||null);var n=null;t[rm]&&(n=new Date(t[rm]).toUTCString()),rh(this,"enrollmentTime",n),rh(this,"factorId",e)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}function rv(t){try{var e=new rw(t)}catch(t){e=null}return e}rd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ry="displayName",rm="enrolledAt",rg="mfaEnrollmentId",rb="phoneInfo";function rw(t){rd.call(this,t),rh(this,"phoneNumber",t[rb])}function rI(t){var e={},n=t[rA],r=t[rN],i=t[rk];if(t=rv(t[rS]),!i||i!=rT&&i!=r_&&!n||i==r_&&!r||i==rE&&!t)throw Error("Invalid checkActionCode response!");i==r_?(e[rD]=n||null,e[rC]=n||null,e[rO]=r):(e[rD]=r||null,e[rC]=r||null,e[rO]=n||null),e[rP]=t||null,rh(this,rR,i),rh(this,rx,rp(e))}S(rw,rd),rw.prototype.w=function(){var t=rw.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var rE="REVERT_SECOND_FACTOR_ADDITION",rT="EMAIL_SIGNIN",r_="VERIFY_AND_CHANGE_EMAIL",rA="email",rS="mfaInfo",rN="newEmail",rk="requestType",rO="email",rD="fromEmail",rP="multiFactorInfo",rC="previousEmail",rx="data",rR="operation";function rL(t){var e=nf(t=nl(t),rM)||null,n=nf(t,rj)||null,r=nf(t,rF)||null;if(r=r&&rq[r]||null,!e||!n||!r)throw new k("argument-error",rM+", "+rj+"and "+rF+" are required in a valid action code URL.");rf(this,{apiKey:e,operation:r,code:n,continueUrl:nf(t,rU)||null,languageCode:nf(t,rV)||null,tenantId:nf(t,rG)||null})}var rM="apiKey",rj="oobCode",rU="continueUrl",rV="languageCode",rF="mode",rG="tenantId",rq={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rE,signIn:rT,verifyAndChangeEmail:r_,verifyEmail:"VERIFY_EMAIL"};function rB(t){try{return new rL(t)}catch(t){return null}}function rz(t){var e=t[rY];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[rH];if(n&&"object"==typeof n){e=n[rQ];var r=n[rW];if(n=n[rZ],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",rW+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",rZ+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",rQ+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",rH+" property must be a non null object when specified.");if(this.f=null,(e=t[rX])&&"object"==typeof e){if("string"==typeof(e=e[r$])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",r$+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",rX+" property must be a non null object when specified.");if(void 0!==(e=t[rJ])&&"boolean"!=typeof e)throw new k("argument-error",rJ+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[rK])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",rK+" property must be a non empty string when specified.");this.i=t||null}var rH="android",rK="dynamicLinkDomain",rJ="handleCodeInApp",rX="iOS",rY="url",rW="installApp",rZ="minimumVersion",rQ="packageName",r$="bundleId";function r0(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var r1=null;function r2(t){var e=r4(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function r3(t){try{return new r2(t)}catch(t){return null}}function r4(t){if(!t||3!=(t=t.split(".")).length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r,i,o=(r=t,i=[],function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=r1[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}(function(){if(!r1){r1={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===r1[o]&&(r1[o]=i)}}})();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(r,function(t){i.push(t)}),i);for(t=[],n=e=0;e<o.length;){var s=o[e++];if(128>s)t[n++]=String.fromCharCode(s);else if(191<s&&224>s){var a=o[e++];t[n++]=String.fromCharCode((31&s)<<6|63&a)}else if(239<s&&365>s){a=o[e++];var u=o[e++],c=o[e++],h=((7&s)<<18|(63&a)<<12|(63&u)<<6|63&c)-65536;t[n++]=String.fromCharCode(55296+(h>>10)),t[n++]=String.fromCharCode(56320+(1023&h))}else a=o[e++],u=o[e++],t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&u)}return JSON.parse(t.join(""))}catch(t){}return null}r2.prototype.T=function(){return this.f},r2.prototype.l=function(){return this.c},r2.prototype.toString=function(){return this.h};var r5="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),r6=["client_id","response_type","scope","redirect_uri","state"],r9={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:r6},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:r6},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:r6},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:r5},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function r8(t){for(var e in r9)if(r9[e].fa==t)return r9[e];return null}function r7(t){var e={};e["facebook.com"]=io,e["google.com"]=ia,e["github.com"]=is,e["twitter.com"]=iu;var n=t&&t[ie];try{if(n)return e[n]?new e[n](t):new ii(t);if(void 0!==t[it])return new ir(t)}catch(t){}return null}var it="idToken",ie="providerId";function ir(t){var e=t[ie];if(!e&&t[it]){var n=r3(t[it]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");("anonymous"==e||"custom"==e)&&(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),rh(this,"providerId",e),rh(this,"isNewUser",n)}function ii(t){ir.call(this,t),rh(this,"profile",rp((t=n7(t.rawUserInfo||"{}"))||{}))}function io(t){if(ii.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function is(t){if(ii.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");rh(this,"username",this.profile&&this.profile.login||null)}function ia(t){if(ii.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function iu(t){if(ii.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");rh(this,"username",t.screenName||null)}function ic(t){var e=nl(t),n=nf(e,"link"),r=nf(nl(n),"link");return e=nf(e,"deep_link_id"),nf(nl(e),"link")||e||r||n||t}function ih(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?il:ip}S(ii,ir),S(io,ii),S(is,ii),S(ia,ii),S(iu,ii);var il="enroll",ip="signin";function id(){}function iv(t,e){return t.then(function(t){if(t[o1]){var n=r3(t[o1]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==D+"user-not-found"?new k("user-mismatch"):t})}function iy(t,e){if(e)this.a=e;else throw new k("internal-error","failed to construct a credential");rh(this,"providerId",t),rh(this,"signInMethod",t)}function im(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ig(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new iy(t.providerId,t.pendingToken)}catch(t){}return null}function ib(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&rh(this,"idToken",e.idToken),e.accessToken&&rh(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&rh(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else if(e.oauthToken&&e.oauthTokenSecret)rh(this,"accessToken",e.oauthToken),rh(this,"secret",e.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");rh(this,"providerId",t),rh(this,"signInMethod",n)}function iw(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:n_(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function iI(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ib(t.providerId,e,t.signInMethod)}catch(t){}}return null}function iE(t,e){this.Qc=e||[],rf(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(r8(t)||{}).Ja||null,this.ob=null}function iT(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');iE.call(this,t,[])}function i_(t){iE.call(this,t,r6),this.a=[]}function iA(){i_.call(this,"facebook.com")}function iS(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new iA).credential({accessToken:e})}function iN(){i_.call(this,"github.com")}function ik(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new iN).credential({accessToken:e})}function iO(){i_.call(this,"google.com"),this.Ca("profile")}function iD(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new iO).credential({idToken:n,accessToken:e})}function iP(){iE.call(this,"twitter.com",r5)}function iC(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ib("twitter.com",n,"twitter.com")}function ix(t,e,n){this.a=t,this.f=e,rh(this,"providerId","password"),rh(this,"signInMethod",n===iL.EMAIL_LINK_SIGN_IN_METHOD?iL.EMAIL_LINK_SIGN_IN_METHOD:iL.EMAIL_PASSWORD_SIGN_IN_METHOD)}function iR(t){return t&&t.email&&t.password?new ix(t.email,t.password,t.signInMethod):null}function iL(){rf(this,{providerId:"password",isOAuthProvider:!1})}function iM(t,e){if(!(e=ij(e)))throw new k("argument-error","Invalid email link!");return new ix(t,e.code,iL.EMAIL_LINK_SIGN_IN_METHOD)}function ij(t){return(t=rB(t=ic(t)))&&t.operation===rT?t:null}function iU(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new k("internal-error");this.a=t,rh(this,"providerId","phone"),this.fa="phone",rh(this,"signInMethod","phone")}function iV(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new iU(e)}return null}function iF(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function iG(t){try{this.a=t||r.Z.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rf(this,{providerId:"phone",isOAuthProvider:!1})}function iq(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new iU({eb:t,cb:e})}function iB(t){if(t.temporaryProof&&t.phoneNumber)return new iU({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return iD(o,n);case"facebook.com":return iS(n);case"github.com":return ik(n);case"twitter.com":return iC(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new iy(e,s):new ib(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new i_(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function iz(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function iH(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,this.g||this.a){if(this.g&&this.a||this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}function iK(t){return(t=t||{}).type?new iH(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&O(t.error),t.postBody,t.tenantId):null}function iJ(){this.b=null,this.a=[]}ih.prototype.Ha=function(){return this.a?ef(this.a):ef(this.b)},ih.prototype.w=function(){return this.type==il?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},id.prototype.ka=function(){},id.prototype.b=function(){},id.prototype.c=function(){},id.prototype.w=function(){},iy.prototype.ka=function(t){return sp(t,im(this))},iy.prototype.b=function(t,e){var n=im(this);return n.idToken=e,sd(t,n)},iy.prototype.c=function(t,e){return iv(sv(t,im(this)),e)},iy.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ib.prototype.ka=function(t){return sp(t,iw(this))},ib.prototype.b=function(t,e){var n=iw(this);return n.idToken=e,sd(t,n)},ib.prototype.c=function(t,e){return iv(sv(t,iw(this)),e)},ib.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},iE.prototype.Ka=function(t){return this.Ib=td(t),this},S(iT,iE),S(i_,iE),i_.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},i_.prototype.Qb=function(){return Q(this.a)},i_.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new ib(this.providerId,n,this.providerId)},S(iA,i_),rh(iA,"PROVIDER_ID","facebook.com"),rh(iA,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(iN,i_),rh(iN,"PROVIDER_ID","github.com"),rh(iN,"GITHUB_SIGN_IN_METHOD","github.com"),S(iO,i_),rh(iO,"PROVIDER_ID","google.com"),rh(iO,"GOOGLE_SIGN_IN_METHOD","google.com"),S(iP,iE),rh(iP,"PROVIDER_ID","twitter.com"),rh(iP,"TWITTER_SIGN_IN_METHOD","twitter.com"),ix.prototype.ka=function(t){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?sW(t,sT,{email:this.a,oobCode:this.f}):sW(t,sH,{email:this.a,password:this.f})},ix.prototype.b=function(t,e){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?sW(t,s_,{idToken:e,email:this.a,oobCode:this.f}):sW(t,sj,{idToken:e,email:this.a,password:this.f})},ix.prototype.c=function(t,e){return iv(this.ka(t),e)},ix.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},rf(iL,{PROVIDER_ID:"password"}),rf(iL,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),rf(iL,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),iU.prototype.ka=function(t){return t.fb(iF(this))},iU.prototype.b=function(t,e){var n=iF(this);return n.idToken=e,sW(t,sJ,n)},iU.prototype.c=function(t,e){var n=iF(this);return n.operation="REAUTH",iv(t=sW(t,sX,n),e)},iU.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},iG.prototype.fb=function(t,e){var n=this.a.a;return ef(e.verify()).then(function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==il?i.Ha().then(function(t){return sW(n,sV,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==ip?i.Ha().then(function(e){return sW(n,sF,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then(function(t){return t.phoneResponseInfo.sessionInfo})}):sW(n,sL,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t})}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},rf(iG,{PROVIDER_ID:"phone"}),rf(iG,{PHONE_SIGN_IN_METHOD:"phone"}),iH.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},iH.prototype.T=function(){return this.h},iH.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var iX=null;function iY(t){var e="unauthorized-domain",n=void 0,r=nl(t);t=r.a,"chrome-extension"==(r=r.c)?n=tG("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=tG("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function iW(t,e,n){k.call(this,t,n),(t=e||{}).Jb&&rh(this,"email",t.Jb),t.ea&&rh(this,"phoneNumber",t.ea),t.credential&&rh(this,"credential",t.credential),t.Zb&&rh(this,"tenantId",t.Zb)}function iZ(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:iB(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new iW(e,n,t.message)}return null}function iQ(){}function i$(t){return t.c||(t.c=t.b())}function i0(){}function i1(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function i2(){}function i3(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.qc,this),this.a.onerror=T(this.Sb,this),this.a.onprogress=T(this.rc,this),this.a.ontimeout=T(this.vc,this)}function i4(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function i5(t,e,n){this.reset(t,e,n,void 0,void 0)}S(iY,k),S(iW,k),iW.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&ty(t,e),t},iW.prototype.toJSON=function(){return this.w()},iQ.prototype.c=null,S(i0,iQ),i0.prototype.a=function(){var t=i1(this);return t?new ActiveXObject(t):new XMLHttpRequest},i0.prototype.b=function(){var t={};return i1(this)&&(t[0]=!0,t[1]=!0),t},o$=new i0,S(i2,iQ),i2.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new i3;throw Error("Unsupported browser")},i2.prototype.b=function(){return{}},(i=i3.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},i.send=function(t){if(t){if("string"==typeof t)this.a.send(t);else throw Error("Only string data is supported")}else this.a.send()},i.abort=function(){this.a.abort()},i.setRequestHeader=function(){},i.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},i.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,i4(this,4)},i.Sb=function(){this.status=500,this.response=this.responseText="",i4(this,4)},i.vc=function(){this.Sb()},i.rc=function(){this.status=200,i4(this,1)},i.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},i5.prototype.a=null;var i6=0;function i9(t){this.f=t,this.b=this.c=this.a=null}function i8(t,e){this.name=t,this.value=e}i5.prototype.reset=function(t,e,n,r,i){"number"==typeof i||i6++,r||A(),delete this.a},i8.prototype.toString=function(){return this.name};var i7=new i8("SEVERE",1e3),ot=new i8("WARNING",900),oe=new i8("CONFIG",700),on=new i8("FINE",500);i9.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(j("Root logger has no level set."),null)}(this).value)for(y(e)&&(e=e()),t=new i5(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var or={},oi=null;function oo(t){if(oi||(oi=new i9(""),or[""]=oi,oi.c=oe),!(e=or[t])){e=new i9(t);var e,n=t.lastIndexOf("."),r=t.substr(n+1);(n=oo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,or[t]=e}return e}function os(t,e){t&&t.log(on,e,void 0)}function oa(t){this.f=t}function ou(t){e4.call(this),this.u=t,this.h=void 0,this.readyState=oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(oa,iQ),oa.prototype.a=function(){return new ou(this.f)},oa.prototype.b=(oz={},function(){return oz}),S(ou,e4);var oc=0;function oh(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function of(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ol(t)}function ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function op(t){e4.call(this),this.headers=new nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=od,this.u=this.S=!1}(i=ou.prototype).open=function(t,e){if(this.readyState!=oc)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ol(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},i.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,of(this)),this.readyState=oc},i.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ol(this)),this.a&&(this.readyState=3,ol(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==c.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,oh(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},i.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?of(this):ol(this),3==this.readyState&&oh(this)}},i.tc=function(t){this.a&&(this.response=this.responseText=t,of(this))},i.sc=function(t){this.a&&(this.response=t,of(this))},i.Ua=function(t){var e=this.i;e&&e.log(ot,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&of(this)},i.setRequestHeader=function(t,e){this.l.append(t,e)},i.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ot,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},i.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ot,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(op,e4);var od="";op.prototype.b=oo("goog.net.XhrIo");var ov=/^https?$/i,oy=["POST","PUT"];function om(t){return"content-type"==t.toLowerCase()}function og(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ob(t),oI(t)}function ob(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ow(t){if(t.c&&void 0!==u){if(t.C[1]&&4==oT(t)&&2==o_(t))os(t.b,oA(t,"Local request error detected and ignored"));else if(t.i&&4==oT(t))e8(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==oT(t)){os(t.b,oA(t,"Request complete")),t.c=!1;try{var e,n,r=o_(t);switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.l).match(no)[1]||null;if(!o&&c.self&&c.self.location){var s=c.self.location.protocol;o=s.substr(0,s.length-1)}n=!ov.test(o?o.toLowerCase():"")}e=n}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<oT(t)?t.a.statusText:""}catch(e){os(t.b,"Can not get status: "+e.message),a=""}t.h=a+" ["+o_(t)+"]",ob(t)}}finally{oI(t)}}}}function oI(t,e){if(t.a){oE(t);var n=t.a,r=t.C[0]?p:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(i7,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function oE(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(c.clearTimeout(t.s),t.s=null)}function oT(t){return t.a?t.a.readyState:0}function o_(t){try{return 2<oT(t)?t.a.status:-1}catch(t){return -1}}function oA(t,e){return e+" ["+t.R+" "+t.l+" "+o_(t)+"]"}function oS(t){this.g=[],this.u=oj,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function oN(t,e,n){t.a=!0,t.c=n,t.f=!e,oP(t)}function ok(t){if(t.a){if(!t.v)throw new oC(t);t.v=!1}}function oO(t,e,n,r){t.g.push([e,n,r]),t.a&&oP(t)}function oD(t){return J(t.g,function(t){return y(t[1])})}function oP(t){if(t.h&&t.a&&oD(t)){var e=t.h,n=oL[e];n&&(c.clearTimeout(n.a),delete oL[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(R(e)||"function"==typeof c.Promise&&e instanceof c.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,oD(t)||(n=!0)}}t.c=e,r&&(a=T(t.m,t,!0),r=T(t.m,t,!1),e instanceof oS?(oO(e,a,r),e.C=!0):e.then(a,r)),n&&(oL[(e=new oR(e)).a]=e,t.h=e.a)}function oC(){L.call(this)}function ox(){L.call(this)}function oR(t){this.a=c.setTimeout(T(this.c,this),0),this.b=t}(i=op.prototype).Ma=function(){void 0!==u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,oA(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(){this.a&&this.c&&(os(this.b,oA(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oI(this))},i.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oI(this,!0)),op.ab.Da.call(this)},i.Vb=function(){this.xa||(this.O||this.i||this.f?ow(this):this.Jc())},i.Jc=function(){ow(this)},i.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case od:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(i7,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},oS.prototype.cancel=function(t){if(this.a)this.c instanceof oS&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new ox(this),ok(this),oN(this,!1,t))}},oS.prototype.m=function(t,e){this.i=!1,oN(this,t,e)},oS.prototype.then=function(t,e,n){var r,i,o=new ei(function(t,e){r=t,i=e});return oO(this,r,function(t){t instanceof ox?o.cancel():i(t)}),o.then(t,e,n)},oS.prototype.$goog_Thenable=!0,S(oC,L),oC.prototype.message="Deferred has already fired",oC.prototype.name="AlreadyCalledError",S(ox,L),ox.prototype.message="Deferred was canceled",ox.prototype.name="CanceledError",oR.prototype.c=function(){throw delete oL[this.a],this.b};var oL={};function oM(t){var e,n,r={},i=r.document||document,o=t_(t).toString(),s=t8(document,"SCRIPT"),a={Wb:s,Ma:void 0},u=new oS(a),h=null,p=null!=r.timeout?r.timeout:5e3;return 0<p&&(h=window.setTimeout(function(){oU(s,!0);var t=new oG(oF,"Timeout reached for loading script "+o);ok(u),oN(u,!1,t)},p),a.Ma=h),s.onload=s.onreadystatechange=function(){s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(oU(s,r.xd||!1,h),ok(u),oN(u,!0,null))},s.onerror=function(){oU(s,!0,h);var t=new oG(oV,"Error while loading script "+o);ok(u),oN(u,!1,t)},ty(a=r.attributes||{},{type:"text/javascript",charset:"UTF-8"}),t6(s,a),n=t,tm(s,"HTMLScriptElement"),s.src=t_(n),(n=s.ownerDocument&&s.ownerDocument.defaultView)&&n!=c?n=l(n.document):(null===f&&(f=l(c.document)),n=f),n&&s.setAttribute("nonce",n),((e=(i||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(s),u}function oj(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&oU(t,!0,this.Ma)}}function oU(t,e,n){null!=n&&c.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var oV=0,oF=1;function oG(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function oq(t){this.f=t}function oB(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||o2,this.g=td(t.secureTokenHeaders||o3),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||o4,this.a=td(t.firebaseHeaders||o5),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nJ(),!(n=c.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!nK())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nK()?this.f=new oa(self):nX()?this.f=new oq(n):this.f=new i2,this.b=null}S(oG,L),S(oq,iQ),oq.prototype.a=function(){return new this.f},oq.prototype.b=function(){return{}};var oz,oH,oK,oJ,oX,oY,oW,oZ,oQ,o$,o0,o1="idToken",o2=new rr(3e4,6e4),o3={"Content-Type":"application/x-www-form-urlencoded"},o4=new rr(3e4,6e4),o5={"Content-Type":"application/json"};function o6(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function o9(t,e){e&&(t.l=o8("https://securetoken.googleapis.com/v1/token",e),t.h=o8("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=o8("https://identitytoolkit.googleapis.com/v2/",e))}function o8(t,e){return t=nl(t),e=nl(e.url),t.f=t.a+t.f,na(t,e.c),t.a=e.a,nu(t,e.g),t.toString()}function o7(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function st(t,e,n,r,i,o,s){var a;(!(a=nZ(a=n0())!=nW?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)||!(30>a))&&(!tH||!t3||9<t3)||nK()?t=T(t.u,t):(o0||(o0=new ei(function(t,e){var n,r;n=t,r=e,((window.gapi||{}).client||{}).request?n():(c[sn]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},oO(oM(tA(se,{onload:sn})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))})),t=T(t.s,t)),t(e,n,r,i,o,s)}oB.prototype.T=function(){return this.b},oB.prototype.u=function(t,e,n,r,i,o){if(nK()&&(void 0===c.fetch||void 0===c.Headers||void 0===c.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new op(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout(function(){s.dispatchEvent("timeout")},o)}e5(s,"complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),e6(s,"ready",function(){a&&clearTimeout(a),ek(this)}),e6(s,"timeout",function(){a&&clearTimeout(a),ek(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():o$.a(),t.C=t.D?i$(t.D):i$(o$),t.a.onreadystatechange=T(t.Vb,t);try{os(t.b,oA(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){os(t.b,oA(t,"Error opening Xhr: "+e.message)),og(t,e);return}e=r||"";var o,s=new nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"==typeof t)z(t,e,void 0);else for(var n=ne(t),r=nt(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=om,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=c.FormData&&e instanceof c.FormData,!X(oy,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{oE(t),0<t.g&&(t.u=(o=t.a,tH&&t2(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),os(t.b,oA(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ma,t)):t.s=e8(t.Ma,t.g,t)),os(t.b,oA(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){os(t.b,oA(t,"Send error: "+e.message)),og(t,e)}}(s,t,n,r,i)};var se=new tg(tI,"https://apis.google.com/js/client.js?onload=%{onload}"),sn="__fcb"+Math.floor(1e6*Math.random()).toString();function sr(t,e,n,r,i,o,s){var a=nl(e+n);nh(a,"key",t.c),s&&nh(a,"cb",A().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nh(a,c,i[c]);return new ei(function(e,n){st(t,a.toString(),function(t){t?t.error?n(sQ(t,o||{})):e(t):n(new k("network-request-failed"))},r,u?void 0:nD(n8(i)),t.a,t.v.get())})}function si(t){if("string"!=typeof(t=t.email)||!nq.test(t))throw new k("invalid-email")}function so(t){"email"in t&&si(t)}function ss(t){if(!t[o1]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,td(t));throw new k("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}oB.prototype.s=function(t,e,n,r,i){var o=this;o0.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},oB.prototype.zb=function(){return sW(this,sU,{})},oB.prototype.Bb=function(t,e){return sW(this,sM,{idToken:t,email:e})},oB.prototype.Cb=function(t,e){return sW(this,sj,{idToken:t,password:e})};var su={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sc(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function sh(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function sf(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&nS(t=new nE(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sl(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=iZ(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=iZ(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=iZ(t)):t.errorMessage&&(e=sZ(t.errorMessage)),e)throw e;ss(t)}function sp(t,e){return e.returnIdpCredential=!0,sW(t,sG,e)}function sd(t,e){return e.returnIdpCredential=!0,sW(t,sB,e)}function sv(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,sW(t,sq,e)}function sy(t){if(!t.oobCode)throw new k("invalid-action-code")}(i=oB.prototype).Db=function(t,e){var n={idToken:t},r=[];return tl(su,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),sW(this,sM,n)},i.vb=function(t,e){return ty(t={requestType:"PASSWORD_RESET",email:t},e),sW(this,sP,t)},i.wb=function(t,e){return ty(t={requestType:"EMAIL_SIGNIN",email:t},e),sW(this,sk,t)},i.ub=function(t,e){return ty(t={requestType:"VERIFY_EMAIL",idToken:t},e),sW(this,sO,t)},i.Eb=function(t,e,n){return ty(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),sW(this,sD,t)},i.fb=function(t){return sW(this,sK,t)},i.nb=function(t,e){return sW(this,sR,{oobCode:t,newPassword:e})},i.Ra=function(t){return sW(this,sg,{oobCode:t})},i.jb=function(t){return sW(this,sm,{oobCode:t})};var sm={endpoint:"setAccountInfo",A:sy,Z:"email",B:!0},sg={endpoint:"resetPassword",A:sy,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},sb={endpoint:"signupNewUser",A:function(t){if(si(t),!t.password)throw new k("weak-password")},G:ss,V:!0,B:!0},sw={endpoint:"createAuthUri",B:!0},sI={endpoint:"deleteAccount",N:["idToken"]},sE={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},sT={endpoint:"emailLinkSignin",N:["email","oobCode"],A:si,G:ss,V:!0,B:!0},s_={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:si,G:ss,V:!0},sA={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:sc,G:ss,B:!0,Na:!0},sS={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:sc,G:ss,B:!0,Na:!0},sN={endpoint:"getAccountInfo"},sk={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");si(t)},Z:"email",B:!0},sO={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},sD={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},sP={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");si(t)},Z:"email",B:!0},sC={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},sx={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},sR={endpoint:"resetPassword",A:sy,Z:"email",B:!0},sL={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},sM={endpoint:"setAccountInfo",N:["idToken"],A:so,V:!0},sj={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(so(t),!t.password)throw new k("weak-password")},G:ss,V:!0},sU={endpoint:"signupNewUser",G:ss,V:!0,B:!0},sV={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},sF={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},sG={endpoint:"verifyAssertion",A:sh,Ya:sf,G:sl,V:!0,B:!0},sq={endpoint:"verifyAssertion",A:sh,Ya:sf,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw sZ(t.errorMessage);ss(t)},V:!0,B:!0},sB={endpoint:"verifyAssertion",A:function(t){if(sh(t),!t.idToken)throw new k("internal-error")},Ya:sf,G:sl,V:!0},sz={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:ss,V:!0,B:!0},sH={endpoint:"verifyPassword",A:function(t){if(si(t),!t.password)throw new k("wrong-password")},G:ss,V:!0,B:!0},sK={endpoint:"verifyPhoneNumber",A:sa,G:ss,B:!0},sJ={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");sa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",iZ(t);ss(t)}},sX={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sa,G:ss,B:!0},sY={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[o1]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function sW(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return el(new k("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return ef(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),i?sr(t,t.i,e.endpoint,o,n,e.Hb,e.lb||!1):sr(t,t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]})}function sZ(t){return sQ({error:{errors:[{message:t}],code:400,message:t}})}function sQ(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ty(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=n9(t)),new k("internal-error",e)}function s$(t){var e;this.b=t,this.a=null,this.rb=(e=this,(s3||(s3=new ei(function(t,e){function n(){rn(),n1("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){rn(),e(Error("Network Error"))},timeout:s1.get()})}if(n1("gapi.iframes.Iframe"))t();else if(n1("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){n1("gapi.load")?n():e(Error("Network Error"))},ef(oM(r=tA(s0,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw s3=null,t}))).then(function(){return new ei(function(t,n){n1("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},s2.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})}))}var s0=new tg(tI,"https://apis.google.com/js/api.js?onload=%{onload}"),s1=new rr(3e4,6e4),s2=new rr(5e3,15e3),s3=null;function s4(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?np((t=nl(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):np("https",this.l,null,"/__/auth/iframe"),this.a=t,nh(this.a,"apiKey",this.h),nh(this.a,"appName",this.i),this.b=null,this.c=[]}function s5(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function s6(t){try{return r.Z.app(t).auth().Ga()}catch(t){return[]}}function s9(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function s8(t){var e=nM();return sW(t,sC,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{var n=nl(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n;if(s=0==o.indexOf("chrome-extension://")?nl(o).a==s&&"chrome-extension"==r:("http"==r||"https"==r)&&(nG.test(o)?s==o:RegExp("^(.+\\."+(o=o.split(".").join("\\."))+"|"+o+")$","i").test(s))){t=!0;break t}}t=!1}if(!t)throw new iY(nM())})}function s7(t){return t.m||(t.m=nB().then(function(){if(!t.u){var e=t.c,n=t.i,r=s6(t.b),i=new s4(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new s$(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(n=0,e=iK(e.authEvent);n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ef(n)}return n.status="ERROR",ef(n)})}(t)})),t.m}function at(t){return t.l||(t.C=t.c?n$(t.c,s6(t.b)):null,t.l=new oB(t.g,x(t.i),t.C),t.f&&o9(t.l,t.f)),t.l}function ae(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new s5(t,e,n,r,i,f)).l=o,t.g=s,t.i=a,t.b=td(u||null),t.f=c,t.yb(h).toString()}function an(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ar(t){this.b=t,this.a={},this.f=T(this.c,this)}s4.prototype.toString=function(){return this.f?nh(this.a,"v",this.f):nA(this.a.b,"v"),this.b?nh(this.a,"eid",this.b):nA(this.a.b,"eid"),this.c.length?nh(this.a,"fw",this.c.join(",")):nA(this.a.b,"fw"),this.a.toString()},s5.prototype.yb=function(t){return this.h=t,this},s5.prototype.toString=function(){if(this.v){var t=nl(this.v.url);t=np(t.c,t.a,t.g,"/emulator/auth/handler")}else t=np("https",this.u,null,"/__/auth/handler");if(nh(t,"apiKey",this.s),nh(t,"appName",this.c),nh(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(t){n=null}for(var i in e.ob=n,nh(t,"providerId",this.a.providerId),e=n8((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=td(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),tp(e)||nh(t,"customParameters",n9(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&nh(t,"scopes",n.join(",")),this.l?nh(t,"redirectUrl",this.l):nA(t.b,"redirectUrl"),this.g?nh(t,"eventId",this.g):nA(t.b,"eventId"),this.i?nh(t,"v",this.i):nA(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!nf(t,a)&&nh(t,a,this.b[a]);return this.h?nh(t,"tid",this.h):nA(t.b,"tid"),this.f?nh(t,"eid",this.f):nA(t.b,"eid"),(a=s6(this.c)).length&&nh(t,"fw",a.join(",")),t.toString()},(i=s9.prototype).Ob=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){var n;(n={type:"webStorageSupport"},s7(o).then(function(){var t;return(t=o.v).rb.then(function(){return new ei(function(e){t.a.send(n.type,n,e,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then(function(n){n||(t&&nV(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return new ei(function(e){return function n(){e7(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}).then(function(){if(!s)return e7(n).then(function(){e(r)})})},i.Xb=function(){var t=n0();return!n6(t)&&!re(t)},i.Tb=function(){return!1},i.Mb=function(t,e,n,r,i,o,s,a){if(!t)return el(new k("popup-blocked"));if(s&&!n6())return this.ma().o(function(e){nV(t),i(e)}),r(),ef();this.a||(this.a=s8(at(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw nV(t),i(e),e});return r(),e}).then(function(){iz(n),s||nj(ae(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},i.Nb=function(t,e,n,r){this.a||(this.a=s8(at(this)));var i=this;return this.a.then(function(){iz(e),nj(ae(i.s,i.g,i.b,t,e,nM(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},i.ma=function(){var t=this;return s7(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new k("network-request-failed")})},i.$b=function(){return!0},i.Ea=function(t){this.h.push(t)},i.Sa=function(t){W(this.h,function(e){return e==t})},(i=an.prototype).get=function(t){return ef(this.a.getItem(t)).then(function(t){return t&&n7(t)})},i.set=function(t,e){return ef(this.a.setItem(t,n9(e)))},i.U=function(t){return ef(this.a.removeItem(t))},i.ca=function(){},i.ia=function(){};var ai=[];function ao(t,e,n){tp(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function as(t){this.a=t}function aa(t){this.c=t,this.b=!1,this.a=[]}function au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return el(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ei(function(n,r){f?(i=Math.floor(1e20*Math.random()).toString(),f.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(e){return ac(t,c),e}).o(function(e){throw ac(t,c),e})}function ac(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,function(t){return t==e})}}function ah(){if(!ap())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e=this;nK()&&self?(this.v=function(){var t=nK()?self:null;if(z(ai,function(n){n.b==t&&(e=n)}),!e){var e=new ar(t);ai.push(e)}return e}(),ao(this.v,"keyChanged",function(t,n){return ag(e).then(function(t){return 0<t.length&&z(e.a,function(e){e(t)}),{keyProcessed:X(t,n.key)}})}),ao(this.v,"ping",function(){return ef(["keyChanged"])})):((t=c.navigator)&&t.serviceWorker?ef().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ef(null)).then(function(t){(e.h=t)&&(e.g=new aa(new as(t)),au(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function af(t){return t.i||(t.i=function t(e){return new ei(function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):new ei(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(t){n(Error(t.target.error))}}).then(function(){return t(e)}).then(function(t){n(t)}).o(function(t){r(t)})}})}(t)),t.i}function al(t,e){var n=0;return new ei(function r(i,o){af(t).then(e).then(i).o(function(e){if(!(3<++n))return af(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function ap(){try{return!!c.indexedDB}catch(t){return!1}}function ad(t){return t.objectStore("firebaseLocalStorage")}function av(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ay(t){return new ei(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function am(t,e){var n;return t.g&&t.h&&((n=c.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?au(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ef()}function ag(t){return af(t).then(function(t){var e=ad(av(t,!1));return e.getAll?ay(e.getAll()):new ei(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function ab(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function aw(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ef().then(function(){if(ap()){var t=rt(),r="__sak"+t;return ak||(ak=new ah),(n=ak).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function aI(){this.a={},this.type="inMemory"}function aE(){if(!function(){var t="Node"==nJ();if(!(t=aT()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==nJ())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=aT()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function aT(){try{var t=c.localStorage,e=rt();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function a_(){this.type="nullStorage"}function aA(){if(!function(){var t="Node"==nJ();if(!(t=aS()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==nJ())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=aS()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function aS(){try{var t=c.sessionStorage,e=rt();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function aN(){var t={};t.Browser=aD,t.Node=aP,t.ReactNative=aC,t.Worker=ax,this.a=t[nJ()]}ar.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(ef().then(function(){return e(t.origin,t.data.data)}))}),ed(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},as.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},aa.prototype.close=function(){for(;0<this.a.length;)ac(this,this.a[0]);this.b=!0},(i=ah.prototype).set=function(t,e){var n=this,r=!1;return al(this,function(e){return ay((e=ad(av(e,!0))).get(t))}).then(function(i){return al(n,function(o){if(o=ad(av(o,!0)),i)return i.value=e,ay(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,ay(o.add(s))})}).then(function(){return n.c[t]=e,am(n,t)}).oa(function(){r&&n.b--})},i.get=function(t){return al(this,function(e){return ay(ad(av(e,!1)).get(t))}).then(function(t){return t&&t.value})},i.U=function(t){var e=this,n=!1;return al(this,function(r){return n=!0,e.b++,ay(ad(av(r,!0)).delete(t))}).then(function(){return delete e.c[t],am(e,t)}).oa(function(){n&&e.b--})},i.ca=function(t){var e;0==this.a.length&&(e=this,ab(e),function t(){e.f=setTimeout(function(){e.l=ag(e).then(function(t){0<t.length&&z(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()),this.a.push(t)},i.ia=function(t){W(this.a,function(e){return e==t}),0==this.a.length&&ab(this)},(i=aw.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},i.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},i.U=function(t){return this.b.then(function(e){return e.U(t)})},i.ca=function(t){this.a.push(t)},i.ia=function(t){W(this.a,function(e){return e==t})},(i=aI.prototype).get=function(t){return ef(this.a[t])},i.set=function(t,e){return this.a[t]=e,ef()},i.U=function(t){return delete this.a[t],ef()},i.ca=function(){},i.ia=function(){},(i=aE.prototype).get=function(t){var e=this;return ef().then(function(){return n7(e.a.getItem(t))})},i.set=function(t,e){var n=this;return ef().then(function(){var r=n9(e);null===r?n.U(t):n.a.setItem(t,r)})},i.U=function(t){var e=this;return ef().then(function(){e.a.removeItem(t)})},i.ca=function(t){c.window&&eK(c.window,"storage",t)},i.ia=function(t){c.window&&eY(c.window,"storage",t)},(i=a_.prototype).get=function(){return ef(null)},i.set=function(){return ef()},i.U=function(){return ef()},i.ca=function(){},i.ia=function(){},(i=aA.prototype).get=function(t){var e=this;return ef().then(function(){return n7(e.a.getItem(t))})},i.set=function(t,e){var n=this;return ef().then(function(){var r=n9(e);null===r?n.U(t):n.a.setItem(t,r)})},i.U=function(t){var e=this;return ef().then(function(){e.a.removeItem(t)})},i.ca=function(){},i.ia=function(){};var ak,aO,aD={F:aE,bb:aA},aP={F:aE,bb:aA},aC={F:an,bb:a_},ax={F:aE,bb:a_},aR={rd:"local",NONE:"none",td:"session"};function aL(){var t=!!(!re(n0())&&nH()),e=n6(),n=n2();this.m=t,this.h=e,this.l=n,this.a={},aO||(aO=new aN),t=aO;try{this.g=!nL()&&rs()||!c.indexedDB?new t.a.F:new aw(nK()?new aI:new t.a.F)}catch(t){this.g=new aI,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new aI}this.v=new aI,this.f=T(this.Yb,this),this.b={}}function aM(){return t||(t=new aL),t}function aj(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function aU(t,e){return"firebase:"+t.name+(e?":"+e:"")}function aV(t,e,n){return n=aU(e,n),"local"==e.F&&(t.b[n]=null),aj(t,e.F).U(n)}function aF(t){t.c&&(clearInterval(t.c),t.c=null)}function aG(t){this.a=t,this.b=aM()}(i=aL.prototype).get=function(t,e){return aj(this,t.F).get(aU(t,e))},i.set=function(t,e,n){var r=aU(t,n),i=this,o=aj(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},i.addListener=function(t,e,n){var r;t=aU(t,e),this.l&&(this.b[t]=c.localStorage.getItem(t)),tp(this.a)&&(aj(this,"local").ca(this.f),this.h||(nL()||!rs())&&c.indexedDB||!this.l||(r=this,aF(r),r.c=setInterval(function(){for(var t in r.a){var e=c.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new eR({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Yb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},i.removeListener=function(t,e,n){t=aU(t,e),this.a[t]&&(W(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),tp(this.a)&&(aj(this,"local").ia(this.f),aF(this))},i.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=c.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?aj(this,"local").ia(this.f):aF(this),this.m){if(n=c.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?c.localStorage.setItem(e,r):c.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return}var o=this;n=function(){(void 0!==t.a.a||o.b[e]!==c.localStorage.getItem(e))&&(o.b[e]=c.localStorage.getItem(e),o.mb(e))},tH&&t3&&10==t3&&c.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,T(this.mb,this))},i.mb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var aq={name:"authEvent",F:"local"};function aB(){this.a=aM()}function az(t,n){this.b=aH,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=n,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===e&&(e=c.Int32Array?new Int32Array(aQ):aQ),this.reset()}S(az,function(){this.b=-1});for(var aH=64,aK=aH-1,aJ=[],aX=0;aX<aK;aX++)aJ[aX]=0;var aY=Z(128,aJ);function aW(t){for(var n=t.f,r=t.l,i=0,o=0;o<n.length;)r[i++]=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],o=4*i;for(n=16;64>n;n++){o=0|r[n-15],i=0|r[n-2];var s=(0|r[n-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|r[n-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;r[n]=s+a|0}i=0|t.a[0],o=0|t.a[1];var u=0|t.a[2],c=0|t.a[3],h=0|t.a[4],f=0|t.a[5],l=0|t.a[6];for(n=0,s=0|t.a[7];64>n;n++){var p=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&u^o&u)|0;a=h&f^~h&l,a=(s=s+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))|0)+((a=a+(0|e[n])|0)+(0|r[n])|0)|0,s=l,l=f,f=h,h=c+a|0,c=u,u=o,o=i,i=a+p|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+h|0,t.a[5]=t.a[5]+f|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+s|0}function aZ(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(aW(t),i=0);else if(v(e))for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(aW(t),i=0)}else throw Error("message must be string or array");t.c=i,t.g+=n}az.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Q(this.h)};var aQ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function a$(){az.call(this,8,a0)}S(a$,az);var a0=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function a1(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new aB,this.g=new aG(this.h),this.f=null,this.b=[],this.a=this.c=null}function a2(t){return new k("invalid-cordova-configuration",t)}function a3(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function a4(t){return t.f||(t.f=t.ma().then(function(){return new ei(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){o=!0,s&&s.cancel(),a5(t).then(function(n){var r=i;if(n&&e&&e.url){var o=null;-1!=(r=ic(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=n7(nf(o=nl(r),"firebaseError")||null))?O(o):null)?new iH(n.c,n.b,null,null,o,null,n.T()):new iH(n.c,n.b,r,n.f,null,null,n.T())),r=o||i}a3(t,r)})}var n,r,i=new iH("unknown",null,null,null,new k("no-auth-event")),o=!1,s=e7(500).then(function(){return a5(t).then(function(){o||a3(t,i)})}),a=c.handleOpenURL;c.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(n1("BuildInfo.packageName",c).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},iX||(iX=new iJ),n=e,(r=iX).a.push(n),r.b||(r.b=function(t){for(var e=0;e<r.a.length;e++)r.a[e](t)},"function"==typeof(n=n1("universalLinks.subscribe",c))&&n(null,r.b))}(t)})})),t.f}function a5(t){var e,n=null;return(e=t.g).b.get(aq,e.a).then(function(t){return iK(t)}).then(function(e){return n=e,aV((e=t.g).b,aq,e.a)}).then(function(){return n})}function a6(t){this.a=t,this.b=aM()}(i=a1.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(nz(void 0)?nB().then(function(){return new ei(function(t,e){var n=c.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):el(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof n1("universalLinks.subscribe",c))throw a2("cordova-universal-links-plugin-fix is not installed");if(void 0===n1("BuildInfo.packageName",c))throw a2("cordova-plugin-buildinfo is not installed");if("function"!=typeof n1("cordova.plugins.browsertab.openUrl",c))throw a2("cordova-plugin-browsertab is not installed");if("function"!=typeof n1("cordova.InAppBrowser.open",c))throw a2("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})},i.Ob=function(t,e){return e(new k("operation-not-supported-in-this-environment")),ef()},i.Mb=function(){return el(new k("operation-not-supported-in-this-environment"))},i.$b=function(){return!1},i.Xb=function(){return!0},i.Tb=function(){return!0},i.Nb=function(t,e,n,r){if(this.c)return el(new k("redirect-operation-pending"));var i=this,o=c.document,s=null,a=null,u=null,h=null;return this.c=ef().then(function(){return iz(e),a4(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new iH(e,r,null,o,new k("no-auth-event"),null,i),a=n1("BuildInfo.packageName",c);if("string"!=typeof a)throw new k("invalid-cordova-configuration");var u=n1("BuildInfo.displayName",c),h={};if(n0().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!n0().toLowerCase().match(/android/))return el(new k("operation-not-supported-in-this-environment"));h.apn=a}u&&(h.appDisplayName=u),o=function(t){var e=new a$;aZ(e,t),t=[];var n=8*e.g;56>e.c?aZ(e,aY,56-e.c):aZ(e,aY,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(aW(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(o),h.sessionId=o;var f=ae(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(aq,s.w(),e)}).then(function(){var e=n1("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=n1("cordova.plugins.browsertab.openUrl",c)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=n1("cordova.InAppBrowser.open",c)))throw new k("invalid-cordova-configuration");e=n0(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ei(function(t,e){a=function(){var e=n1("cordova.plugins.browsertab.close",c);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),u=function(){s||(s=e7(2e3).then(function(){e(new k("redirect-cancelled-by-user"))}))},h=function(){ri()&&u()},o.addEventListener("resume",u,!1),n0().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)}).o(function(t){return a5(i).then(function(){throw t})})}).oa(function(){u&&o.removeEventListener("resume",u,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),a&&i.Sa(a),i.c=null})},i.Ea=function(t){this.b.push(t),a4(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&t(e=new iH("unknown",null,null,null,new k("no-auth-event")))})},i.Sa=function(t){W(this.b,function(e){return e==t})};var a9={name:"pendingRedirect",F:"session"};function a8(t){return aV(t.b,a9,t.a)}function a7(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new ud,this.C=new ub,this.g=new a6(ul(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ut(this.D,this.v,this.m,oH,this.J)}function ut(t,e,n,i,o){var s=r.Z.SDK_VERSION||null;return nz()?new a1(t,e,n,s,i,o):new s9(t,e,n,s,i,o)}function ue(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function un(t){t.a.Xb()&&ue(t).o(function(e){var n=new iH("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));uu(e)&&t.s(n)}),t.a.Tb()||uv(t.b)}function ur(t,e){var n;X(t.h,e)||t.h.push(e),t.f||(n=t.g).b.get(a9,n.a).then(function(t){return"pending"==t}).then(function(e){e?a8(t.g).then(function(){ue(t).o(function(e){var n=new iH("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));uu(e)&&t.s(n)})}):un(t)}).o(function(){un(t)})}function ui(t,e){W(t.h,function(t){return t==e})}a7.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=ut(this.D,this.v,this.m,null,this.J),this.i={}},a7.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=A()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=A())),e=!0;break}}return uv(this.b),e};var uo=new rr(2e3,1e4),us=new rr(3e4,6e4);function ua(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function uu(t){return!!t&&"auth/cordova-not-ready"==t.code}function uc(t,e,n,r,i){var o,s;return(s=t.g).b.set(a9,"pending",s.a).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(uu(e))throw new k("operation-not-supported-in-this-environment");return o=e,a8(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new ei(function(){}):a8(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function uh(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},uo.get())}a7.prototype.qa=function(){return this.b.qa()};var uf={};function ul(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function up(t,e,n,r){var i=ul(e,n,r);return uf[i]||(uf[i]=new a7(t,e,n,r)),uf[i]}function ud(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uv(t){t.g||(t.g=!0,ug(t,!1,null,null))}function uy(t){t.g&&!t.i&&ug(t,!1,null,null)}function um(t,e){if(t.b=function(){return ef(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ug(t,e,n,r){e?r?function(t,e){if(t.b=function(){return el(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):um(t,n):um(t,{user:null}),t.f=[],t.c=[]}function ub(){}function uw(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function uI(t,e){this.a=e,rh(this,"verificationId",t)}function uE(t,e,n,r){return new iG(t).fb(e,n).then(function(t){return new uI(t,r)})}function uT(t){var e=r4(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");rf(this,{token:t,expirationTime:ro(1e3*e.exp),authTime:ro(1e3*e.auth_time),issuedAtTime:ro(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function u_(t,e,n){var r=e&&e[uS];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=td(e),this.g=n,this.c=new ih(null,r),this.b=[];var i=this;z(e[uA]||[],function(t){(t=rv(t))&&i.b.push(t)}),rh(this,"auth",this.a),rh(this,"session",this.c),rh(this,"hints",this.b)}ud.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ud.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(ug(this,!0,null,t.a),ef()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){ug(t,a,e,null)}).o(function(e){ug(t,a,null,e)})}(this,t,e):el(new k("invalid-auth-event")):(ug(this,!1,null,null),ef())}else el(new k("invalid-auth-event"))},ud.prototype.qa=function(){var t=this;return new ei(function(e,n){var r;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=new k("timeout"),t.a&&t.a.cancel(),t.a=e7(us.get()).then(function(){t.b||(t.g=!0,ug(t,!0,null,r))}))})},ub.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ef()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):el(new k("invalid-auth-event"))}else el(new k("invalid-auth-event"))},uI.prototype.confirm=function(t){return t=iq(this.verificationId,t),this.a(t)};var uA="mfaInfo",uS="mfaPendingCredential";function uN(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new u_(t,e,n),rh(this,"resolver",this.b)}function uk(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new uN(e,t.serverResponse,n,t.message)}catch(t){}return null}function uO(){}function uD(t){rh(this,"factorId",t.fa),this.a=t}function uP(t){if(uD.call(this,t),this.a.fa!=iG.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uC(t,e){for(var n in ex.call(this,t),e)this[n]=e[n]}function ux(t,e){this.a=t,this.b=[],this.c=T(this.yc,this),eK(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[rg]=t.uid),t.displayName&&(r[ry]=t.displayName),t.enrollmentTime&&(r[rm]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[rb]=t.phoneNumber);try{e=new rw(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),uR(this,n)}function uR(t,e){t.b=e,rh(t,"enrolledFactors",e)}function uL(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uM(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function uj(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function uU(t,e){t.b=r3(e[o1]||""),t.a=e.refreshToken,uj(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function uV(t,e){this.a=t||null,this.b=e||null,rf(this,{lastSignInTime:ro(e||null),creationTime:ro(t||null)})}function uF(t,e,n,r,i,o){rf(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function uG(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i,o=r.Z.SDK_VERSION?n$(r.Z.SDK_VERSION):null;this.a=new oB(this.l,x(oH),o),t.emulatorConfig&&o9(this.a,t.emulatorConfig),this.b=new uM(this.a),uY(this,e[o1]),uU(this.b,e),rh(this,"refreshToken",this.b.a),uQ(this,n||{}),e4.call(this),this.R=!1,this.s&&n3()&&(this.i=up(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(i=this,new uL(function(){return i.I(!0)},function(t){return!!t&&"auth/network-request-failed"==t.code},function(){var t=i.b.c-Date.now()-3e5;return 0<t?t:0})),this.aa=T(this.hb,this);var s=this;this.ya=null,this.Oa=function(t){s.wa(t.h)},this.ja=null,this.Aa=function(t){o9(s.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){uz(s,t.f)},this.ba=null,this.O=new ux(this,n),rh(this,"multiFactor",this.O)}function uq(t,e){t.ja&&eY(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&eK(e,"languageCodeChanged",t.Oa)}function uB(t,e){t.X&&eY(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&eK(e,"emulatorConfigChanged",t.Aa)}function uz(t,e){t.$=e,o7(t.a,r.Z.SDK_VERSION?n$(r.Z.SDK_VERSION,t.$):null)}function uH(t,e){t.ba&&eY(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&eK(e,"frameworkChanged",t.Ba)}function uK(t){try{return r.Z.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function uJ(t){t.D||t.u.b||(t.u.start(),eY(t,"tokenChanged",t.aa),eK(t,"tokenChanged",t.aa))}function uX(t){eY(t,"tokenChanged",t.aa),t.u.stop()}function uY(t,e){t.za=e,rh(t,"_lat",e)}function uW(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return ed(e).then(function(){return t})}function uZ(t){t.i&&!t.R&&(t.R=!0,ur(t.i,t))}function uQ(t,e){rf(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new uV(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function u$(){}function u0(t){return ef().then(function(){if(t.D)throw new k("app-deleted")})}function u1(t){return K(t.providerData,function(t){return t.providerId})}function u2(t,e){e&&(u3(t,e.providerId),t.providerData.push(e))}function u3(t,e){W(t.providerData,function(t){return t.providerId==e})}function u4(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&rh(t,e,n)}function u5(t,e){var n,r,i;t!=e&&(rf(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?rh(t,"metadata",new uV((n=e.metadata).a,n.b)):rh(t,"metadata",new uV),z(e.providerData,function(e){u2(t,e)}),r=t.b,i=e.b,r.b=i.b,r.a=i.a,r.c=i.c,rh(t,"refreshToken",t.b.a),uR(t.O,e.O.b))}function u6(t){return t.I().then(function(e){var n=t.isAnonymous;return sW(t.a,sN,{idToken:e}).then(T(t.Kc,t)).then(function(){return n||u4(t,"isAnonymous",!1),e})})}function u9(t,e){e[o1]&&t.za!=e[o1]&&(uU(t.b,e),t.dispatchEvent(new uC("tokenChanged")),uY(t,e[o1]),u4(t,"refreshToken",t.b.a))}function u8(t,e){return u6(t).then(function(){if(X(u1(t),e))return uW(t).then(function(){throw new k("provider-already-linked")})})}function u7(t,e,n){return rl({user:t,credential:iB(e),additionalUserInfo:e=r7(e),operationType:n})}function ct(t,e){return u9(t,e),t.reload().then(function(){return t})}function ce(t,e,n,i,o){if(!n3())return el(new k("operation-not-supported-in-this-environment"));if(t.h&&!o)return el(t.h);var s=r8(n.providerId),a=rt(t.uid+":::"),u=null;(!n6()||nH())&&t.s&&n.isOAuthProvider&&(u=ae(t.s,t.l,t.m,e,n,null,a,r.Z.SDK_VERSION||null,null,null,t.tenantId));var c=nF(u,s&&s.ua,s&&s.ta);return i=i().then(function(){if(cr(t),!o)return t.I().then(function(){})}).then(function(){return ua(t.i,c,e,n,a,!!u,t.tenantId)}).then(function(){return new ei(function(n,r){t.na(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=uh(t.i,t,e,c,a)})}).then(function(t){return c&&nV(c),t?rl(t):null}).o(function(t){throw c&&nV(c),t}),ci(t,i,o)}function cn(t,e,n,r,i){if(!n3())return el(new k("operation-not-supported-in-this-environment"));if(t.h&&!i)return el(t.h);var o=null,s=rt(t.uid+":::");return r=r().then(function(){if(cr(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,uW(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(ca,t.w(),e.a)),e}).then(function(){return uc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return cu(t.ha);throw o}).then(function(){if(o)throw o}),ci(t,r,i)}function cr(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function ci(t,e,n){var r=t.h&&!n?(e.cancel(),el(t.h)):e.o(function(e){throw e&&("auth/user-disabled"==e.code||"auth/user-token-expired"==e.code)&&(t.h||t.dispatchEvent(new uC("userInvalidated")),t.h=e),e});return t.J.push(r),r.oa(function(){Y(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=uk(e.w(),uK(t),T(t.jc,t))),n||e})}function co(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[o1]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new uG(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&u2(i,rl(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function cs(t){this.a=t,this.b=aM()}u_.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=td(e.f);return delete n[uA],delete n[uS],ty(n,t),e.g(n)})},S(uN,k),uO.prototype.sb=function(t,e,n){var r,i;return e.type==il?(r=this,e.Ha().then(function(e){return e={idToken:e},void 0!==n&&(e.displayName=n),ty(e,{phoneVerificationInfo:iF(r.a)}),sW(t,sA,e)})):(i=this,e.Ha().then(function(e){return ty(e={mfaPendingCredential:e},{phoneVerificationInfo:iF(i.a)}),sW(t,sS,e)}))},S(uD,uO),S(uP,uD),S(uC,ex),(i=ux.prototype).yc=function(t){var e,n;uR(this,(e=t.hd,n=[],z(e.mfaInfo||[],function(t){(t=rv(t))&&n.push(t)}),n))},i.Rb=function(){return this.a.I().then(function(t){return new ih(t,null)})},i.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return u9(n.a,t),n.a.reload()})},i.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return sW(r,sY,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return uR(e,r),u9(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},i.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},uL.prototype.start=function(){this.a=this.c,function t(e,n){var r;e.stop(),e.b=e7((r=n)?(e.a=e.c,e.g()):(r=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),r)).then(function(){var t,e;return t=c.document,e=null,ri()||!t?ef():new ei(function(n){e=function(){ri()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},uL.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},uM.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},uM.prototype.getToken=function(t){var e,n,r;return t=!!t,this.b&&!this.a?el(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?(e=this,n={grant_type:"refresh_token",refresh_token:this.a},(r=e.f,new ei(function(t,e){"refresh_token"==n.grant_type&&n.refresh_token||"authorization_code"==n.grant_type&&n.code?st(r,r.l+"?key="+encodeURIComponent(r.c),function(n){n?n.error?e(sQ(n)):n.access_token&&n.refresh_token?t(n):e(new k("internal-error")):e(new k("network-request-failed"))},"POST",n_(n).toString(),r.g,r.m.get()):e(new k("internal-error"))})).then(function(t){return e.b=r3(t.access_token),e.a=t.refresh_token,uj(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})):ef(null):ef({accessToken:this.b.toString(),refreshToken:this.a})},uV.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(uG,e4),uG.prototype.wa=function(t){this.ya=t,o6(this.a,t)},uG.prototype.la=function(){return this.ya},uG.prototype.Ga=function(){return Q(this.$)},uG.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},rh(uG.prototype,"providerId","firebase"),(i=uG.prototype).reload=function(){var t=this;return ci(this,u0(this).then(function(){return u6(t).then(function(){return uW(t)}).then(u$)}))},i.oc=function(t){return this.I(t).then(function(t){return new uT(t)})},i.I=function(t){var e=this;return ci(this,u0(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.za&&(uY(e,t.accessToken),e.dispatchEvent(new uC("tokenChanged"))),u4(e,"refreshToken",t.refreshToken),t.accessToken}))},i.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");uQ(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?K(e,function(t){return new uF(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)u2(this,n[r]);u4(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uC("userReloaded",{hd:t}))},i.Lc=function(t){return ru("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},i.tb=function(t){var e=this,n=null;return ci(this,t.c(this.a,this.uid).then(function(t){return u9(e,t),n=u7(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},i.Cc=function(t){return ru("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},i.qb=function(t){var e=this,n=null;return ci(this,u8(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=u7(e,t,"link"),ct(e,t)}).then(function(){return n}))},i.Dc=function(t,e){var n=this;return ci(this,u8(this,"phone").then(function(){return uE(uK(n),t,e,T(n.qb,n))}))},i.Mc=function(t,e){var n=this;return ci(this,ef().then(function(){return uE(uK(n),t,e,T(n.tb,n))}),!0)},i.Bb=function(t){var e=this;return ci(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return u9(e,t),e.reload()}))},i.ed=function(t){var e=this;return ci(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return u9(e,t),e.reload()}))},i.Cb=function(t){var e=this;return ci(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return u9(e,t),e.reload()}))},i.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return u0(this);var e=this;return ci(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return u9(e,t),u4(e,"displayName",t.displayName||null),u4(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(rh(t,"displayName",e.displayName),rh(t,"photoURL",e.photoURL))}),uW(e)}).then(u$))},i.cd=function(t){var e=this;return ci(this,u6(this).then(function(n){return X(u1(e),t)?sW(e.a,sE,{idToken:n,deleteProvider:[t]}).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(u1(e),function(t){n[t]||u3(e,t)}),n[iG.PROVIDER_ID]||rh(e,"phoneNumber",null),uW(e)}):uW(e).then(function(){throw new k("no-such-provider")})}))},i.delete=function(){var t=this;return ci(this,this.I().then(function(e){return sW(t.a,sI,{idToken:e})}).then(function(){t.dispatchEvent(new uC("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");uq(t,null),uB(t,null),uH(t,null),t.J=[],t.D=!0,uX(t),rh(t,"refreshToken",null),t.i&&ui(t.i,t)})},i.Fb=function(t,e){return"linkViaPopup"==t&&(this.g||null)==e&&!!this.f||"reauthViaPopup"==t&&(this.g||null)==e&&!!this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e},i.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},i.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?T(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?T(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?T(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?T(this.Lb,this):null},i.Ec=function(t){var e=this;return ce(this,"linkViaPopup",t,function(){return u8(e,t.providerId).then(function(){return uW(e)})},!1)},i.Nc=function(t){return ce(this,"reauthViaPopup",t,function(){return ef()},!0)},i.Fc=function(t){var e=this;return cn(this,"linkViaRedirect",t,function(){return u8(e,t.providerId)},!1)},i.Oc=function(t){return cn(this,"reauthViaRedirect",t,function(){return ef()},!0)},i.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ci(this,this.I().then(function(n){return sd(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=u7(i,t,"link"),ct(i,t)}).then(function(){return o}))},i.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ci(this,ef().then(function(){return iv(sv(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=u7(i,t,"reauthenticate"),u9(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},i.ub=function(t){var e=this,n=null;return ci(this,this.I().then(function(e){return n=e,void 0===t||tp(t)?{}:r0(new rz(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},i.Eb=function(t,e){var n=this,r=null;return ci(this,this.I().then(function(t){return r=t,void 0===e||tp(e)?{}:r0(new rz(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},i.jc=function(t){var e=null,n=this;return ci(this,t=iv(ef(t),n.uid).then(function(t){return e=u7(n,t,"reauthenticate"),u9(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},i.toJSON=function(){return this.w()},i.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ty(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),ty(t,this.O.w()),t};var ca={name:"redirectUser",F:"session"};function cu(t){return aV(t.b,ca,t.a)}function cc(t){var e,n,r,i,o,s,a,u;this.a=t,this.b=aM(),this.c=null,this.f=(e=this,s=cl("local"),a=cl("session"),u=cl("none"),(n=e.b,i=aU(s,r=e.a),o=aj(n,s.F),n.get(s,r).then(function(t){var e=null;try{e=n7(c.localStorage.getItem(i))}catch(t){}if(e&&!t)return c.localStorage.removeItem(i),n.set(s,e,r);e&&t&&"localStorage"!=o.type&&c.localStorage.removeItem(i)})).then(function(){return e.b.get(a,e.a)}).then(function(t){return t?a:e.b.get(u,e.a).then(function(t){return t?u:e.b.get(s,e.a).then(function(t){return t?s:e.b.get(cf,e.a).then(function(t){return t?cl(t):s})})})}).then(function(t){return e.c=t,ch(e,t.F)}).o(function(){e.c||(e.c=s)})),this.b.addListener(cl("local"),this.a,T(this.g,this))}function ch(t,e){var n,r=[];for(n in aR)aR[n]!==e&&r.push(aV(t.b,cl(aR[n]),t.a));return r.push(aV(t.b,cf,t.a)),new ei(function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},s=function(t){e(t)},a=0;a<r.length;a++)ep(r[a],_(o,a),s);else t(i)})}cc.prototype.g=function(){var t=this,e=cl("local");cy(this,function(){return ef().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return ch(t,"local").then(function(){t.c=e})})})};var cf={name:"persistence",F:"session"};function cl(t){return{name:"authUser",F:t}}function cp(t,e){return cy(t,function(){return t.b.set(t.c,e.w(),t.a)})}function cd(t){return cy(t,function(){return aV(t.b,t.c,t.a)})}function cv(t,e,n){return cy(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),co(t||{})})})}function cy(t,e){return t.f=t.f.then(e,e),t.f}function cm(t){var e,n,i,o,s,a,u,c,h,f;if(this.l=!1,rh(this,"settings",new uw),rh(this,"app",t),cA(this).options&&cA(this).options.apiKey)t=r.Z.SDK_VERSION?n$(r.Z.SDK_VERSION):null,this.a=new oB(cA(this).options&&cA(this).options.apiKey,x(oH),t);else throw new k("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(T(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(T(this.Ac,this)),cT(this,null),this.i=new cc(cA(this).options.apiKey+":"+cA(this).name),this.D=new cs(cA(this).options.apiKey+":"+cA(this).name),this.$=cO(this,(s=this,h=cA(s).options.authDomain,f=(c=(a=s.D,u=cA(s).options.authDomain,a.b.get(ca,a.a).then(function(t){return t&&u&&(t.authDomain=u),co(t||{})})).then(function(t){return(s.m=t)&&(t.ha=s.D),cu(s.D)}),cO(s,c)).then(function(){return cv(s.i,h,s.P)}).then(function(t){return t?(t.ha=s.D,s.m&&(s.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return cp(s.i,t).then(function(){return t})}).o(function(e){return"auth/network-request-failed"==e.code?t:cd(s.i)})):null}).then(function(t){cT(s,t||null)}),cO(s,f))),this.h=cO(this,(e=this,e.$.then(function(){return cE(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cl("local"),t.a,e.ja)}}))),this.ba=!1,this.ja=T(this.Zc,this),this.Ba=T(this.da,this),this.ya=T(this.mc,this),this.za=T(this.wc,this),this.Aa=T(this.xc,this),this.b=null,n=this,i=cA(n).options.authDomain,o=cA(n).options.apiKey,i&&n3()&&(n.Oa=n.$.then(function(){if(!n.l){if(n.b=up(i,o,cA(n).name,n.P),ur(n.b,n),cS(n)&&uZ(cS(n)),n.m){uZ(n.m);var t=n.m;t.wa(n.la()),uq(t,n),uz(t=n.m,n.J),uH(t,n),o9((t=n.m).a,n.P),uB(t,n),n.m=null}return n.b}})),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Gc,this),this.u=0,e4.call(this),Object.defineProperty(this,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),this.aa=null,Object.defineProperty(this,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),this.S=null,Object.defineProperty(this,"emulatorConfig",{get:function(){if(this.P){var t=nl(this.P.url);t=rl({protocol:t.c,host:t.a,port:t.g,options:rl({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1}),this.J=[],this.P=null}function cg(t){ex.call(this,"languageCodeChanged"),this.h=t}function cb(t){ex.call(this,"emulatorConfigChanged"),this.c=t}function cw(t){ex.call(this,"frameworkChanged"),this.f=t}function cI(t){return t.Oa||el(new k("auth-domain-config-required"))}function cE(t){if(!n3())return el(new k("operation-not-supported-in-this-environment"));var e=cI(t).then(function(){return t.b.qa()}).then(function(t){return t?rl(t):null});return cO(t,e)}function cT(t,e){var n,r;cS(t)&&(n=cS(t),r=t.Ba,W(n.S,function(t){return t==r}),eY(cS(t),"tokenChanged",t.ya),eY(cS(t),"userDeleted",t.za),eY(cS(t),"userInvalidated",t.Aa),uX(cS(t))),e&&(e.S.push(t.Ba),eK(e,"tokenChanged",t.ya),eK(e,"userDeleted",t.za),eK(e,"userInvalidated",t.Aa),0<t.u&&uJ(e)),rh(t,"currentUser",e),e&&(e.wa(t.la()),uq(e,t),uz(e,t.J),uH(e,t),o9(e.a,t.P),uB(e,t))}function c_(t,e){var n=null,r=null;return cO(t,e.then(function(e){var i;return n=iB(e),r=r7(e),(i={}).apiKey=cA(t).options.apiKey,i.authDomain=cA(t).options.authDomain,i.appName=cA(t).name,t.P&&(i.emulatorConfig=t.P),t.$.then(function(){var n,r,o;return n=t.D,r=t.Ga(),o=new uG(i,e),n&&(o.ha=n),r&&uz(o,r),o.reload().then(function(){return o})}).then(function(e){return cS(t)&&e.uid==cS(t).uid?u5(cS(t),e):(cT(t,e),uZ(e)),t.da(e)}).then(function(){ck(t)})},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=uk(e.w(),t,T(t.kc,t))),n||e}).then(function(){return rl({user:cS(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function cA(t){return t.app}function cS(t){return t.currentUser}function cN(t){return cS(t)&&cS(t)._lat||null}function ck(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](cN(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](cN(t))}}function cO(t,e){return t.R.push(e),e.oa(function(){Y(t.R,e)}),e}function cD(){}function cP(){this.a={},this.b=1e12}cc.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in aR)if(aR[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(nJ()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ap()&&"none"!==t)throw n;break;default:if(!n2()&&"none"!==t)throw n}}(t),cy(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,ch(n,t)}).then(function(){if(n.c=cl(t),e)return n.b.set(n.c,e,n.a)}):ef()})},S(cm,e4),S(cg,ex),S(cb,ex),S(cw,ex),(i=cm.prototype).xb=function(t){return cO(this,t=this.i.xb(t))},i.wa=function(t){this.aa===t||this.l||(this.aa=t,o6(this.a,this.aa),this.dispatchEvent(new cg(this.la())))},i.la=function(){return this.aa},i.fd=function(){var t=c.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},i.gd=function(t,e){if(!this.P){var n;if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=e=!!e&&!!e.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!n&&nB().then(function(){var t=c.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),c.document.body.appendChild(t)}),this.P={url:t,ec:e},this.settings.ib=!0,o9(this.a,this.P),this.dispatchEvent(new cb(this.P))}},i.Gc=function(t){this.J.push(t),o7(this.a,r.Z.SDK_VERSION?n$(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new cw(this.J))},i.Ga=function(){return Q(this.J)},i.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},i.T=function(){return this.S},i.toJSON=function(){return{apiKey:cA(this).options.apiKey,authDomain:cA(this).options.authDomain,appName:cA(this).name,currentUser:cS(this)&&cS(this).w()}},i.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},i.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},i.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?T(this.ic,this):null},i.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return c_(i,sp(i.a,o))})},i.Xc=function(t){if(!n3())return el(new k("operation-not-supported-in-this-environment"));var e=this,n=r8(t.providerId),i=rt(),o=null;(!n6()||nH())&&cA(this).options.authDomain&&t.isOAuthProvider&&(o=ae(cA(this).options.authDomain,cA(this).options.apiKey,cA(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var s=nF(o,n&&n.ua,n&&n.ta);return cO(this,n=cI(this).then(function(n){return ua(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new ei(function(t,n){e.na("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=uh(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&nV(s),t?rl(t):null}).o(function(t){throw s&&nV(s),t}))},i.Yc=function(t){if(!n3())return el(new k("operation-not-supported-in-this-environment"));var e=this;return cO(this,cI(this).then(function(){var t;return cy(t=e.i,function(){return t.b.set(cf,t.c.F,t.a)})}).then(function(){return uc(e.b,"signInViaRedirect",t,void 0,e.T())}))},i.qa=function(){var t=this;return cE(this).then(function(e){return t.b&&uy(t.b.b),e}).o(function(e){throw t.b&&uy(t.b.b),e})},i.dd=function(t){if(!t)return el(new k("null-user"));if(this.S!=t.tenantId)return el(new k("tenant-id-mismatch"));var e,n,r,i,o,s=this,a={};a.apiKey=cA(this).options.apiKey,a.authDomain=cA(this).options.authDomain,a.appName=cA(this).name;var u=(e=a,n=s.D,r=s.Ga(),i=t.b,(o={})[o1]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new uG(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&uz(e,r),u5(e,t),e);return cO(this,this.h.then(function(){if(cA(s).options.apiKey!=t.l)return u.reload()}).then(function(){return cS(s)&&t.uid==cS(s).uid?(u5(cS(s),t),s.da(t)):(cT(s,u),uZ(u),s.da(u))}).then(function(){ck(s)}))},i.Ab=function(){var t=this;return cO(this,this.h.then(function(){return(t.b&&uy(t.b.b),cS(t))?(cT(t,null),cd(t.i).then(function(){ck(t)})):ef()}))},i.Zc=function(){var t=this;return cv(this.i,cA(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=cS(t)&&e){n=cS(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return u5(cS(t),e),cS(t).I();(cS(t)||e)&&(cT(t,e),e&&(uZ(e),e.ha=t.D),t.b&&ur(t.b,t),ck(t))}})},i.da=function(t){return cp(this.i,t)},i.mc=function(){ck(this),this.da(cS(this))},i.wc=function(){this.Ab()},i.xc=function(){this.Ab()},i.kc=function(t){var e=this;return this.h.then(function(){return c_(e,ef(t))})},i.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(cS(e))})},i.Ac=function(t){var e,n,r=this;e=this,n=function(){t.next(cS(r))},e.O.push(n),cO(e,e.h.then(function(){!e.l&&X(e.O,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(cN(e)))}))},i.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(cS(r)):"function"==typeof t.next&&t.next(cS(r))}),this.hb(t,e,n)},i.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(cS(r)):"function"==typeof t.next&&t.next(cS(r))}),this.bc(t,e,n)},i.nc=function(t){var e=this;return cO(this,this.h.then(function(){return cS(e)?cS(e).I(t).then(function(t){return{accessToken:t}}):null}))},i.Tc=function(t){var e=this;return this.h.then(function(){return c_(e,sW(e.a,sz,{token:t}))}).then(function(t){var n=t.user;return u4(n,"isAnonymous",!1),e.da(n),t})},i.Uc=function(t,e){var n=this;return this.h.then(function(){return c_(n,sW(n.a,sH,{email:t,password:e}))})},i.dc=function(t,e){var n=this;return this.h.then(function(){return c_(n,sW(n.a,sb,{email:t,password:e}))})},i.$a=function(t){var e=this;return this.h.then(function(){return c_(e,t.ka(e.a))})},i.Sc=function(t){return ru("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},i.zb=function(){var t=this;return this.h.then(function(){var e=cS(t);if(e&&e.isAnonymous){var n=rl({providerId:null,isNewUser:!1});return rl({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return c_(t,t.a.zb()).then(function(e){var n=e.user;return u4(n,"isAnonymous",!0),t.da(n),e})})},i.getUid=function(){return cS(this)&&cS(this).uid||null},i.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&cS(this)&&uJ(cS(this))},i.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&cS(this)&&uX(cS(this)),this.removeAuthTokenListener(t)},i.addAuthTokenListener=function(t){var e=this;this.s.push(t),cO(this,this.h.then(function(){e.l||X(e.s,t)&&t(cN(e))}))},i.removeAuthTokenListener=function(t){W(this.s,function(e){return e==t})},i.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(cl("local"),t.a,this.ja),this.b&&(ui(this.b,this),uy(this.b.b)),Promise.resolve()},i.hc=function(t){return cO(this,sW(this.a,sw,{identifier:t,continueUri:n4()?nM():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},i.Bc=function(t){return!!ij(t)},i.wb=function(t,e){var n=this;return cO(this,ef().then(function(){var t=new rz(e);if(!t.c)throw new k("argument-error",rJ+" must be true when sending sign in link to email");return r0(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},i.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},i.nb=function(t,e){return cO(this,this.a.nb(t,e).then(function(){}))},i.Ra=function(t){return cO(this,this.a.Ra(t).then(function(t){return new rI(t)}))},i.jb=function(t){return cO(this,this.a.jb(t).then(function(){}))},i.vb=function(t,e){var n=this;return cO(this,ef().then(function(){return void 0===e||tp(e)?{}:r0(new rz(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},i.Wc=function(t,e){return cO(this,uE(this,t,e,T(this.$a,this)))},i.Vc=function(t,e){var n=this;return cO(this,ef().then(function(){var r=e||nM(),i=iM(t,r);if(!(r=ij(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)}))},cD.prototype.render=function(){},cD.prototype.reset=function(){},cD.prototype.getResponse=function(){},cD.prototype.execute=function(){};var cC=null;function cx(t,e){return(e=cR(e))&&t.a[e]||null}function cR(t){return(t=void 0===t?1e12:t)?t.toString():null}function cL(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=t5(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():eK(this.f,"click",this.i)}function cM(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function cj(){}function cU(){}cP.prototype.render=function(t,e){return this.a[this.b.toString()]=new cL(t,e),this.b++},cP.prototype.reset=function(t){var e=cx(this,t);t=cR(t),e&&t&&(e.delete(),delete this.a[t])},cP.prototype.getResponse=function(t){return(t=cx(this,t))?t.getResponse():null},cP.prototype.execute=function(t){(t=cx(this,t))&&t.execute()},cL.prototype.getResponse=function(){return cM(this),this.b},cL.prototype.execute=function(){cM(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},cL.prototype.delete=function(){cM(this),this.g=!0,clearTimeout(this.a),this.a=null,eY(this.f,"click",this.i)},rh(cj,"FACTOR_ID","phone"),cU.prototype.g=function(){return cC||(cC=new cP),ef(cC)},cU.prototype.c=function(){};var cV=null;function cF(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cG=new tg(tI,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cq=new rr(3e4,6e4);cF.prototype.g=function(t){var e=this;return new ei(function(n,r){var i=setTimeout(function(){r(new k("network-request-failed"))},cq.get());c.grecaptcha&&(t===e.f||e.b)?(clearTimeout(i),n(c.grecaptcha)):(c[e.a]=function(){if(c.grecaptcha){e.f=t;var o=c.grecaptcha.render;c.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(c.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete c[e.a]},ef(oM(tA(cG,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))})},cF.prototype.c=function(){this.b--};var cB=null;function cz(t,e,n,r,i,o,s){if(rh(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(cV||(cV=new cU),s=cV):(cB||(cB=new cF),s=cB),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[cJ])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[cX],!c.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!t5(e)||!this.i&&t5(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oB(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var u=this.a[cH];this.a[cH]=function(t){if(cY(a,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=n1(u,c);"function"==typeof e&&e(t)}};var h=this.a[cK];this.a[cK]=function(){if(cY(a,null),"function"==typeof h)h();else if("string"==typeof h){var t=n1(h,c);"function"==typeof t&&t()}}}var cH="callback",cK="expired-callback",cJ="sitekey",cX="size";function cY(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function cW(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function cZ(t){if(t.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function cQ(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)n=this.b.options.apiKey;else throw new k("invalid-api-key");var o=this,s=null;try{s=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=r.Z.SDK_VERSION?n$(r.Z.SDK_VERSION,s):null,cz.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,x(oH),i)}function c$(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=c0.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=c0[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(i=cz.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=cW(this,ef().then(function(){if(n4()&&!nK())return nB();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,sW(t.s,sx,{})}).then(function(e){t.a[cJ]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},i.render=function(){cZ(this);var t=this;return cW(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=t5(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!t4&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',tq(s.name),'"'),s.type){o.push(' type="',tq(s.type),'"');var a={};ty(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=t8(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):t6(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!v(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(y(o)){s="function"==typeof o.item;break t}}s=!1}z(s?Q(o):o,r)}}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},i.verify=function(){cZ(this);var t=this;return cW(this,this.render().then(function(e){return new ei(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(W(t.l,function(t){return t==i}),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},i.reset=function(){cZ(this),null!==this.c&&this.g.reset(this.c)},i.clear=function(){cZ(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=t5(this.v);t=e.firstChild;)e.removeChild(t)},S(cQ,cz);var c0="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function c1(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function c2(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function c3(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function c4(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function c5(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function c6(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function c9(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}}function c8(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function c7(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function ht(t){return m(t)&&"string"==typeof t.uid}function he(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function hn(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function hr(t,e){for(var n in e){var r=e[n].name;t[r]=hs(r,t[n],e[n].j)}}function hi(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){c$(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function ho(t,e,n,r){t[e]=hs(e,n,r)}function hs(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return c$(s,n,t),e.apply(this,t)}if(!n)return e;var i,o,s=(i=(i=t).split("."))[i.length-1];for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}hr(cm.prototype,{jb:{name:"applyActionCode",j:[c1("code")]},Ra:{name:"checkActionCode",j:[c1("code")]},nb:{name:"confirmPasswordReset",j:[c1("code"),c1("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[c1("email"),c1("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[c1("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[c1("emailLink")]},Hc:{name:"onAuthStateChanged",j:[hn(c3(),c4(),"nextOrObserver"),c4("opt_error",!0),c4("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[hn(c3(),c4(),"nextOrObserver"),c4("opt_error",!0),c4("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[c1("email"),hn(c3("opt_actionCodeSettings",!0),c5(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[c1("email"),c3("actionCodeSettings")]},xb:{name:"setPersistence",j:[c1("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[c6()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[c6()]},Tc:{name:"signInWithCustomToken",j:[c1("token")]},Uc:{name:"signInWithEmailAndPassword",j:[c1("email"),c1("password")]},Vc:{name:"signInWithEmailLink",j:[c1("email"),c1("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[c1("phoneNumber"),he()]},Xc:{name:"signInWithPopup",j:[c8()]},Yc:{name:"signInWithRedirect",j:[c8()]},dd:{name:"updateCurrentUser",j:[hn({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof uG)}},c5(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[c1(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[c1("url"),c3("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[c1("code")]}}),hi(cm.prototype,{lc:{name:"languageCode",kb:hn(c1(),c5(),"languageCode")},ti:{name:"tenantId",kb:hn(c1(),c5(),"tenantId")}}),cm.Persistence=aR,cm.Persistence.LOCAL="local",cm.Persistence.SESSION="session",cm.Persistence.NONE="none",hr(uG.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[c2("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[c2("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[c6()]},qb:{name:"linkWithCredential",j:[c6()]},Dc:{name:"linkWithPhoneNumber",j:[c1("phoneNumber"),he()]},Ec:{name:"linkWithPopup",j:[c8()]},Fc:{name:"linkWithRedirect",j:[c8()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[c6()]},tb:{name:"reauthenticateWithCredential",j:[c6()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[c1("phoneNumber"),he()]},Nc:{name:"reauthenticateWithPopup",j:[c8()]},Oc:{name:"reauthenticateWithRedirect",j:[c8()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[hn(c3("opt_actionCodeSettings",!0),c5(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[c1(null,!0)]},cd:{name:"unlink",j:[c1("provider")]},Bb:{name:"updateEmail",j:[c1("email")]},Cb:{name:"updatePassword",j:[c1("password")]},ed:{name:"updatePhoneNumber",j:[c6("phone")]},Db:{name:"updateProfile",j:[c3("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[c1("email"),hn(c3("opt_actionCodeSettings",!0),c5(null,!0),"opt_actionCodeSettings",!0)]}}),hr(cP.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hr(cD.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hr(ei.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),hi(uw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:c2("appVerificationDisabledForTesting")}}),hr(uI.prototype,{confirm:{name:"confirm",j:[c1("verificationCode")]}}),ho(id,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[iI,iR,iV,ig],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[hn(c1(),c3(),"json")]),ho(iL,"credential",function(t,e){return new ix(t,e)},[c1("email"),c1("password")]),hr(ix.prototype,{w:{name:"toJSON",j:[c1(null,!0)]}}),hr(iA.prototype,{Ca:{name:"addScope",j:[c1("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),ho(iA,"credential",iS,[hn(c1(),c3(),"token")]),ho(iL,"credentialWithLink",iM,[c1("email"),c1("emailLink")]),hr(iN.prototype,{Ca:{name:"addScope",j:[c1("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),ho(iN,"credential",ik,[hn(c1(),c3(),"token")]),hr(iO.prototype,{Ca:{name:"addScope",j:[c1("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),ho(iO,"credential",iD,[hn(c1(),hn(c3(),c5()),"idToken"),hn(c1(),c5(),"accessToken",!0)]),hr(iP.prototype,{Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),ho(iP,"credential",iC,[hn(c1(),c3(),"token"),c1("secret",!0)]),hr(i_.prototype,{Ca:{name:"addScope",j:[c1("scope")]},credential:{name:"credential",j:[hn(c1(),hn(c3(),c5()),"optionsOrIdToken"),hn(c1(),c5(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),hr(ib.prototype,{w:{name:"toJSON",j:[c1(null,!0)]}}),hr(iy.prototype,{w:{name:"toJSON",j:[c1(null,!0)]}}),ho(iG,"credential",iq,[c1("verificationId"),c1("verificationCode")]),hr(iG.prototype,{fb:{name:"verifyPhoneNumber",j:[hn(c1(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?c7(t.session,il)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?c7(t.session,ip)&&ht(t.multiFactorHint):t.session&&t.multiFactorUid?c7(t.session,ip)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),he()]}}),hr(iU.prototype,{w:{name:"toJSON",j:[c1(null,!0)]}}),hr(k.prototype,{toJSON:{name:"toJSON",j:[c1(null,!0)]}}),hr(iW.prototype,{toJSON:{name:"toJSON",j:[c1(null,!0)]}}),hr(iY.prototype,{toJSON:{name:"toJSON",j:[c1(null,!0)]}}),hr(uN.prototype,{toJSON:{name:"toJSON",j:[c1(null,!0)]}}),hr(u_.prototype,{Rc:{name:"resolveSignIn",j:[c9()]}}),hr(ux.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c9(),c1("displayName",!0)]},bd:{name:"unenroll",j:[hn({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ht},c1(),"multiFactorInfoIdentifier")]}}),hr(cQ.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ho(rL,"parseLink",rB,[c1("link")]),ho(cj,"assertion",function(t){return new uP(t)},[c6("phone")]),function(){if(void 0!==r.Z&&r.Z.INTERNAL&&r.Z.INTERNAL.registerComponent){var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rT,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rE,VERIFY_AND_CHANGE_EMAIL:r_,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cm,AuthCredential:id,Error:k};ho(t,"EmailAuthProvider",iL,[]),ho(t,"FacebookAuthProvider",iA,[]),ho(t,"GithubAuthProvider",iN,[]),ho(t,"GoogleAuthProvider",iO,[]),ho(t,"TwitterAuthProvider",iP,[]),ho(t,"OAuthProvider",i_,[c1("providerId")]),ho(t,"SAMLAuthProvider",iT,[c1("providerId")]),ho(t,"PhoneAuthProvider",iG,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof cm)}}]),ho(t,"RecaptchaVerifier",cQ,[hn(c1(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),c3("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),ho(t,"ActionCodeURL",rL,[]),ho(t,"PhoneMultiFactorGenerator",cj,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new cm(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:T(t.getUid,t),getToken:T(t.nc,t),addAuthTokenListener:T(t.cc,t),removeAuthTokenListener:T(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.3"),r.Z.INTERNAL.extendNamespace({User:uG})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},82595:function(t,e,n){"use strict";var r,i=n(26099),o=n(14594),s=n(44589),a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},f=f||{},l=h||self;function p(){}function d(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function w(){return Date.now()}function I(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.ja=function(){this.j||(this.j=!0,this.G())},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},_=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return -1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var P=l.navigator;if(P){var C=P.userAgent;if(C){iA=C;break t}}iA=""}function x(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=p;var U=O(iA,"Opera"),V=O(iA,"Trident")||O(iA,"MSIE"),F=O(iA,"Edge"),G=F||V,q=O(iA,"Gecko")&&!(O(iA.toLowerCase(),"webkit")&&!O(iA,"Edge"))&&!(O(iA,"Trident")||O(iA,"MSIE"))&&!O(iA,"Edge"),B=O(iA.toLowerCase(),"webkit")&&!O(iA,"Edge");function z(){var t=l.document;return t?t.documentMode:void 0}t:{var H,K="",J=(H=iA,q?/rv:([^\);]+)(\)|;)/.exec(H):F?/Edge\/([\d\.]+)/.exec(H):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):B?/WebKit\/(\S+)/.exec(H):U?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if(J&&(K=J?J[1]:""),V){var X=z();if(null!=X&&X>parseFloat(K)){iS=String(X);break t}}iS=K}var Y={};function W(t){var e;return e=function(){for(var e=0,n=k(String(iS)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=D(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||D(0==s[2].length,0==a[2].length)||D(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(Y,t)?Y[t]:Y[t]=e(t)}var Z=l.document&&V&&(z()||parseInt(iS,10))||void 0,Q=!V||9<=Number(Z),$=V&&!W("9"),tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",p,e),l.removeEventListener("test",p,e)}catch(t){}return t}();function te(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function tn(t,e){if(te.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{j(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},I(tn,te);var tr={2:"touch",3:"pen",4:"mouse"};tn.prototype.b=function(){tn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ti="closure_listenable_"+(1e6*Math.random()|0),to=0;function ts(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++to,this.Y=this.Z=!1}function ta(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function tu(t){this.src=t,this.a={},this.b=0}function tc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ta(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function th(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&!!n==o.capture&&o.ca==r)return i}return -1}tu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=th(t,e,r,i);return -1<s?(e=t[s],n||(e.Z=!1)):((e=new ts(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var tf="closure_lm_"+(1e6*Math.random()|0),tl={};function tp(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=tI(r),e&&e[ti]?e.wa(n,r,v(i)?!!i.capture:!!i,o):td(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)tp(t,e[o],n,r,i);return null}return n=tI(n),t&&t[ti]?t.va(e,n,v(r)?!!r.capture:!!r,i):td(t,e,n,!1,r,i)}function td(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a=v(i)?!!i.capture:!!i;if(a&&!Q)return null;var u=tb(t);if(u||(t[tf]=u=new tu(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=s=Q?function(t){return tg.call(s.src,s.listener,t)}:function(t){if(!(t=tg.call(s.src,s.listener,t)))return t},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ty(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tv(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ti])tc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ty(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tb(e))?(tc(n,t),0==n.b&&(n.src=null,e[tf]=null)):ta(t)}}}function ty(t){return t in tl?tl[t]:tl[t]="on"+t}function tm(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&tv(t),n.call(r,e)}function tg(t,e){if(t.Y)return!0;if(!Q){if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return tm(t,e=new tn(e,this))}return tm(t,new tn(e,this))}function tb(t){return(t=t[tf])instanceof tu?t:null}var tw="__closure_events_fn_"+(1e9*Math.random()>>>0);function tI(t){return"function"==typeof t?t:(t[tw]||(t[tw]=function(e){return t.handleEvent(e)}),t[tw])}function tE(){E.call(this),this.c=new tu(this),this.J=this,this.C=null}function tT(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new te(e,t);else if(e instanceof te)e.target=e.target||t;else{var i=e;M(e=new te(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=t_(s,r,!0,e)&&i}if(i=t_(s=e.a=t,r,!0,e)&&i,i=t_(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=t_(s=e.a=n[o],r,!1,e)&&i}function t_(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&tc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}I(tE,E),tE.prototype[ti]=!0,(c=tE.prototype).addEventListener=function(t,e,n,r){tp(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else(i=v(i)?!!i.capture:!!i,r=tI(r),e&&e[ti])?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=th(s=e.a[n],r,i,o))&&(ta(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=tb(e))&&(n=e.a[n.toString()],e=-1,n&&(e=th(n,r,i,o)),(r=-1<e?n[e]:null)&&tv(r))}(this,t,e,n,r)},c.G=function(){if(tE.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ta(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var tA=l.JSON.stringify;function tS(){this.b=this.a=null}var tN=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new tk},function(t){t.reset()});function tk(){this.next=this.b=this.a=null}function tO(t,e){var n;ik||(n=l.Promise.resolve(void 0),ik=function(){n.then(tC)}),tD||(ik(),tD=!0),tP.add(t,e)}tS.prototype.add=function(t,e){var n=tN.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},tk.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},tk.prototype.reset=function(){this.next=this.b=this.a=null};var tD=!1,tP=new tS;function tC(){for(var t,e;t=null,tP.a&&(t=tP.a,tP.a=tP.a.next,tP.a||(tP.b=null),t.next=null),e=t;){try{e.a.call(e.b)}catch(t){!function(t){l.setTimeout(function(){throw t},0)}(t)}tN.f(e),100>tN.b&&(tN.b++,e.next=tN.a,tN.a=e)}tD=!1}function tx(t,e){tE.call(this),this.b=t||1,this.a=e||l,this.f=g(this.Za,this),this.g=w()}function tR(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tL(t,e,n){if("function"==typeof t)n&&(t=g(t,n));else if(t&&"function"==typeof t.handleEvent)t=g(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}I(tx,tE),(c=tx.prototype).aa=!1,c.M=null,c.Za=function(){if(this.aa){var t=w()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),tT(this,"tick"),this.aa&&(tR(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=w())},c.G=function(){tx.X.G.call(this),tR(this),delete this.a};var tM=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return!function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=tL(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(l.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(E);function tj(t){E.call(this),this.b=t,this.a={}}I(tj,E);var tU=[];function tV(t,e,n,r){Array.isArray(n)||(n&&(tU[0]=n.toString()),n=tU);for(var i=0;i<n.length;i++){var o=tp(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function tF(t){x(t.a,function(t,e){this.a.hasOwnProperty(e)&&tv(t)},t),t.a={}}function tG(){this.a=!0}function tq(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return tA(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}tj.prototype.G=function(){tj.X.G.call(this),tF(this)},tj.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tG.prototype.info=function(){};var tB={},tz=null;function tH(){return tz=tz||new tE}function tK(t){te.call(this,tB.Fa,t)}function tJ(t){var e=tH();tT(e,new tK(e,t))}function tX(t,e){te.call(this,tB.STAT_EVENT,t),this.stat=e}function tY(t){var e=tH();tT(e,new tX(e,t))}function tW(t){te.call(this,tB.Ga,t)}function tZ(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){t()},e)}tB.Fa="serverreachability",I(tK,te),tB.STAT_EVENT="statevent",I(tX,te),tB.Ga="timingevent",I(tW,te);var tQ={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},t$={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function t0(){}function t1(t){var e;return(e=t.a)||(e=t.a={}),e}function t2(){}t0.prototype.a=null;var t3={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function t4(){te.call(this,"d")}function t5(){te.call(this,"c")}function t6(){}function t9(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new tj(this),this.P=t8,t=G?125:void 0,this.R=new tx(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}I(t4,te),I(t5,te),I(t6,t0),iO=new t6;var t8=45e3,t7={},et={};function ee(t,e,n){t.H=1,t.i=eE(ey(e)),t.j=n,t.I=!0,en(t,null)}function en(t,e){t.u=w(),ei(t),t.l=ey(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),eL(n.b,"t",r),t.D=0,t.a=ng(t.g,t.g.C?e:null),0<t.O&&(t.F=new tM(g(t.Ca,t,t.a),t.O)),tV(t.J,t.a,"readystatechange",t.Xa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),tJ(1),function(t,e,n,r,i,o){t.info(function(){if(t.a){if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null}else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function er(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=function(t,e){var n=t.D,r=e.indexOf("\n",n);return -1==r?et:isNaN(n=Number(e.substring(n,r)))?t7:(r+=1)+n>e.length?et:(e=e.substr(r,n),t.D=r+n,e)}(t,n);if(i==et){4==e&&(t.h=4,tY(14),r=!1),tq(t.c,t.f,null,"[Incomplete Response]");break}if(i==t7){t.h=4,tY(15),tq(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}tq(t.c,t.f,i,null),ec(t,i)}4==e&&0==n.length&&(t.h=1,tY(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nh(e),e.F=!0,tY(11))):(tq(t.c,t.f,n,"[Invalid Chunked Response]"),eu(t),ea(t))}function ei(t){t.T=w()+t.P,eo(t,t.P)}function eo(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=tZ(g(t.Va,t),e)}function es(t){t.o&&(l.clearTimeout(t.o),t.o=null)}function ea(t){0==t.g.v||t.A||np(t.g,t)}function eu(t){es(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,tR(t.R),tF(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ec(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||eq(n.b,t))){if(n.I=t.N,!t.C&&eq(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(n.a.u+3e3<t.u)nl(n),ne(n);else break t}nc(n),tY(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=tZ(g(n.Sa,n),6e3));if(1>=eG(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else nv(n,11)}else if((t.C||n.a==t)&&nl(n),!N(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v){if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(O(h,"spdy")||O(h,"quic")||O(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(eB(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,eI(u.B,u.A,l))}}if(n.v=3,n.f&&n.f.ta(),n.U&&(n.N=w()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),(u=n).la=nm(u,u.C?u.ga:null,u.fa),t.C){ez(u.b,t);var p=u.D;p&&t.setTimeout(p),t.o&&(es(t),ei(t)),u.a=t}else nu(u);0<n.g.length&&ni(n)}else"stop"!=i[0]&&"close"!=i[0]||nv(n,7)}else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?nv(n,7):nt(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0)}tJ(4)}catch(t){}}function eh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)_(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(d(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return t=e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ef(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){if(t instanceof ef)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}}function el(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ep(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ep(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ep(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=t9.prototype).setTimeout=function(t){this.P=t},c.Xa=function(t){t=t.target;var e=this.F;e&&3==e6(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=e6(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!G&&!this.a.$())){this.A||4!=e||7==n||(8==n||0>=r?tJ(3):tJ(2)),es(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(s)){var u=s;break e}}u=null}if(u)tq(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ec(this,u);else{this.b=!1,this.h=3,tY(12),eu(this),ea(this);break t}}this.I?(er(this,e,o),G&&this.b&&3==e&&(tV(this.J,this.R,"tick",this.Wa),this.R.start())):(tq(this.c,this.f,o,null),ec(this,o)),4==e&&eu(this),this.b&&!this.A&&(4==e?np(this.g,this):(this.b=!1,ei(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tY(12)):(this.h=0,tY(13)),eu(this),ea(this)}}}catch(t){}finally{}},c.Wa=function(){if(this.a){var t=e6(this.a),e=this.a.$();this.D<e.length&&(es(this),er(this,t,e),this.b&&4!=t&&ei(this))}},c.cancel=function(){this.A=!0,eu(this)},c.Va=function(){this.o=null;var t=w();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(tJ(3),tY(17)),eu(this),this.h=2,ea(this)):eo(this,this.T-t)},(c=ef.prototype).K=function(){el(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return el(this),this.a.concat()},c.get=function(t,e){return ep(this.b,t)?this.b[t]:e},c.set=function(t,e){ep(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ev(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ev){this.a=void 0!==e?e:t.a,em(this,t.f),this.j=t.j,eg(this,t.c),eb(this,t.h),this.g=t.g,e=t.b;var n=new eP;n.c=e.c,e.a&&(n.a=new ef(e.a),n.b=e.b),ew(this,n),this.i=t.i}else t&&(n=String(t).match(ed))?(this.a=!!e,em(this,n[1]||"",!0),this.j=eT(n[2]||""),eg(this,n[3]||"",!0),eb(this,n[4]),this.g=eT(n[5]||"",!0),ew(this,n[6]||"",!0),this.i=eT(n[7]||"")):(this.a=!!e,this.b=new eP(null,this.a))}function ey(t){return new ev(t)}function em(t,e,n){t.f=n?eT(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function eg(t,e,n){t.c=n?eT(e,!0):e}function eb(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ew(t,e,n){var r,i;e instanceof eP?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(eC(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ex(this,e),eL(this,n,t))},r)),r.f=i):(n||(e=e_(e,eO)),t.b=new eP(e,t.a))}function eI(t,e,n){t.b.set(e,n)}function eE(t){return eI(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function eT(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function e_(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,eA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eA(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ev.prototype.toString=function(){var t=[],e=this.f;e&&t.push(e_(e,eS,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(e_(e,eS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(e_(n,"/"==n.charAt(0)?ek:eN,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",e_(n,eD)),t.join("")};var eS=/[#\/\?@]/g,eN=/[#\?:]/g,ek=/[#\?]/g,eO=/[#\?@]/g,eD=/#/g;function eP(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function eC(t){t.a||(t.a=new ef,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ex(t,e){eC(t),e=eM(t,e),ep(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ep((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&el(t)))}function eR(t,e){return eC(t),e=eM(t,e),ep(t.a.b,e)}function eL(t,e,n){ex(t,e),0<n.length&&(t.c=null,t.a.set(eM(t,e),S(n)),t.b+=n.length)}function eM(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(c=eP.prototype).add=function(t,e){eC(this),this.c=null,t=eM(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){eC(this),this.a.forEach(function(n,r){_(n,function(n){t.call(e,n,r,this)},this)},this)},c.L=function(){eC(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){eC(this);var e=[];if("string"==typeof t)eR(this,t)&&(e=A(e,this.a.get(eM(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},c.set=function(t,e){return eC(this),this.c=null,eR(this,t=eM(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ej=function(t,e){this.b=t,this.a=e};function eU(t){this.g=t||eV,t=l.PerformanceNavigationTiming?0<(t=l.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(l.ia&&l.ia.ya&&l.ia.ya()&&l.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var eV=10;function eF(t){return!!t.b||!!t.a&&t.a.size>=t.f}function eG(t){return t.b?1:t.a?t.a.size:0}function eq(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function eB(t,e){t.a?t.a.add(e):t.b=e}function ez(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function eH(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return S(t.c)}function eK(){}function eJ(){this.a=new eK}function eX(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}eU.prototype.cancel=function(){var t,e;if(this.c=eH(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},eK.prototype.stringify=function(t){return l.JSON.stringify(t,void 0)},eK.prototype.parse=function(t){return l.JSON.parse(t,void 0)};var eY=l.JSON.parse;function eW(t){tE.call(this),this.headers=new ef,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=eZ,this.D=this.F=!1}I(eW,tE);var eZ="",eQ=/^https?$/i,e$=["POST","PUT"];function e0(t){return"content-type"==t.toLowerCase()}function e1(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,e2(t),e4(t)}function e2(t){t.u||(t.u=!0,tT(t,"complete"),tT(t,"error"))}function e3(t){if(t.b&&void 0!==f&&(!t.s[1]||4!=e6(t)||2!=t.W())){if(t.l&&4==e6(t))tL(t.za,0,t);else if(tT(t,"readystatechange"),4==e6(t)){t.b=!1;try{var e,n,r=t.W();switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.B).match(ed)[1]||null;if(!o&&l.self&&l.self.location){var s=l.self.location.protocol;o=s.substr(0,s.length-1)}n=!eQ.test(o?o.toLowerCase():"")}e=n}if(e)tT(t,"complete"),tT(t,"success");else{t.h=6;try{var a=2<e6(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",e2(t)}}finally{e4(t)}}}}function e4(t,e){if(t.a){e5(t);var n=t.a,r=t.s[0]?p:null;t.a=null,t.s=null,e||tT(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function e5(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(l.clearTimeout(t.m),t.m=null)}function e6(t){return t.a?t.a.readyState:0}function e9(t,e,n){t:{for(i in n){var r,i=!1;break t}i=!0}i||(r="",x(n,function(t,e){r+=e+":"+t+"\r\n"}),n=r,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):eI(t,e,n))}function e8(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function e7(t){this.pa=0,this.g=[],this.c=new tG,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=e8("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=e8("baseRetryDelayMs",5e3,t),this.Ra=e8("retryDelaySeedMs",1e4,t),this.Ma=e8("forwardChannelMaxRetries",2,t),this.ma=e8("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new eU(t&&t.concurrentRequestLimit),this.ka=new eJ,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function nt(t){if(nn(t),3==t.v){var e=t.R++,n=ey(t.B);eI(n,"SID",t.J),eI(n,"RID",e),eI(n,"TYPE","terminate"),ns(t,n),(e=new t9(t,t.c,e,void 0)).H=2,e.i=eE(ey(n)),n=!1,l.navigator&&l.navigator.sendBeacon&&(n=l.navigator.sendBeacon(e.i.toString(),"")),!n&&l.Image&&((new Image).src=e.i,n=!0),n||(e.a=ng(e.g,null),e.a.ba(e.i)),e.u=w(),ei(e)}ny(t)}function ne(t){t.a&&(nh(t),t.a.cancel(),t.a=null)}function nn(t){ne(t),t.j&&(l.clearTimeout(t.j),t.j=null),nl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&l.clearTimeout(t.h),t.h=null)}function nr(t,e){t.g.push(new ej(t.Oa++,e)),3==t.v&&ni(t)}function ni(t){eF(t.b)||t.h||(t.h=!0,tO(t.Ba,t),t.u=0)}function no(t,e){n=e?e.f:t.R++;var n,r=ey(t.B);eI(r,"SID",t.J),eI(r,"RID",n),eI(r,"AID",t.P),ns(t,r),t.i&&t.l&&e9(r,t.i,t.l),n=new t9(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=na(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),eB(t.b,n),ee(n,r,e)}function ns(t,e){t.f&&eh({},function(t,n){eI(e,n,t)})}function na(t,e,n){n=Math.min(t.g.length,n);for(var r=t.f?g(t.f.Ja,t.f,t):null,i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,e,n){var r=n||"";try{eh(t,function(t,n){var i=t;v(t)&&(i=tA(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break}}return t=t.g.splice(0,n),e.s=t,r}function nu(t){t.a||t.j||(t.T=1,tO(t.Aa,t),t.o=0)}function nc(t){return!t.a&&!t.j&&!(3<=t.o)&&(t.T++,t.j=tZ(g(t.Aa,t),nd(t,t.o)),t.o++,!0)}function nh(t){null!=t.s&&(l.clearTimeout(t.s),t.s=null)}function nf(t){t.a=new t9(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ey(t.la);eI(e,"RID","rpc"),eI(e,"SID",t.J),eI(e,"CI",t.H?"0":"1"),eI(e,"AID",t.P),ns(t,e),eI(e,"TYPE","xmlhttp"),t.i&&t.l&&e9(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=eE(ey(e)),n.j=null,n.I=!0,en(n,t)}function nl(t){null!=t.m&&(l.clearTimeout(t.m),t.m=null)}function np(t,e){var n=null;if(t.a==e){nl(t),nh(t),t.a=null;var r=2}else{if(!eq(t.b,e))return;n=e.s,ez(t.b,e),r=1}if(t.I=e.N,0!=t.v){if(e.b){if(1==r){n=e.j?e.j.length:0,e=w()-e.u;var i,o=t.u;tT(r=tH(),new tW(r,n,e,o)),ni(t)}else nu(t)}else if(3==(o=e.h)||0==o&&0<t.I||!(1==r&&(i=e,!(eG(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=i.s.concat(t.g),!0):1!=t.v&&2!=t.v&&!(t.u>=(t.La?0:t.Ma))&&(t.h=tZ(g(t.Ba,t,i),nd(t,t.u)),t.u++,!0)))||2==r&&nc(t)))switch(n&&0<n.length&&((e=t.b).c=e.c.concat(n)),o){case 1:nv(t,5);break;case 4:nv(t,10);break;case 3:nv(t,6);break;default:nv(t,2)}}}function nd(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function nv(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Ya,t);n||(n=new ev("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||em(n,"https"),eE(n)),function(t,e){var n=new tG;if(l.Image){var r=new Image;r.onload=b(eX,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(eX,n,r,"TestLoadImage: error",!1,e),r.onabort=b(eX,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(eX,n,r,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tY(2);t.v=0,t.f&&t.f.ra(e),ny(t),nn(t)}function ny(t){t.v=0,t.I=-1,t.f&&((0!=eH(t.b).length||0!=t.g.length)&&(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function nm(t,e,n){var r=(i=n)instanceof ev?ey(i):new ev(i,void 0);if(""!=r.c)e&&eg(r,e+"."+r.c),eb(r,r.h);else{var i,o,s,a,u,c,h=l.location;o=h.protocol,s=e?e+"."+h.hostname:h.hostname,a=+h.port,u=n,c=new ev(null,void 0),o&&em(c,o),s&&eg(c,s),a&&eb(c,a),u&&(c.g=u),r=c}return t.V&&x(t.V,function(t,e){eI(r,e,t)}),e=t.A,n=t.na,e&&n&&eI(r,e,n),eI(r,"VER",t.ha),ns(t,r),r}function ng(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new eW(t.Na)).F=t.C,e}function nb(){}function nw(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function nI(t,e){tE.call(this),this.a=new e7(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new n_(this)}function nE(t){t4.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nT(){t5.call(this),this.status=1}function n_(t){this.a=t}(c=eW.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?t1(this.H):t1(iO),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){e1(this,t);return}t=n||"";var i,o=new ef(this.headers);r&&eh(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=e0,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=l.FormData&&t instanceof l.FormData,!(0<=T(e$,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{e5(this),0<this.o&&((this.D=(i=this.a,V&&W(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=tL(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){e1(this,t)}},c.xa=function(){void 0!==f&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,tT(this,"timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,tT(this,"complete"),tT(this,"abort"),e4(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),e4(this,!0)),eW.X.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?e3(this):this.Ua())},c.Ua=function(){e3(this)},c.W=function(){try{return 2<e6(this)?this.a.status:-1}catch(t){return -1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},c.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),eY(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=e7.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h){if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new t9(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){e:{var o=this.g[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)){o=o.length;break e}o=void 0}if(void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=na(this,n,e),eI(i=ey(this.B),"RID",t),eI(i,"CVER",22),this.A&&eI(i,"X-HTTP-Session-Id",this.A),ns(this,i),this.i&&r&&e9(i,this.i,r),eB(this.b,n),this.Ia&&eI(i,"TYPE","init"),this.da?(eI(i,"$req",e),eI(i,"SID","null"),n.U=!0,ee(n,i,null)):ee(n,i,e),this.v=2}}else 3==this.v&&(t?no(this,t):0==this.g.length||eF(this.b)||no(this))}},c.Aa=function(){if(this.j=null,nf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=tZ(g(this.Ta,this),t)}},c.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,tY(10),ne(this),nf(this))},c.Sa=function(){null!=this.m&&(this.m=null,ne(this),nc(this),tY(19))},c.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),tY(2)):(this.c.info("Failed to ping google.com"),tY(1))},(c=nb.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ja=function(){},nw.prototype.a=function(t,e){return new nI(t,e)},I(nI,tE),nI.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;tY(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=nm(t,null,t.fa),ni(t)},nI.prototype.close=function(){nt(this.a)},nI.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,nr(this.a,e)}else this.l?((e={}).__data__=tA(t),nr(this.a,e)):nr(this.a,t)},nI.prototype.G=function(){this.a.f=null,delete this.f,nt(this.a),delete this.a,nI.X.G.call(this)},I(nE,t4),I(nT,t5),I(n_,nb),n_.prototype.ta=function(){tT(this.a,"a")},n_.prototype.sa=function(t){tT(this.a,new nE(t))},n_.prototype.ra=function(t){tT(this.a,new nT(t))},n_.prototype.qa=function(){tT(this.a,"b")},nw.prototype.createWebChannel=nw.prototype.a,nI.prototype.send=nI.prototype.h,nI.prototype.open=nI.prototype.g,nI.prototype.close=nI.prototype.close,tQ.NO_ERROR=0,tQ.TIMEOUT=8,tQ.HTTP_ERROR=6,t$.COMPLETE="complete",t2.EventType=t3,t3.OPEN="a",t3.CLOSE="b",t3.ERROR="c",t3.MESSAGE="d",tE.prototype.listen=tE.prototype.va,eW.prototype.listenOnce=eW.prototype.wa,eW.prototype.getLastError=eW.prototype.Qa,eW.prototype.getLastErrorCode=eW.prototype.ua,eW.prototype.getStatus=eW.prototype.W,eW.prototype.getResponseJson=eW.prototype.Pa,eW.prototype.getResponseText=eW.prototype.$,eW.prototype.send=eW.prototype.ba;var nA={PROXY:10,NOPROXY:11},nS=n(70655),nN=n(83454),nk=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},nO=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),nD=new o.Yd("@firebase/firestore");function nP(){return nD.logLevel}function nC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nD.logLevel<=o.in.DEBUG){var r=e.map(nL);nD.debug.apply(nD,(0,nS.pr)(["Firestore (8.2.7): "+t],r))}}function nx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nD.logLevel<=o.in.ERROR){var r=e.map(nL);nD.error.apply(nD,(0,nS.pr)(["Firestore (8.2.7): "+t],r))}}function nR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nD.logLevel<=o.in.WARN){var r=e.map(nL);nD.warn.apply(nD,(0,nS.pr)(["Firestore (8.2.7): "+t],r))}}function nL(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw nx(e),Error(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nj=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(0),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function nU(t,e){return t<e?-1:t>e?1:0}function nV(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nF=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return nU(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();nF.T=new nF("");var nG={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nq=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,nS.ZT)(e,t),e}(Error),nB=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(nF.fromBase64String(e))}catch(t){throw new nq(nG.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(nF.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),nz=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();nz.UNAUTHENTICATED=new nz(null),nz.R=new nz("google-credentials-uid"),nz.P=new nz("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nH=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},nK=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(nz.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),nJ=function(){function t(t){var e=this;this.D=null,this.currentUser=nz.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(nC("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?("string"==typeof n.accessToken||nM(),new nH(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return null===t||"string"==typeof t||nM(),new nz(t)},t}(),nX=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=nz.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),nY=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new nX(this.F,this.O))},t.prototype.v=function(t){t(nz.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),nW=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();nW.q=-1;var nZ=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0||e>=1e9)throw new nq(nG.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800||t>=253402300800)throw new nq(nG.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?nU(this.nanoseconds,t.nanoseconds):nU(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),nQ=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new nZ(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),n$=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&nM(),void 0===n?n=t.length-e:n>t.length-e&&nM(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return -1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),n0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o.indexOf("//")>=0)throw new nq(nG.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(n$),n1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,n2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return n1.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new nq(nG.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new nq(nG.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nq(nG.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?s=!s:"."!==a||s?r+=a:o(),i++}if(o(),s)throw new nq(nG.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(n$),n3=function(){function t(t){this.path=t}return t._t=function(e){return new t(n0.ot(e))},t.ft=function(e){return new t(n0.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===n0.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return n0.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new n0(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function n5(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n6(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n9=function(){function t(t){this.fields=t,t.sort(n2.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return nV(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),n8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){if(t||nM(),"string"==typeof t){var e=0,n=n8.exec(t);if(n||nM(),n[1]){var r=n[1];e=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(t).getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function re(t){return"string"==typeof t?nF.fromBase64String(t):nF.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rr(t){var e=n7(t.mapValue.fields.__local_write_time__.timestampValue);return new nZ(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){return null==t}function ro(t){return 0===t&&1/t==-1/0}function rs(t){return"number"==typeof t&&Number.isInteger(t)&&!ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rn(t)?4:10:nM()}function ru(t,e){var n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rr(t).isEqual(rr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=n7(t.timestampValue),r=n7(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return re(t.bytesValue).isEqual(re(e.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return rt(t.geoPointValue.latitude)===rt(e.geoPointValue.latitude)&&rt(t.geoPointValue.longitude)===rt(e.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rt(t.integerValue)===rt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rt(t.doubleValue),r=rt(e.doubleValue);return n===r?ro(n)===ro(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return nV(t.arrayValue.values||[],e.arrayValue.values||[],ru);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(n4(n)!==n4(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ru(n[i],r[i])))return!1;return!0}(t,e);default:return nM()}}function rc(t,e){return void 0!==(t.values||[]).find(function(t){return ru(t,e)})}function rh(t,e){var n,r,i,o,s,a,u,c,h,f=ra(t),l=ra(e);if(f!==l)return nU(f,l);switch(f){case 0:return 0;case 1:return nU(t.booleanValue,e.booleanValue);case 2:return(n=rt(t.integerValue||t.doubleValue))<(r=rt(e.integerValue||e.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return rf(t.timestampValue,e.timestampValue);case 4:return rf(rr(t),rr(e));case 5:return nU(t.stringValue,e.stringValue);case 6:return i=t.bytesValue,o=e.bytesValue,s=re(i),a=re(o),s._(a);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nU(n[i],r[i]);if(0!==o)return o}return nU(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return u=t.geoPointValue,c=e.geoPointValue,0!==(h=nU(rt(u.latitude),rt(c.latitude)))?h:nU(rt(u.longitude),rt(c.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=rh(n[i],r[i]);if(o)return o}return nU(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=nU(r[s],o[s]);if(0!==a)return a;var u=rh(n[r[s]],i[o[s]]);if(0!==u)return u}return nU(r.length,o.length)}(t.mapValue,e.mapValue);default:throw nM()}}function rf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return nU(t,e);var n=n7(t),r=n7(e),i=nU(n.seconds,r.seconds);return 0!==i?i:nU(n.nanos,r.nanos)}function rl(t){var e,n,r;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(r=n7(t.timestampValue)).seconds+","+r.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?re(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,n3.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=rl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+rl(t.fields[o])}return e+"}"}(t.mapValue):nM()}function rp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function rd(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function ry(t){return!!t&&"nullValue"in t}function rm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n)if(!e.mapValue.fields||!rg(e=e.mapValue.fields[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return ru(this.proto,t.proto)},t}(),rw=function(){function t(t){void 0===t&&(t=rb.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===ra(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(n2.ct(),this.At);return null!=t?new rb(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=rg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}(),rI=function(t,e){this.key=t,this.version=e},rE=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,nS.ZT)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(rI),rT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,nS.ZT)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(rI),r_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(rI),rA=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function rS(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new rA(t,e,n,r,i,o,s)}function rN(t){if(null===t.vt){var e=t.path.rt();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(function(t){return t.field.rt()+t.op.toString()+rl(t.value)}).join(",")+"|ob:"+t.orderBy.map(function(t){return t.field.rt()+t.dir}).join(","),ri(t.limit)||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+rF(t.startAt)),t.endAt&&(e+="|ub:"+rF(t.endAt)),t.vt=e}return t.vt}function rk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i,o,s=0;s<t.orderBy.length;s++)if(n=t.orderBy[s],r=e.orderBy[s],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if(i=t.filters[a],o=e.filters[a],i.op!==o.op||!i.field.isEqual(o.field)||!ru(i.value,o.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rB(t.startAt,e.startAt)&&rB(t.endAt,e.endAt)}function rO(t){return n3.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,nS.ZT)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new rP(t,n,r):"array-contains"===n?new rL(t,r):"in"===n?new rM(t,r):"not-in"===n?new rj(t,r):"array-contains-any"===n?new rU(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new rC(t,n):new rx(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(rh(e,this.value)):null!==e&&ra(this.value)===ra(e)&&this.Dt(rh(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nM()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),rP=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=n3.ft(r.referenceValue),i}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){var e=n3.H(t.key,this.key);return this.Dt(e)},e}(rD),rC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=rR("in",n),r}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(rD),rx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=rR("not-in",n),r}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(rD);function rR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return n3.ft(t.referenceValue)})}var rL=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return rv(e)&&rc(e.arrayValue,this.value)},e}(rD),rM=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&rc(this.value.arrayValue,e)},e}(rD),rj=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!rc(this.value.arrayValue,e)},e}(rD),rU=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,nS.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return rc(e.value.arrayValue,t)})},e}(rD),rV=function(t,e){this.position=t,this.before=e};function rF(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return rl(t)}).join(",")}var rG=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function rq(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?n3.H(n3.ft(s.referenceValue),n.key):rh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function rB(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ru(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rz=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null,this.startAt,this.endAt};function rH(t){return new rz(t)}function rK(t){return!ri(t.limit)&&"F"===t.limitType}function rJ(t){return!ri(t.limit)&&"L"===t.limitType}function rX(t){return t.xt.length>0?t.xt[0].field:null}function rY(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function rW(t){return null!==t.collectionGroup}function rZ(t){if(null===t.Nt){t.Nt=[];var e=rY(t),n=rX(t);if(null!==e&&null===n)e.ut()||t.Nt.push(new rG(e)),t.Nt.push(new rG(n2.ht(),"asc"));else{for(var r=!1,i=0,o=t.xt;i<o.length;i++){var s=o[i];t.Nt.push(s),s.field.ut()&&(r=!0)}if(!r){var a=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new rG(n2.ht(),a))}}}return t.Nt}function rQ(t){if(!t.$t){if("F"===t.limitType)t.$t=rS(t.path,t.collectionGroup,rZ(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],n=0,r=rZ(t);n<r.length;n++){var i=r[n],o="desc"===i.dir?"asc":"desc";e.push(new rG(i.field,o))}var s=t.endAt?new rV(t.endAt.position,!t.endAt.before):null,a=t.startAt?new rV(t.startAt.position,!t.startAt.before):null;t.$t=rS(t.path,t.collectionGroup,e,t.filters,t.limit,s,a)}}return t.$t}function r$(t,e,n){return new rz(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function r0(t,e){return rk(rQ(t),rQ(e))&&t.limitType===e.limitType}function r1(t){return rN(rQ(t))+"|lt:"+t.limitType}function r2(t){var e,n;return"Query(target="+(n=(e=rQ(t)).path.rt(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(t){return t.field.rt()+" "+t.op+" "+rl(t.value)}).join(", ")+"]"),ri(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(t){return t.field.rt()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+rF(e.startAt)),e.endAt&&(n+=", endAt: "+rF(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")"}function r3(t,e){var n;return n=e.key.path,(null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):n3.wt(t.path)?t.path.isEqual(n):t.path.st(n))&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&!(t.startAt&&!rq(t.startAt,rZ(t),e))&&(!t.endAt||!rq(t.endAt,rZ(t),e))}function r4(t){return function(e,n){for(var r=!1,i=0,o=rZ(t);i<o.length;i++){var s=o[i],a=function(t,e,n){var r,i,o,s=t.field.ut()?n3.H(e.key,n.key):(r=t.field,i=e.field(r),o=n.field(r),null!==i&&null!==o?rh(i,o):nM());switch(t.dir){case"asc":return s;case"desc":return -1*s;default:return nM()}}(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r5=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=nQ.min()),void 0===o&&(o=nQ.min()),void 0===s&&(s=nF.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ro(e)?"-0":e}}function r9(t){return{integerValue:""+t}}function r8(t,e){return rs(e)?r9(e):r6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r7=function(){this.qt=void 0};function it(t,e){return t instanceof ia?rd(e)||e&&"doubleValue"in e?e:{integerValue:0}:null}var ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e}(r7),ir=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,nS.ZT)(e,t),e}(r7);function ii(t,e){for(var n=ic(e),r=function(t){n.some(function(e){return ru(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var io=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,nS.ZT)(e,t),e}(r7);function is(t,e){for(var n=ic(e),r=function(t){n=n.filter(function(e){return!ru(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ia=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return(0,nS.ZT)(e,t),e}(r7);function iu(t){return rt(t.integerValue||t.doubleValue)}function ic(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ih=function(t,e){this.field=t,this.transform=e},il=function(t,e){this.version=t,this.transformResults=e},ip=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function id(t,e){return void 0!==t.updateTime?e instanceof rE&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rE}var iv=function(){};function iy(t,e,n){return t instanceof ib?function(t,e,n){if(!id(t.jt,e))return e;var r=t.value,i=iT(t.fieldTransforms,n,e);r=i_(t.fieldTransforms,r,i);var o=ig(e);return new rE(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof iw?function(t,e,n){if(!id(t.jt,e))return e;var r=ig(e),i=iI(t,e,iT(t.fieldTransforms,n,e));return new rE(t.key,r,i,{Vt:!0})}(t,e,n):id(t.jt,e)?new rT(t.key,nQ.min()):e}function im(t,e){var n,r;return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&nV(n,r,function(t,e){var n,r;return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof ir&&r instanceof ir||n instanceof io&&r instanceof io?nV(n.elements,r.elements,ru):n instanceof ia&&r instanceof ia?ru(n.Ut,r.Ut):n instanceof ie&&r instanceof ie)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function ig(t){return t instanceof rE?t.version:nQ.min()}var ib=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return(0,nS.ZT)(e,t),e}(iv),iw=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return(0,nS.ZT)(e,t),e}(iv);function iI(t,e,n){var r,i;return i=new rw(r=e instanceof rE?e.data():rb.empty()),t.Gt.fields.forEach(function(e){if(!e.et()){var n=t.data.field(e);null!==n?i.set(e,n):i.delete(e)}}),r=i.Pt(),r=i_(t.fieldTransforms,r,n)}function iE(t,e,n){var r=[];t.length===n.length||nM();for(var i=0;i<n.length;i++){var o,s,a=t[i],u=a.transform,c=null;e instanceof rE&&(c=e.field(a.field)),r.push((o=c,s=n[i],u instanceof ir?ii(u,o):u instanceof io?is(u,o):s))}return r}function iT(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=t[i],s=o.transform,a=null;n instanceof rE&&(a=n.field(o.field)),r.push(function(t,e,n){var r,i,o;return t instanceof ie?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},e&&(r.fields.__previous_value__=e),{mapValue:r}):t instanceof ir?ii(t,e):t instanceof io?is(t,e):(o=iu(i=it(t,e))+iu(t.Ut),rd(i)&&rd(t.Ut)?r9(o):r6(t.Qt,o))}(s,a,e))}return r}function i_(t,e,n){for(var r=new rw(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var iA,iS,iN,ik,iO,iD,iP,iC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return(0,nS.ZT)(e,t),e}(iv),ix=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return(0,nS.ZT)(e,t),e}(iv),iR=function(t){this.count=t};function iL(t){switch(t){case nG.OK:return nM();case nG.CANCELLED:case nG.UNKNOWN:case nG.DEADLINE_EXCEEDED:case nG.RESOURCE_EXHAUSTED:case nG.INTERNAL:case nG.UNAVAILABLE:case nG.UNAUTHENTICATED:return!1;case nG.INVALID_ARGUMENT:case nG.NOT_FOUND:case nG.ALREADY_EXISTS:case nG.PERMISSION_DENIED:case nG.FAILED_PRECONDITION:case nG.ABORTED:case nG.OUT_OF_RANGE:case nG.UNIMPLEMENTED:case nG.DATA_LOSS:return!0;default:return nM()}}function iM(t){if(void 0===t)return nx("GRPC error has no .code"),nG.UNKNOWN;switch(t){case iD.OK:return nG.OK;case iD.CANCELLED:return nG.CANCELLED;case iD.UNKNOWN:return nG.UNKNOWN;case iD.DEADLINE_EXCEEDED:return nG.DEADLINE_EXCEEDED;case iD.RESOURCE_EXHAUSTED:return nG.RESOURCE_EXHAUSTED;case iD.INTERNAL:return nG.INTERNAL;case iD.UNAVAILABLE:return nG.UNAVAILABLE;case iD.UNAUTHENTICATED:return nG.UNAUTHENTICATED;case iD.INVALID_ARGUMENT:return nG.INVALID_ARGUMENT;case iD.NOT_FOUND:return nG.NOT_FOUND;case iD.ALREADY_EXISTS:return nG.ALREADY_EXISTS;case iD.PERMISSION_DENIED:return nG.PERMISSION_DENIED;case iD.FAILED_PRECONDITION:return nG.FAILED_PRECONDITION;case iD.ABORTED:return nG.ABORTED;case iD.OUT_OF_RANGE:return nG.OUT_OF_RANGE;case iD.UNIMPLEMENTED:return nG.UNIMPLEMENTED;case iD.DATA_LOSS:return nG.DATA_LOSS;default:return nM()}}(iP=iD||(iD={}))[iP.OK=0]="OK",iP[iP.CANCELLED=1]="CANCELLED",iP[iP.UNKNOWN=2]="UNKNOWN",iP[iP.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iP[iP.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iP[iP.NOT_FOUND=5]="NOT_FOUND",iP[iP.ALREADY_EXISTS=6]="ALREADY_EXISTS",iP[iP.PERMISSION_DENIED=7]="PERMISSION_DENIED",iP[iP.UNAUTHENTICATED=16]="UNAUTHENTICATED",iP[iP.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iP[iP.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iP[iP.ABORTED=10]="ABORTED",iP[iP.OUT_OF_RANGE=11]="OUT_OF_RANGE",iP[iP.UNIMPLEMENTED=12]="UNIMPLEMENTED",iP[iP.INTERNAL=13]="INTERNAL",iP[iP.UNAVAILABLE=14]="UNAVAILABLE",iP[iP.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij=function(){function t(t,e){this.H=t,this.root=e||iV.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,iV.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,iV.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return -1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new iU(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new iU(this.root,t,this.H,!1)},t.prototype.ne=function(){return new iU(this.root,null,this.H,!0)},t.prototype.se=function(t){return new iU(this.root,t,this.H,!0)},t}(),iU=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),iV=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(0>n(e,i.key))i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){return Math.pow(2,this.Ie())<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw nM();var t=this.left.Ie();if(t!==this.right.Ie())throw nM();return t+(this.le()?0:1)},t}();iV.EMPTY=null,iV.RED=!0,iV.Ht=!1,iV.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw nM()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw nM()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw nM()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw nM()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw nM()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new iV(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iF=function(){function t(t){this.H=t,this.data=new ij(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new iG(this.data.te())},t.prototype.ee=function(t){return new iG(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),iG=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),iq=new ij(n3.H),iB=new ij(n3.H),iz=new ij(n3.H),iH=new iF(n3.H);function iK(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=iH,r=0;r<t.length;r++){var i=t[r];n=n.add(i)}return n}var iJ=new iF(nU),iX=function(){function t(t){this.H=t?function(e,n){return t(e,n)||n3.H(e.key,n.key)}:function(t,e){return n3.H(t.key,e.key)},this.ge=iB,this.Ve=new ij(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),iY=function(){function t(){this.be=new ij(n3.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):nM():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),iW=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,iX.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&r0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),iZ=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,iQ.Le(e,n)),new t(nQ.min(),r,iJ,iq,iK())},t}(),iQ=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(nF.T,n,iK(),iK(),iK())},t}(),i$=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},i0=function(t,e){this.targetId=t,this.je=e},i1=function(t,e,n,r){void 0===n&&(n=nF.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},i2=function(){function t(){this.Ge=0,this.ze=i5(),this.He=nF.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=iK(),e=iK(),n=iK();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:nM()}}),new iQ(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=i5()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),i3=function(){function t(t){this.un=t,this.hn=new Map,this.ln=iq,this._n=i4(),this.fn=new iF(nU)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof rE?this.wn(r,t.We):t.We instanceof rT&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:nM()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(rO(i)){if(0===n){var o=new n3(i.path);this.En(e,o,new rT(o,nQ.min()))}else 1===n||nM()}else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&rO(o.target)){var s=new n3(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new rT(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=iK();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new iZ(t,n,this.fn,this.ln,r);return this.ln=iq,this._n=i4(),this.fn=new iF(nU),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new i2,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new iF(nU),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||nC("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new i2),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return new ij(n3.H)}function i5(){return new ij(n3.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6={asc:"ASCENDING",desc:"DESCENDING"},i9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i8=function(t,e){this.t=t,this.Bt=e};function i7(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ot(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function oe(t){var e;return t||nM(),nQ.K(new nZ((e=n7(t)).seconds,e.nanos))}function on(t,e){return new n0(["projects",t.projectId,"databases",t.database]).child("documents").child(e).rt()}function or(t){var e=n0.ot(t);return ow(e)||nM(),e}function oi(t,e){return on(t.t,e.path)}function oo(t,e){var n=or(e);if(n.get(1)!==t.t.projectId)throw new nq(nG.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new nq(nG.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new n3(ou(n))}function os(t){var e=or(t);return 4===e.length?n0.ct():ou(e)}function oa(t){return new n0(["projects",t.t.projectId,"databases",t.t.database]).rt()}function ou(t){return t.length>4&&"documents"===t.get(4)||nM(),t.Y(5)}function oc(t,e,n){return{name:oi(t,e),fields:n.proto.mapValue.fields}}function oh(t,e,n){return new rE(oo(t,e.name),oe(e.updateTime),new rb({mapValue:{fields:e.fields}}),{hasCommittedMutations:!!n})}function of(t,e){var n,r,i,o;if(e instanceof ib)n={update:oc(t,e.key,e.value)};else if(e instanceof iC)n={delete:oi(t,e.key)};else if(e instanceof iw)n={update:oc(t,e.key,e.data),updateMask:(i=e.Gt,o=[],i.fields.forEach(function(t){return o.push(t.rt())}),{fieldPaths:o})};else{if(!(e instanceof ix))return nM();n={verify:oi(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ie)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof ir)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof io)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof ia)return{fieldPath:e.field.rt(),increment:n.Ut};throw nM()}(0,t)})),e.jt.Wt||(n.currentDocument=void 0!==(r=e.jt).updateTime?{updateTime:i7(t,r.updateTime.j())}:void 0!==r.exists?{exists:r.exists}:nM()),n}function ol(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?ip.updateTime(oe(n.updateTime)):void 0!==n.exists?ip.exists(n.exists):ip.Kt():ip.Kt(),i=e.updateTransforms?e.updateTransforms.map(function(e){var n;return n=null,"setToServerValue"in e?("REQUEST_TIME"===e.setToServerValue||nM(),n=new ie):"appendMissingElements"in e?n=new ir(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new io(e.removeAllFromArray.values||[]):"increment"in e?n=new ia(t,e.increment):nM(),new ih(n2.lt(e.fieldPath),n)}):[];if(e.update){e.update.name;var o=oo(t,e.update.name),s=new rb({mapValue:{fields:e.update.fields}});return e.updateMask?new iw(o,s,new n9((e.updateMask.fieldPaths||[]).map(function(t){return n2.lt(t)})),r,i):new ib(o,s,r,i)}return e.delete?new iC(oo(t,e.delete),r):e.verify?new ix(oo(t,e.verify),r):nM()}function op(t,e){var n;return{documents:[(n=e.path,on(t.t,n))]}}function od(t,e){var n,r,i={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(i.parent=on(t.t,o),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=(n=o.X(),on(t.t,n)),i.structuredQuery.from=[{collectionId:o.tt()}]);var s=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(rm(t.value))return{unaryFilter:{field:og(t.field),op:"IS_NAN"}};if(ry(t.value))return{unaryFilter:{field:og(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rm(t.value))return{unaryFilter:{field:og(t.field),op:"IS_NOT_NAN"}};if(ry(t.value))return{unaryFilter:{field:og(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:og(t.field),op:i9[t.op],value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);s&&(i.structuredQuery.where=s);var a=function(t){if(0!==t.length)return t.map(function(t){return{field:og(t.field),direction:i6[t.dir]}})}(e.orderBy);a&&(i.structuredQuery.orderBy=a);var u=(r=e.limit,t.Bt||ri(r)?r:{value:r});return null!==u&&(i.structuredQuery.limit=u),e.startAt&&(i.structuredQuery.startAt=oy(e.startAt)),e.endAt&&(i.structuredQuery.endAt=oy(e.endAt)),i}function ov(t){var e,n,r=os(t.parent),i=t.structuredQuery,o=i.from?i.from.length:0,s=null;if(o>0){1===o||nM();var a=i.from[0];a.allDescendants?s=a.collectionId:r=r.child(a.collectionId)}var u=[];i.where&&(u=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ob(t.unaryFilter.field);return rD.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ob(t.unaryFilter.field);return rD.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ob(t.unaryFilter.field);return rD.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ob(t.unaryFilter.field);return rD.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nM()}}(e)]:void 0!==e.fieldFilter?[rD.create(ob(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nM()}}(e.fieldFilter.op),e.fieldFilter.value)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):nM():[]}(i.where));var c=[];i.orderBy&&(c=i.orderBy.map(function(t){return new rG(ob(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));var h=null;i.limit&&(h=ri(n="object"==typeof(e=i.limit)?e.value:e)?null:n);var f=null;i.startAt&&(f=om(i.startAt));var l=null;return i.endAt&&(l=om(i.endAt)),new rz(r,s,c,u,h,"F",f,l)}function oy(t){return{before:t.before,values:t.position}}function om(t){var e=!!t.before;return new rV(t.values||[],e)}function og(t){return{fieldPath:t.rt()}}function ob(t){return n2.lt(t.fieldPath)}function ow(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oI=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},oE=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&nM(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0;i<e.length;i++)r(e[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),oT=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new oI,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new oS(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=oP(e.target.error);n.Bn.reject(new oS(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new oS(n,t)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(nC("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){return new ok(this.transaction.objectStore(t))},t}(),o_=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn((0,s.z$)())&&nx("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nC("SimpleDb","Removing database:",t),oO(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=(0,s.z$)(),n=t.Qn(e),r=t.jn(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},t.Wn=function(){var t;return void 0!==nN&&"YES"===(null===(t=nN.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(e?e[1].split("_").slice(0,2).join("."):"-1")},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i);return Number(e?e[1].split(".").slice(0,2).join("."):"-1")},t.prototype.Hn=function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n=this;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(nC("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new oS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new nq(nG.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new oS(t,n))},i.onupgradeneeded=function(t){nC("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next(function(){nC("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,nS.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return(0,nS.Jh)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=f.sent(),s=r(e=oT.open(a.db,t,i?"readonly":"readwrite",n)).catch(function(t){return e.abort(t),oE.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(f.sent(),s),u)];case 4:return h="FirebaseError"!==(c=f.sent()).name&&o<3,nC("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),oA=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return oO(this.Zn.delete())},t}(),oS=function(t){function e(e,n){var r=this;return(r=t.call(this,nG.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,nS.ZT)(e,t),e}(nq);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return"IndexedDbTransactionError"===t.name}var ok=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nC("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nC("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),oO(n)},t.prototype.add=function(t){return nC("SimpleDb","ADD",this.store.name,t,t),oO(this.store.add(t))},t.prototype.get=function(t){var e=this;return oO(this.store.get(t)).next(function(n){return void 0===n&&(n=null),nC("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return nC("SimpleDb","DELETE",this.store.name,t),oO(this.store.delete(t))},t.prototype.count=function(){return nC("SimpleDb","COUNT",this.store.name),oO(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){nC("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){e?n=t:(n={},e=t);var n,r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new oE(function(n,r){e.onerror=function(t){r(oP(t.target.error))},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new oE(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new oA(i),s=e(i.primaryKey,i.value,o);if(s instanceof oE){var a=s.catch(function(t){return o.done(),oE.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return oE.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function oO(t){return new oE(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(oP(t.target.error))}})}var oD=!1;function oP(t){var e=o_.Qn((0,s.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new nq("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oD||(oD=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oC=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new oI,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new nq(nG.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function ox(t,e){if(nx("AsyncQueue",e+": "+t),oN(t))return new nq(nG.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oL=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e+="\x01\x01"),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return e+"\x01\x01"}function oj(t){var e=t.length;if(e>=2||nM(),2===e)return"\x01"===t.charAt(0)&&"\x01"===t.charAt(1)||nM(),n0.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&nM(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s)+"\0";break;case"\x11":i+=t.substring(o,s+1);break;default:nM()}o=s+2}return new n0(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(t,e){this.seconds=t,this.nanoseconds=e},oV=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};oV.store="owner",oV.key="owner";var oF=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};oF.store="mutationQueues",oF.keyPath="userId";var oG=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oG.store="mutations",oG.keyPath="batchId",oG.userMutationsIndex="userMutationsIndex",oG.userMutationsKeyPath=["userId","batchId"];var oq=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,oM(e)]},t.key=function(t,e,n){return[t,oM(e),n]},t}();oq.store="documentMutations",oq.PLACEHOLDER=new oq;var oB=function(t,e){this.path=t,this.readTime=e},oz=function(t,e){this.path=t,this.version=e},oH=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};oH.store="remoteDocuments",oH.readTimeIndex="readTimeIndex",oH.readTimeIndexPath="readTime",oH.collectionReadTimeIndex="collectionReadTimeIndex",oH.collectionReadTimeIndexPath=["parentPath","readTime"];var oK=function(t){this.byteSize=t};oK.store="remoteDocumentGlobal",oK.key="remoteDocumentGlobalKey";var oJ=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};oJ.store="targets",oJ.keyPath="targetId",oJ.queryTargetsIndexName="queryTargetsIndex",oJ.queryTargetsKeyPath=["canonicalId","targetId"];var oX=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};oX.store="targetDocuments",oX.keyPath=["targetId","path"],oX.documentTargetsIndex="documentTargetsIndex",oX.documentTargetsKeyPath=["path","targetId"];var oY=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};oY.key="targetGlobalKey",oY.store="targetGlobal";var oW=function(t,e){this.collectionId=t,this.parent=e};oW.store="collectionParents",oW.keyPath=["collectionId","parent"];var oZ=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};oZ.store="clientMetadata",oZ.keyPath="clientId";var oQ=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};oQ.store="bundles",oQ.keyPath="bundleId";var o$=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};o$.store="namedQueries",o$.keyPath="name";var o0=(0,nS.pr)((0,nS.pr)((0,nS.pr)((0,nS.pr)([oF.store,oG.store,oq.store,oH.store,oJ.store,oV.store,oY.store,oX.store],[oZ.store]),[oK.store]),[oW.store]),[oQ.store,o$.store]),o1=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return(0,nS.ZT)(e,t),e}(oL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e){return o_.zn(t.ps,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o3=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o,s,a,u=this.mutations[i];u.key.isEqual(t)&&(o=u,s=e,a=r[i],e=o instanceof ib?function(t,e,n){var r=t.value;if(n.transformResults){var i=iE(t.fieldTransforms,e,n.transformResults);r=i_(t.fieldTransforms,r,i)}return new rE(t.key,n.version,r,{hasCommittedMutations:!0})}(o,s,a):o instanceof iw?function(t,e,n){if(!id(t.jt,e))return new r_(t.key,n.version);var r=iI(t,e,n.transformResults?iE(t.fieldTransforms,e,n.transformResults):[]);return new rE(t.key,n.version,r,{hasCommittedMutations:!0})}(o,s,a):new rT(o.key,a.version,{hasCommittedMutations:!0}))}return e},t.prototype.Cs=function(t,e){for(var n,r=0,i=this.baseMutations;r<i.length;r++)(n=i[r]).key.isEqual(t)&&(e=iy(n,e,this.vs));for(var o=0,s=this.mutations;o<s.length;o++)(n=s[o]).key.isEqual(t)&&(e=iy(n,e,this.vs));return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},iK())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&nV(this.mutations,t.mutations,function(t,e){return im(t,e)})&&nV(this.baseMutations,t.baseMutations,function(t,e){return im(t,e)})},t}(),o4=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){e.mutations.length===r.length||nM();for(var i=iz,o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),o5=function(t){this.Fs=t};function o6(t,e){if(e.document)return oh(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=n3.Et(e.noDocument.path),r=se(e.noDocument.readTime);return new rT(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?new r_(n3.Et(e.unknownDocument.path),r=se(e.unknownDocument.version)):nM()}function o9(t,e,n){var r=o8(n),i=e.key.path.X().it();if(e instanceof rE){var o,s={name:oi(o=t.Fs,e.key),fields:e.bt().mapValue.fields,updateTime:i7(o,e.version.j())},a=e.hasCommittedMutations;return new oH(null,null,s,a,r,i)}if(e instanceof rT){var u=e.key.path.it(),c=st(e.version);return a=e.hasCommittedMutations,new oH(null,new oB(u,c),null,a,r,i)}return e instanceof r_?new oH(new oz(e.key.path.it(),st(e.version)),null,null,!0,r,i):nM()}function o8(t){var e=t.j();return[e.seconds,e.nanoseconds]}function o7(t){var e=new nZ(t[0],t[1]);return nQ.K(e)}function st(t){var e=t.j();return new oU(e.seconds,e.nanoseconds)}function se(t){var e=new nZ(t.seconds,t.nanoseconds);return nQ.K(e)}function sn(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ol(t.Fs,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map(function(e){return ol(t.Fs,e)}),a=nZ.fromMillis(e.localWriteTimeMs);return new o3(e.batchId,a,n,s)}function sr(t){var e,n,r=se(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?se(t.lastLimboFreeSnapshotVersion):nQ.min();return void 0!==t.query.documents?(1===(n=t.query).documents.length||nM(),e=rQ(rH(os(n.documents[0])))):e=rQ(ov(t.query)),new r5(e,t.targetId,0,t.lastListenSequenceNumber,r,i,nF.fromBase64String(t.resumeToken))}function si(t,e){var n,r=st(e.Ot),i=st(e.lastLimboFreeSnapshotVersion);n=rO(e.target)?op(t.Fs,e.target):od(t.Fs,e.target);var o=e.resumeToken.toBase64();return new oJ(e.targetId,rN(e.target),r,o,e.sequenceNumber,i,n)}function so(t){var e=ov({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?r$(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss=function(){function t(){}return t.prototype.Os=function(t,e){return sa(t).get(e).next(function(t){if(t)return{id:t.bundleId,createTime:se(t.createTime),version:t.version}})},t.prototype.ks=function(t,e){return sa(t).put({bundleId:e.id,createTime:st(oe(e.createTime)),version:e.version})},t.prototype.Ms=function(t,e){return su(t).get(e).next(function(t){if(t)return{name:t.name,query:so(t.bundledQuery),readTime:se(t.readTime)}})},t.prototype.Ls=function(t,e){return su(t).put({name:e.name,readTime:st(oe(e.readTime)),bundledQuery:e.bundledQuery})},t}();function sa(t){return o2(t,oQ.store)}function su(t){return o2(t,o$.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc=function(){function t(){this.Bs=new sh}return t.prototype.qs=function(t,e){return this.Bs.add(e),oE.resolve()},t.prototype.Us=function(t,e){return oE.resolve(this.Bs.getEntries(e))},t}(),sh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new iF(n0.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new iF(n0.H)).it()},t}(),sf=function(){function t(){this.Qs=new sh}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:oM(i)};return sl(t).put(o)}return oE.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[e+"\0",""],!1,!0);return sl(t).rs(r).next(function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.collectionId!==e)break;n.push(oj(i.parent))}return n})},t}();function sl(t){return o2(t,oW.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sp={Ks:!1,Ws:0,js:0,Gs:0},sd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){if(t.code!==nG.FAILED_PRECONDITION||t.message!==oR)throw t;return nC("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sd.Xs=10,sd.Zs=1e3,sd.ti=new sd(41943040,sd.Xs,sd.Zs),sd.ei=new sd(-1,0,0);var sy=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(this.si(o,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){n5(this.ii,function(e,n){for(var r=0;r<n.length;r++){var i=n[r];t(i[0],i[1])}})},t.prototype.et=function(){return n6(this.ii)},t}(),sm=function(){function t(){this.ri=new sy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:nQ.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?oE.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e,n){var r=t.store(oG.store),i=t.store(oq.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){1===a||nM()}));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=oq.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return oE.Mn(o).next(function(){return c})}function sb(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nM();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return""!==e.uid||nM(),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sE(t).hs({index:oG.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=sT(t),s=sE(t);return s.add({}).next(function(a){"number"==typeof a||nM();for(var u,c,h,f,l=new o3(a,e,n,r),p=(u=i.Qt,c=i.userId,h=l.baseMutations.map(function(t){return of(u.Fs,t)}),f=l.mutations.map(function(t){return of(u.Fs,t)}),new oG(c,l.batchId,l.vs.toMillis(),h,f)),d=[],v=new iF(function(t,e){return nU(t.rt(),e.rt())}),y=0;y<r.length;y++){var m=r[y],g=oq.key(i.userId,m.key.path,a);v=v.add(m.key.path.X()),d.push(s.put(p)),d.push(o.put(g,oq.PLACEHOLDER))}return v.forEach(function(e){d.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=l.keys()}),oE.Mn(d).next(function(){return l})})},t.prototype.Pi=function(t,e){var n=this;return sE(t).get(e).next(function(t){return t?(t.userId===n.userId||nM(),sn(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?oE.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sE(t).hs({index:oG.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(e.batchId>=r||nM(),o=sn(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sE(t).hs({index:oG.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sE(t).rs(oG.userMutationsIndex,n).next(function(t){return t.map(function(t){return sn(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=oq.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return sT(t).hs({range:i},function(r,i,s){var a=r[0],u=r[1],c=r[2],h=oj(u);if(a===n.userId&&e.path.isEqual(h))return sE(t).get(c).next(function(t){if(!t)throw nM();t.userId===n.userId||nM(),o.push(sn(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new iF(nU),i=[];return e.forEach(function(e){var o=oq.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=sT(t).hs({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=oj(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),oE.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=oq.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new iF(nU);return sT(t).hs({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],h=oj(u);s===n.userId&&r.nt(h)?h.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(sE(t).get(e).next(function(t){if(null===t)throw nM();t.userId===n.userId||nM(),r.push(sn(n.Qt,t))}))}),oE.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return sg(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),oE.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return oE.resolve();var r=IDBKeyRange.lowerBound(oq.prefixForUser(e.userId)),i=[];return sT(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=oj(t[1]);i.push(o)}else r.done()}).next(function(){0===i.length||nM()})})},t.prototype.Fi=function(t,e){return sI(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return s_(t).get(this.userId).next(function(t){return t||new oF(e.userId,-1,"")})},t}();function sI(t,e,n){var r=oq.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return sT(t).hs({range:o,us:!0},function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function sE(t){return o2(t,oG.store)}function sT(t){return o2(t,oq.store)}function s_(t){return o2(t,oF.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sA=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),sS=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new sA(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return nQ.K(new nZ(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return sN(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return e.targetCount>0||nM(),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return sN(t).hs(function(s,a){var u=sr(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return oE.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return sN(t).hs(function(t,n){e(sr(n))})},t.prototype.qi=function(t){return sk(t).get(oY.key).next(function(t){return null!==t||nM(),t})},t.prototype.Ui=function(t,e){return sk(t).put(oY.key,e)},t.prototype.Gi=function(t,e){return sN(t).put(si(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=rN(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sN(t).hs({range:r,index:oJ.queryTargetsIndexName},function(t,n,r){var o=sr(n);rk(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=sO(t);return e.forEach(function(e){var s=oM(e.path);i.push(o.put(new oX(n,s))),i.push(r.Ti.nr(t,n,e))}),oE.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=sO(t);return oE.forEach(e,function(e){var o=oM(e.path);return oE.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=sO(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sO(t),i=iK();return r.hs({range:n,us:!0},function(t,e,n){var r=new n3(oj(t[1]));i=i.add(r)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=oM(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return sO(t).hs({index:oX.documentTargetsIndex,us:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return sN(t).get(e).next(function(t){return t?sr(t):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){return o2(t,oJ.store)}function sk(t){return o2(t,oY.store)}function sO(t){return o2(t,oX.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=nU(n,i);return 0===s?nU(r,o):s}var sP=function(){function t(t){this.cr=t,this.buffer=new iF(sD),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();0>sD(e,n)&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),sC=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;nC("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return(0,nS.mG)(e,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return oN(e=n.sent())?(nC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),sx=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return oE.resolve(nW.q);var r=new sP(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return -1===this.params.zs?(nC("LruGarbageCollector","Garbage collection skipped; disabled"),oE.resolve(sp)):this.pr(t).next(function(r){return r<n.params.zs?(nC("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),sp):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,s,a,u,c,h=this,f=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>h.params.Js?(nC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Js+" from "+e),r=h.params.Js):r=e,s=Date.now(),h.Pr(t,r)}).next(function(r){return n=r,a=Date.now(),h.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),h.gr(t,n)}).next(function(t){return c=Date.now(),nP()<=o.in.DEBUG&&nC("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(s-f)+"ms\n	Determined least recently used "+r+" in "+(a-s)+"ms\n	Removed "+i+" targets in "+(u-a)+"ms\n	Removed "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),oE.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),sR=function(){function t(t,e){this.db=t,this.lr=new sx(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return sL(t,n)},t.prototype.ir=function(t,e,n){return sL(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return sL(t,e)},t.prototype.Cr=function(t,e){var n;return n=!1,s_(t).ls(function(r){return sI(t,r,e).next(function(t){return t&&(n=!0),oE.resolve(!t)})}).next(function(){return n})},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),sO(t).delete([0,oM(s.path)])})});i.push(u)}}).next(function(){return oE.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return sL(t,e)},t.prototype.Dr=function(t,e){var n,r=sO(t),i=nW.q;return r.hs({index:oX.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==nW.q&&e(new n3(oj(n)),i),i=a,n=s):i=nW.q}).next(function(){i!==nW.q&&e(new n3(oj(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function sL(t,e){var n;return sO(t).put((n=t.bs,new oX(0,oM(e.path),n)))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sM=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return sV(t).put(sF(e),n)},t.prototype.li=function(t,e){var n=sV(t),r=sF(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return sV(t).get(sF(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return sV(t).get(sF(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:sb(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=iq;return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=iq,i=new ij(n3.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,sb(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return oE.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return sV(t).hs({range:r},function(t,e,r){for(var s=n3.Et(t);o&&0>n3.H(o,s);)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=iB,o=e.path.length+1,s={};if(n.isEqual(nQ.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=o8(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=oH.collectionReadTimeIndex}return sV(t).hs(s,function(t,n,s){if(t.length===o){var a=o6(r.Qt,n);e.path.nt(a.key.path)?a instanceof rE&&r3(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new sj(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return sU(t).get(oK.key).next(function(t){return t||nM(),t})},t.prototype.kr=function(t,e){return sU(t).put(oK.key,e)},t.prototype.Mr=function(t){if(t){var e=o6(this.Qt,t);return e instanceof rT&&e.version.isEqual(nQ.min())?null:e}return null},t}(),sj=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new sy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,nS.ZT)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new iF(function(t,e){return nU(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=o9(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=sb(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var h=o9(e.jr.Qt,new rT(o,nQ.min()),e.ci(o));n.push(e.jr.ai(t,o,h))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),oE.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(sm);function sU(t){return o2(t,oK.store)}function sV(t){return o2(t,oH.store)}function sF(t){return t.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sG=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;n<r&&n>=0&&r<=11||nM();var o=new oT("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(oV.store)}(t),t.createObjectStore(oF.store,{keyPath:oF.keyPath}),t.createObjectStore(oG.store,{keyPath:oG.keyPath,autoIncrement:!0}).createIndex(oG.userMutationsIndex,oG.userMutationsKeyPath,{unique:!0}),t.createObjectStore(oq.store),sq(t),function(t){t.createObjectStore(oH.store)}(t));var s=oE.resolve();return n<3&&r>=3&&(0!==n&&(t.deleteObjectStore(oX.store),t.deleteObjectStore(oJ.store),t.deleteObjectStore(oY.store),sq(t)),s=s.next(function(){var t,e;return t=o.store(oY.store),e=new oY(0,0,nQ.min().j(),0),t.put(oY.key,e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return o.store(oG.store).rs().next(function(e){t.deleteObjectStore(oG.store),t.createObjectStore(oG.store,{keyPath:oG.keyPath,autoIncrement:!0}).createIndex(oG.userMutationsIndex,oG.userMutationsKeyPath,{unique:!0});var n=o.store(oG.store),r=e.map(function(t){return n.put(t)});return oE.Mn(r)})})),s=s.next(function(){!function(t){t.createObjectStore(oZ.store,{keyPath:oZ.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(oK.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){var n;t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(oH.store)).createIndex(oH.readTimeIndex,oH.readTimeIndexPath,{unique:!1}),n.createIndex(oH.collectionReadTimeIndex,oH.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){(function(t){t.createObjectStore(oQ.store,{keyPath:oQ.keyPath})})(t),function(t){t.createObjectStore(o$.store,{keyPath:o$.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(oH.store).hs(function(t,n){e+=sb(n)}).next(function(){var n=new oK(e);return t.store(oK.store).put(oK.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(oF.store),r=t.store(oG.store);return n.rs().next(function(n){return oE.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(oG.userMutationsIndex,i).next(function(r){return oE.forEach(r,function(r){r.userId===n.userId||nM();var i=sn(e.Qt,r);return sg(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(oX.store),n=t.store(oH.store);return t.store(oY.store).get(oY.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new n0(n),s=[0,oM(o)];r.push(e.get(s).next(function(n){return n?oE.resolve():e.put(new oX(0,oM(o),t.highestListenSequenceNumber))}))}).next(function(){return oE.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(oW.store,{keyPath:oW.keyPath});var n=e.store(oW.store),r=new sh,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:oM(i)})}};return e.store(oH.store).hs({us:!0},function(t,e){return i(new n0(t).X())}).next(function(){return e.store(oq.store).hs({us:!0},function(t,e){t[0];var n=t[1];return i((t[2],oj(n)).X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(oJ.store);return n.hs(function(t,r){var i=sr(r),o=si(e.Qt,i);return n.put(o)})},t}();function sq(t){t.createObjectStore(oX.store,{keyPath:oX.keyPath}).createIndex(oX.documentTargetsIndex,oX.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(oJ.store,{keyPath:oJ.keyPath}).createIndex(oJ.queryTargetsIndexName,oJ.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(oY.store)}var sB="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sz=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=h,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new nq(nG.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new sR(this,i),this.ho=n+"main",this.Qt=new o5(u),this.lo=new o_(this.ho,11,new sG(this.Qt)),this._o=new sS(this.Ti,this.Qt),this.Ei=new sf,this.fo=new sM(this.Qt,this.Ei),this.wo=new ss,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===h&&nx("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new nq(nG.FAILED_PRECONDITION,sB);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new nW(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return(0,nS.mG)(e,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return(0,nS.mG)(e,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return(0,nS.mG)(e,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return sK(e).put(new oZ(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(oN(e))return nC("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return sH(t).get(oV.key).next(function(t){return oE.resolve(e.Do(t))})},t.prototype.Co=function(t){return sK(t).delete(this.clientId)},t.prototype.xo=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e,n,r,i=this;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=o2(t,oZ.store);return e.rs().next(function(t){var n=i.$o(t,18e5),r=t.filter(function(t){return -1===n.indexOf(t)});return oE.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?oE.resolve(!0):sH(t).get(oV.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new nq(nG.FAILED_PRECONDITION,sB);return!1}}return!(!e.networkEnabled||!e.inForeground)||sK(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&nC("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t=this;return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[oV.store,oZ.store],function(e){var n=new o1(e,nW.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return sK(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return sw.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nC("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",o0,function(o){return r=new o1(o,i.so?i.so.next():nW.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw nx("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new nq(nG.FAILED_PRECONDITION,oR);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return sH(t).get(oV.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new nq(nG.FAILED_PRECONDITION,sB)})},t.prototype.So=function(t){var e=new oV(this.clientId,this.allowTabSynchronization,Date.now());return sH(t).put(oV.key,e)},t.Kn=function(){return o_.Kn()},t.prototype.vo=function(t){var e=this,n=sH(t);return n.get(oV.key).next(function(t){return e.Do(t)?(nC("IndexedDbPersistence","Releasing primary lease."),n.delete(oV.key)):oE.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(nx("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return nC("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return nx("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){nx("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function sH(t){return o2(t,oV.store)}function sK(t){return o2(t,oZ.store)}function sJ(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var sX=function(t,e){this.progress=t,this.Go=e},sY=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0;r<n.length;r++)t=n[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=iq;return e.forEach(function(t,e){for(var i=0;i<n.length;i++)e=n[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=iq;return i.forEach(function(t,e){e||(e=new rT(t,nQ.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return n3.wt(e.path)&&null===e.collectionGroup&&0===e.filters.length?this.tc(t,e.path):rW(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new n3(e)).next(function(t){var e=iB;return t instanceof rE&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=iB;return this.Ei.Us(t,i).next(function(s){return oE.forEach(s,function(s){var a=new rz(s.child(i),null,e.xt.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt);return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return i=e,o.sc(t,i,r).next(function(t){r=t;for(var e=0;e<i.length;e++)for(var n=i[e],o=0,s=n.mutations;o<s.length;o++){var a=s[o],u=a.key,c=iy(a,r.get(u),n.vs);r=c instanceof rE?r.zt(u,c):r.remove(u)}})}).next(function(){return r.forEach(function(t,n){r3(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=iK(),i=0;i<e.length;i++)for(var o=0,s=e[i].mutations;o<s.length;o++){var a=s[o];a instanceof iw&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof rE&&(u=u.zt(t,e))}),u})},t}(),sW=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=iK(),i=iK(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sZ=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.xt.length||1===e.xt.length&&e.xt[0].field.ut())||n.isEqual(nQ.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(s){var a=i.hc(e,s);return(rK(e)||rJ(e))&&i.lc(e.limitType,a,r,n)?i.uc(t,e):(nP()<=o.in.DEBUG&&nC("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),r2(e)),i.ac.Kr(t,e,n).next(function(t){return a.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new iF(r4(t));return e.forEach(function(e,r){r instanceof rE&&r3(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return nP()<=o.in.DEBUG&&nC("QueryEngine","Using full collection scan to execute query:",r2(e)),this.ac.Kr(t,e,nQ.min())},t}(),sQ=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new ij(nU),this.dc=new sy(function(t){return rN(t)},rk),this.wc=nQ.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new sY(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function s$(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,nS.Jh)(this,function(s){switch(s.label){case 0:return r=(n=t).zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new sY(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=iK(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0;p<e.length;p++){var d=e[p];r.push(d.batchId);for(var v=0,y=d.mutations;v<y.length;v++){var m=y[v];s=s.add(m.key)}}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function s0(t){return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t._o.Qi(e)})}function s1(t,e,n,r,i){var o=iK();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=iq;return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof rT&&s.version.isEqual(nQ.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):nC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function s2(t,e){return t.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return t._o.tr(n,e).next(function(i){return i?(r=i,oE.resolve(r)):t._o.Bi(n).next(function(i){return r=new r5(e,i,0,n.bs),t._o.ji(n,r).next(function(){return r})})})}).then(function(n){var r=t.fc.get(n.targetId);return(null===r||n.Ot._(r.Ot)>0)&&(t.fc=t.fc.zt(n.targetId,n),t.dc.set(e,n.targetId)),n})}function s3(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,nS.Jh)(this,function(a){switch(a.label){case 0:i=(r=t).fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!oN(s=a.sent()))throw s;return nC("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function s4(t,e,n){var r=nQ.min(),i=iK();return t.persistence.runTransaction("Execute query","readonly",function(o){var s,a;return(s=rQ(e),void 0!==(a=t.dc.get(s))?oE.resolve(t.fc.get(a)):t._o.tr(o,s)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,t._o.rr(o,e.targetId).next(function(t){i=t})}).next(function(){return t._c.Kr(o,e,n?r:nQ.min(),n?i:iK())}).next(function(t){return{documents:t,Rc:i}})})}function s5(t,e){var n=t._o,r=t.fc.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",function(t){return n.Sn(t,e).next(function(t){return t?t.target:null})})}function s6(t){return t.persistence.runTransaction("Get new document changes","readonly",function(e){var n,r,i,o,s,a;return n=t.Ec,r=t.wc,i=iq,o=o8(r),s=sV(e),a=IDBKeyRange.lowerBound(o,!0),s.hs({index:oH.readTimeIndex,range:a},function(t,e){var r=o6(n.Qt,e);i=i.zt(r.key,r),o=e.readTime}).next(function(){return{Go:i,readTime:o7(o)}})}).then(function(e){var n=e.Go,r=e.readTime;return t.wc=r,n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s9=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return oE.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){return this.Vc.set(e.id,{id:e.id,version:e.version,createTime:oe(e.createTime)}),oE.resolve()},t.prototype.Ms=function(t,e){return oE.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,{name:e.name,query:so(e.bundledQuery),readTime:oe(e.readTime)}),oE.resolve()},t}(),s8=function(){function t(){this.vc=new iF(s7.Sc),this.Dc=new iF(s7.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new s7(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new s7(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new n3(new n0([])),r=new s7(n,t),i=new s7(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new n3(new n0([])),n=new s7(e,t),r=new s7(e,t+1),i=iK();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new s7(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),s7=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return n3.H(t.key,e.key)||nU(t.Mc,e.Mc)},t.Cc=function(t,e){return nU(t.Mc,e.Mc)||n3.H(t.key,e.key)},t}(),at=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new iF(s7.Sc)}return t.prototype.Ai=function(t){return oE.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new o3(i,e,n,r);this.zo.push(o);for(var s=0;s<r.length;s++){var a=r[s];this.Bc=this.Bc.add(new s7(a.key,i)),this.Ei.qs(t,a.key.path.X())}return oE.resolve(o)},t.prototype.Pi=function(t,e){return oE.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return oE.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return oE.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return oE.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new s7(e,0),i=new s7(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),oE.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new iF(nU);return e.forEach(function(t){var e=new s7(t,0),i=new s7(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),oE.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;n3.wt(i)||(i=i.child(""));var o=new s7(new n3(i),0),s=new iF(nU);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),oE.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;0===this.Kc(e.batchId,"removed")||nM(),this.zo.shift();var r=this.Bc;return oE.forEach(e.mutations,function(i){var o=new s7(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new s7(e,0),r=this.Bc.Re(n);return oE.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,oE.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),ae=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new ij(n3.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return oE.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=iq;return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),oE.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=iB,i=new n3(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.key,u=s.value,c=u.hi,h=u.readTime;if(!e.path.nt(a.path))break;0>=h._(n)||c instanceof rE&&r3(e,c)&&(r=r.zt(c.key,c))}return oE.resolve(r)},t.prototype.jc=function(t,e){return oE.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new an(this)},t.prototype.Or=function(t){return oE.resolve(this.size)},t}(),an=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return(0,nS.ZT)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),oE.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(sm),ar=function(){function t(t){this.persistence=t,this.Gc=new sy(function(t){return rN(t)},rk),this.lastRemoteSnapshotVersion=nQ.min(),this.highestTargetId=0,this.zc=0,this.Hc=new s8,this.targetCount=0,this.Jc=sA.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),oE.resolve()},t.prototype.Qi=function(t){return oE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return oE.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),oE.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),oE.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new sA(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,oE.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),oE.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,oE.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),oE.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return oE.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return oE.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),oE.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),oE.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),oE.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return oE.resolve(n)},t.prototype.Fi=function(t,e){return oE.resolve(this.Hc.Fi(e))},t}(),ai=function(){function t(t,e){var n=this;this.Yc={},this.so=new nW(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new ar(this),this.Ei=new sc,this.fo=new ae(this.Ei,function(t){return n.Ti.Xc(t)}),this.Qt=new o5(e),this.wo=new s9(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new at(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;nC("MemoryPersistence","Starting transaction:",t);var i=new ao(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return oE.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),ao=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return(0,nS.ZT)(e,t),e}(oL),as=function(){function t(t){this.persistence=t,this.na=new s8,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw nM()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),oE.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),oE.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),oE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return oE.forEach(this.ra,function(r){var i=n3._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return oE.Ln([function(){return oE.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){return"firestore_clients_"+t+"_"+e}function au(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function ac(t,e){return"firestore_targets_"+t+"_"+e}var ah=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new nq(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(nx("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),af=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nq(i.error.code,i.error.message)),o?new t(e,i.state,r):(nx("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),al=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=iJ,s=0;i&&s<r.activeTargetIds.length;++s)i=rs(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(nx("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ap=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(nx("SharedClientState","Failed to parse online state: "+e),null)},t}(),ad=function(){function t(){this.activeTargetIds=iJ}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()})},t}(),av=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new ij(nU),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=aa(this.persistenceKey,this.la),this.ma="firestore_sequence_number_"+this.persistenceKey,this.Ea=this.Ea.zt(this.la,new ad),this.Aa=RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya="firestore_online_state_"+this.persistenceKey,this.ga="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,h,f=this;return(0,nS.Jh)(this,function(l){switch(l.label){case 0:return[4,this._a.Uo()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(aa(this.persistenceKey,r)))&&(o=al.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)h=c[u],this.wa(h);return this.Ta=[],this.window.addEventListener("unload",function(){return f.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(ac(this.persistenceKey,t));if(n){var r=af.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(ac(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nC("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nC("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nC("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this;if(t.storageArea===this.storage){if(nC("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ia)return void nx("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return(0,nS.mG)(e,void 0,void 0,function(){var e,n,r,i,o,s;return(0,nS.Jh)(this,function(a){if(this.Er){if(null!==t.key){if(this.Aa.test(t.key)){if(null==t.newValue)return e=this.Ga(t.key),[2,this.za(e,null)];if(n=this.Ha(t.key,t.newValue))return[2,this.za(n.clientId,n)]}else if(this.Ra.test(t.key)){if(null!==t.newValue&&(r=this.Ja(t.key,t.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(t.key)){if(null!==t.newValue&&(i=this.Xa(t.key,t.newValue)))return[2,this.Za(i)]}else if(t.key===this.ya){if(null!==t.newValue&&(o=this.pa(t.newValue)))return[2,this.ba(o)]}else if(t.key===this.ma)(s=function(t){var e=nW.q;if(null!=t)try{var n=JSON.parse(t);"number"==typeof n||nM(),e=n}catch(t){nx("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==nW.q&&this.k(s);else if(t.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(t);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new ah(this.currentUser,t,e,n),i=au(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=au(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=ac(this.persistenceKey,t),i=new af(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return al.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ah.ca(new nz(i),r,e)},t.prototype.Xa=function(t,e){var n=Number(this.Pa.exec(t)[1]);return af.ca(n,e)},t.prototype.pa=function(t){return ap.ca(t)},t.prototype.Ya=function(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(nC("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=iJ;return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),ay=function(){function t(){this.iu=new ad,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new ad,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),am=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),ag=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){nC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){nC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aw=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),aI=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return(0,nS.ZT)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new eW;s.listenOnce(t$.COMPLETE,function(){try{switch(s.getLastErrorCode()){case tQ.NO_ERROR:var e=s.getResponseJson();nC("Connection","XHR received:",JSON.stringify(e)),i(e);break;case tQ.TIMEOUT:nC("Connection",'RPC "'+t+'" timed out'),o(new nq(nG.DEADLINE_EXCEEDED,"Request time out"));break;case tQ.HTTP_ERROR:var n=s.getStatus();if(nC("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a,u=(a=r.status.toLowerCase().replace(/_/g,"-"),Object.values(nG).indexOf(a)>=0?a:nG.UNKNOWN);o(new nq(u,r.message))}else o(new nq(nG.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new nq(nG.UNAVAILABLE,"Connection failed."));break;default:nM()}}finally{nC("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new nw,i=tH(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),(0,s.uI)()||(0,s.b$)()||(0,s.d)()||(0,s.w1)()||(0,s.Mn)()||(0,s.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");nC("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),c=!1,h=!1,f=new aw({fu:function(t){h?nC("Connection","Not sending because WebChannel is closed:",t):(c||(nC("Connection","Opening WebChannel transport."),u.open(),c=!0),nC("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),l=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return l(u,t2.EventType.OPEN,function(){h||nC("Connection","WebChannel transport opened.")}),l(u,t2.EventType.CLOSE,function(){h||(h=!0,nC("Connection","WebChannel transport closed"),f.Ru())}),l(u,t2.EventType.ERROR,function(t){h||(h=!0,nR("Connection","WebChannel transport errored:",t),f.Ru(new nq(nG.UNAVAILABLE,"The operation could not be completed")))}),l(u,t2.EventType.MESSAGE,function(t){var e;if(!h){var n=t.data[0];n||nM();var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nC("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=iD[t];if(void 0!==e)return iM(e)}(i),s=r.message;void 0===o&&(o=nG.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),h=!0,f.Ru(new nq(o,s)),u.close()}else nC("Connection","WebChannel received:",n),f.Pu(n)}}),l(i,tB.STAT_EVENT,function(t){t.stat===nA.PROXY?nC("Connection","Detected buffering proxy"):t.stat===nA.NOPROXY&&nC("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Au()},0),f},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);nC("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return nC("RestConnection","Received: ",t),t},function(e){throw nR("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=ab[t];return this.gu+"/v1/"+e+":"+n},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return"undefined"!=typeof window?window:null}function aT(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){return new i8(t,!0)}var aA=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&nC("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),aS=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new aA(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===nG.RESOURCE_EXHAUSTED?(nx(e.toString()),nx("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===nG.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new nq(nG.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return(0,nS.mG)(t,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return nC("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(nC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),aN=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return(0,nS.ZT)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r,i,o,s="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:nM(),a=e.targetChange.targetIds||[],u=(i=e.targetChange.resumeToken,t.Bt?(void 0===i||"string"==typeof i||nM(),nF.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||nM(),nF.fromUint8Array(i||new Uint8Array))),c=(h=e.targetChange.cause)&&new nq(void 0===(o=h).code?nG.UNKNOWN:iM(o.code),o.message||"");n=new i1(s,a,u,c||null)}else if("documentChange"in e){e.documentChange,(s=e.documentChange).document,s.document.name,s.document.updateTime,a=oo(t,s.document.name),u=oe(s.document.updateTime);var h=new rb({mapValue:{fields:s.document.fields}});n=new i$((c=new rE(a,u,h,{}),s.targetIds||[]),s.removedTargetIds||[],c.key,c)}else if("documentDelete"in e)e.documentDelete,(s=e.documentDelete).document,h=new rT(a=oo(t,s.document),u=s.readTime?oe(s.readTime):nQ.min()),n=new i$([],c=s.removedTargetIds||[],h.key,h);else if("documentRemove"in e)e.documentRemove,(s=e.documentRemove).document,a=oo(t,s.document),n=new i$([],u=s.removedTargetIds||[],a,null);else{if(!("filter"in e))return nM();e.filter;var f=e.filter;f.targetId,a=new iR(s=f.count||0),n=new i0(u=f.targetId,a)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return nQ.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?nQ.min():e.readTime?oe(e.readTime):nQ.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e,n,r,i,o={};o.database=oa(this.Qt),o.addTarget=(e=this.Qt,(n=rO(r=t.target)?{documents:op(e,r)}:{query:od(e,r)}).targetId=t.targetId,t.resumeToken.l()>0?n.resumeToken=ot(e,t.resumeToken):t.Ot._(nQ.min())>0&&(n.readTime=i7(e,t.Ot.j())),n);var s=(this.Qt,null==(i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nM()}}(0,t.Ft))?null:{"goog-listen-tags":i});s&&(o.labels=s),this.th(o)},e.prototype.hh=function(t){var e={};e.database=oa(this.Qt),e.removeTarget=t,this.th(e)},e}(aS),ak=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(t.streamToken||nM(),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e,n,r=(e=t.writeResults,n=t.commitTime,e&&e.length>0?(void 0!==n||nM(),e.map(function(t){var e,r;return(e=t.updateTime?oe(t.updateTime):oe(n)).isEqual(nQ.min())&&(e=oe(n)),r=null,t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new il(e,r)})):[]),i=oe(t.commitTime);return this.listener.dh(i,r)}return t.writeResults&&0!==t.writeResults.length&&nM(),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=oa(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return of(e.Qt,t)})};this.th(n)},e}(aS),aO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return(0,nS.ZT)(e,t),e.prototype.Ih=function(){if(this.Th)throw new nq(nG.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===nG.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===nG.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),aD=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(nx(e),this.Rh=!1):nC("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),aP=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return(0,nS.mG)(o,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return aF(this)?(nC("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return(e=t).Nh.add(4),[4,ax(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,aC(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new aD(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:if(!aF(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ax(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function aR(t,e){t.xh.has(e.targetId)||(t.xh.set(e.targetId,e),aV(t)?aU(t):a0(t).Hu()&&aM(t,e))}function aL(t,e){var n=a0(t);t.xh.delete(e),n.Hu()&&aj(t,e),0===t.xh.size&&(n.Hu()?n.Xu():aF(t)&&t.Oh.set("Unknown"))}function aM(t,e){t.kh.on(e.targetId),a0(t).uh(e)}function aj(t,e){t.kh.on(e),a0(t).hh(e)}function aU(t){t.kh=new i3({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),a0(t).start(),t.Oh.Ph()}function aV(t){return aF(t)&&!a0(t).zu()&&t.xh.size>0}function aF(t){return 0===t.Nh.size}function aG(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){return t.xh.forEach(function(e,n){aM(t,e)}),[2]})})}function aq(t,e){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){return t.kh=void 0,aV(t)?(t.Oh.Vh(e),aU(t)):t.Oh.set("Unknown"),[2]})})}function aB(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o;return(0,nS.Jh)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof i1&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,nS.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:case 4:return s.sent(),[3,5];case 3:return r=s.sent(),nC("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,az(t,r)];case 5:return[3,13];case 6:if(e instanceof i$?t.kh.dn(e):e instanceof i0?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(nQ.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,s0(t.bh)];case 8:var a;return i=s.sent(),n._(i)>=0?[4,((a=t.kh.Vn(n)).$e.forEach(function(e,r){if(e.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(e.resumeToken,n))}}),a.Fe.forEach(function(e){var n=t.xh.get(e);n&&(t.xh.set(e,n.Mt(nF.T,n.Ot)),aj(t,e),aM(t,new r5(n.target,e,1,n.sequenceNumber)))}),t.Dh.Lh(a))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return nC("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,az(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function az(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r=this;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:if(!oN(e))throw e;return t.Nh.add(1),[4,ax(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return s0(t.bh)}),t._s.po(function(){return(0,nS.mG)(r,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return nC("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,aC(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function aH(t,e){return e().catch(function(n){return az(t,n,e)})}function aK(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,nS.Jh)(this,function(s){var a,u,c;switch(s.label){case 0:n=a1(e=t),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!(aF(a=e)&&a.Ch.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,(u=e.bh,c=r,u.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===c&&(c=-1),u.zo.gi(t,c)}))];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=a1(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,az(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return aJ(e)&&aX(e),[2]}})})}function aJ(t){return aF(t)&&!a1(t).zu()&&t.Ch.length>0}function aX(t){a1(t).start()}function aY(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){return a1(t).Eh(),[2]})})}function aW(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n,r,i;return(0,nS.Jh)(this,function(o){for(e=a1(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]})})}function aZ(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=o4.from(r,e,n),[4,aH(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,aK(t)];case 2:return o.sent(),[2]}})})}function aQ(t,e){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e&&a1(t)._h?[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return iL(r=e.code)&&r!==nG.ABORTED?(n=t.Ch.shift(),a1(t).Yu(),[4,aH(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,aK(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return aJ(t)&&aX(t),[2]}})})}function a$(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return n=t,e?(n.Nh.delete(2),[4,aC(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,ax(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function a0(t){var e,n,r,i=this;return t.Uh||(t.Uh=(e=t.Sh,n=t._s,r={wu:aG.bind(null,t),Tu:aq.bind(null,t),ah:aB.bind(null,t)},e.Ih(),new aN(n,e.Qu,e.credentials,e.Qt,r)),t.$h.push(function(e){return(0,nS.mG)(i,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e?(t.Uh.Yu(),aV(t)?aU(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:n.sent(),t.kh=void 0,n.label=3;case 3:return[2]}})})})),t.Uh}function a1(t){var e,n,r,i=this;return t.Qh||(t.Qh=(e=t.Sh,n=t._s,r={wu:aY.bind(null,t),Tu:aQ.bind(null,t),wh:aW.bind(null,t),dh:aZ.bind(null,t)},e.Ih(),new ak(n,e.Qu,e.credentials,e.Qt,r)),t.$h.push(function(e){return(0,nS.mG)(i,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e?(t.Qh.Yu(),[4,aK(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:n.sent(),t.Ch.length>0&&(nC("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),n.label=4;case 4:return[2]}})})})),t.Qh}var a2=function(){this.Kh=void 0,this.listeners=[]},a3=function(){this.queries=new sy(function(t){return r1(t)},r0),this.onlineState="Unknown",this.Wh=new Set};function a4(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,nS.Jh)(this,function(u){switch(u.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new a2),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=u.sent(),[3,4];case 3:return a=ox(u.sent(),"Initialization of query '"+r2(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&a8(n),[2]}})})}function a5(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,nS.Jh)(this,function(a){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function a6(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r],o=i.query,s=t.queries.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].zh(i)&&(n=!0);s.Kh=i}}n&&a8(t)}function a9(t,e,n){var r=t.queries.get(e);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);t.queries.delete(e)}function a8(t){t.Wh.forEach(function(t){t.next()})}var a7=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new iW(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=iW.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),ut=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),ue=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return oo(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?oh(this.Qt,t.document,!1):new rT(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return oe(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new ue(this.Qt),r=0;r<t.length;r++){var i=t[r];if(i.metadata.queries)for(var o=n.Pc(i.metadata.name),s=0,a=i.metadata.queries;s<a.length;s++){var u=a[s],c=(e.get(u)||iK()).add(o);e.set(u,c)}}return e},t.prototype.complete=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return[4,function(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,h,f,l,p;return(0,nS.Jh)(this,function(d){switch(d.label){case 0:for(i=t,o=iK(),s=iq,a=iz,u=0,c=n;u<c.length;u++)h=c[u],f=e.Pc(h.metadata.name),h.document&&(o=o.add(f)),s=s.zt(f,e.yc(h)),a=a.zt(f,e.gc(h.metadata.readTime));return l=i.Ec.Nr({Wr:!0}),[4,s2(i,rQ(rH(n0.ot("__bundle__/docs/"+r))))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return s1(t,l,s,nQ.min(),a).next(function(e){return l.apply(t),e}).next(function(e){return i._o.Yi(t,p.targetId).next(function(){return i._o.er(t,o,p.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}(this.bh,new ue(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(t,e,n){return void 0===n&&(n=iK()),(0,nS.mG)(this,void 0,void 0,function(){var r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return[4,s2(t,rQ(so(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=oe(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(nF.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sX(Object.assign({},this.progress),t))]}})})}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(t){this.key=t},ur=function(t){this.key=t},ui=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=iK(),this.De=iK(),this.hl=r4(t),this.ll=new iX(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new iY,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=rK(this.query)&&i.size===this.query.limit?i.last():null,c=rJ(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var h=i.get(t),f=e instanceof rE?e:null;f&&(f=r3(n.query,f)?f:null);var l=!!h&&n.De.has(h.key),p=!!f&&(f.Vt||n.De.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.wl(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.hl(f,u)>0||c&&0>n.hl(f,c))&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),rK(this.query)||rJ(this.query))for(;s.size>this.query.limit;){var h=rK(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){var n,i,o;return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nM()}})(n)-o(i)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new iW(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new iY,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=iK(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new ur(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new un(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=iK();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return iW.Ne(this.query,this.ll,this.De,0===this.al)},t}(),uo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},us=function(t){this.key=t,this.Pl=!1},ua=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new sy(function(t){return r1(t)},r0),this.Sl=new Map,this.Dl=new Set,this.Cl=new ij(n3.H),this.xl=new Map,this.Nl=new s8,this.$l={},this.Fl=new Map,this.Ol=sA.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function uu(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,nS.Jh)(this,function(u){switch(u.label){case 0:return(o=(n=uR(t)).vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,s2(n.bh,rQ(e))];case 2:return s=u.sent(),a=n.Vl.Fa(s.targetId),r=s.targetId,[4,uc(n,e,r,"current"===a)];case 3:i=u.sent(),n.Ml&&aR(n.yl,s),u.label=4;case 4:return[2,i]}})})}function uc(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,nS.Jh)(this,function(h){switch(h.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o,s;return(0,nS.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,s4(t.bh,e.query,!1).then(function(t){var n=t.documents;return e.view.fl(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(uE(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,s4(t.bh,e,!0)];case 1:return s=(o=new ui(e,(i=h.sent()).Rc)).fl(i.documents),a=iQ.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),uE(t,n,u.Il),c=new uo(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function uh(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return r=(n=t).vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!r0(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,s3(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),aL(n.yl,r.targetId),uw(n,r.targetId)}).catch(sv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return uw(n,r.targetId),[4,s3(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function uf(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o;return(0,nS.Jh)(this,function(s){var a,u,c,h,f,l,p;switch(s.label){case 0:r=uL(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(a=r.bh,c=nZ.now(),h=e.reduce(function(t,e){return t.add(e.key)},iK()),a.persistence.runTransaction("Locally write mutations","readwrite",function(t){return a.Tc.Xo(t,h).next(function(n){u=n;for(var r=[],i=0;i<e.length;i++){var o,s=e[i],h=(o=u.get(s.key),function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=e instanceof rE?e.field(i.field):void 0,s=it(i.transform,o||null);null!=s&&(n=null==n?(new rw).set(i.field,s):n.set(i.field,s))}return n?n.Pt():null}(s.fieldTransforms,o));null!=h&&r.push(new iw(s.key,h,function t(e){var n=[];return n5(e.fields||{},function(e,r){var i=new n2([e]);if(rg(r)){var o=t(r.mapValue).fields;if(0===o.length)n.push(i);else for(var s=0;s<o.length;s++){var a=o[s];n.push(i.child(a))}}else n.push(i)}),new n9(n)}(h.proto.mapValue),ip.exists(!0)))}return a.zo.Ri(t,c,r,e)})}).then(function(t){var e=t.xs(u);return{batchId:t.batchId,ri:e}}))];case 2:return i=s.sent(),r.Vl.Ca(i.batchId),f=r,l=i.batchId,(p=f.$l[f.currentUser.A()])||(p=new ij(nU)),p=p.zt(l,n),f.$l[f.currentUser.A()]=p,[4,u_(r,i.ri)];case 3:return s.sent(),[4,aK(r.yl)];case 4:return s.sent(),[3,6];case 5:return o=ox(s.sent(),"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ul(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r;return(0,nS.Jh)(this,function(i){var o,s,a;switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,(o=n.bh,s=e.Ot,a=o.fc,o.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var n=o.Ec.Nr({Wr:!0});a=o.fc;var r=[];e.$e.forEach(function(e,n){var i=a.get(n);if(i){r.push(o._o.sr(t,e.Qe,n).next(function(){return o._o.er(t,e.qe,n)}));var u=e.resumeToken;if(u.l()>0){var c=i.Mt(u,s).kt(t.bs);a=a.zt(n,c),c.resumeToken.l()>0||nM(),(0===i.resumeToken.l()||c.Ot.W()-i.Ot.W()>=3e8||e.qe.size+e.Ue.size+e.Qe.size>0)&&r.push(o._o.Hi(t,c))}}});var i=iq;if(e.Oe.forEach(function(n,i){e.ke.has(n)&&r.push(o.persistence.Ti.Fr(t,n))}),r.push(s1(t,n,e.Oe,s,void 0).next(function(t){i=t})),!s.isEqual(nQ.min())){var u=o._o.Qi(t).next(function(e){return o._o.Wi(t,t.bs,s)});r.push(u)}return oE.Mn(r).next(function(){return n.apply(t)}).next(function(){return o.Tc.Zo(t,i)})}).then(function(t){return o.fc=a,t}))];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(t.qe.size+t.Ue.size+t.Qe.size<=1||nM(),t.qe.size>0?r.Pl=!0:t.Ue.size>0?r.Pl||nM():t.Qe.size>0&&(r.Pl||nM(),r.Pl=!1))}),[4,u_(n,r,e)];case 3:case 5:return i.sent(),[3,6];case 4:return[4,sv(i.sent())];case 6:return[2]}})})}function up(t,e,n){if(t.Ml&&0===n||!t.Ml&&1===n){var r,i,o=[];t.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&o.push(r.snapshot)}),(r=t.gl).onlineState=e,i=!1,r.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].Gh(e)&&(i=!0)}),i&&a8(r),o.length&&t.bl.ah(o),t.onlineState=e,t.Ml&&t.Vl.Qa(e)}}function ud(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,nS.Jh)(this,function(c){switch(c.label){case 0:return(r=t).Vl.Ba(e,"rejected",n),(o=(i=r.xl.get(e))&&i.key)?(s=(s=new ij(n3.H)).zt(o,new rT(o,nQ.min())),a=iK().add(o),u=new iZ(nQ.min(),new Map,new iF(nU),s,a),[4,ul(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),uT(r),[3,4];case 2:return[4,s3(r.bh,e,!1).then(function(){return uw(r,e,n)}).catch(sv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function uv(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i;return(0,nS.Jh)(this,function(o){var s;switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=n.bh).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var n,r,i,o=e.batch.keys(),a=s.Ec.Nr({Wr:!0});return(r=(n=e.batch).keys(),i=oE.resolve(),r.forEach(function(r){i=i.next(function(){return a._i(t,r)}).next(function(t){var i=t,o=e.$s.get(r);null!==o||nM(),(!i||0>i.version._(o))&&(i=n.Ss(r,i,e))&&a.ai(i,e.Ns)})}),i.next(function(){return s.zo.Ci(t,n)})).next(function(){return a.apply(t)}).next(function(){return s.zo.$i(t)}).next(function(){return s.Tc.Xo(t,o)})})];case 2:return i=o.sent(),ub(n,r,null),ug(n,r),n.Vl.Na(r,"acknowledged"),[4,u_(n,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,sv(o.sent())];case 6:return[2]}})})}function uy(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i;return(0,nS.Jh)(this,function(o){var s;switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.bh).persistence.runTransaction("Reject batch","readwrite-primary",function(t){var n;return s.zo.Pi(t,e).next(function(e){return null!==e||nM(),n=e.keys(),s.zo.Ci(t,e)}).next(function(){return s.zo.$i(t)}).next(function(){return s.Tc.Xo(t,n)})})];case 2:return i=o.sent(),ub(r,e,n),ug(r,e),r.Vl.Na(e,"rejected",n),[4,u_(r,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,sv(o.sent())];case 6:return[2]}})})}function um(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,nS.Jh)(this,function(s){var a;switch(s.label){case 0:aF((n=t).yl)||nC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(a=n.bh).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a.zo.Vi(t)})];case 2:return -1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=ox(s.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function ug(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function ub(t,e,n){var r=t.$l[t.currentUser.A()];if(r){var i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),t.$l[t.currentUser.A()]=r}}function uw(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||uI(t,e)})}function uI(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(aL(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),uT(t))}function uE(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];i instanceof un?(t.Nl.nr(i.key,e),function(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(nC("SyncEngine","New document in limbo: "+n),t.Dl.add(r),uT(t))}(t,i)):i instanceof ur?(nC("SyncEngine","Document no longer in limbo: "+i.key),t.Nl.ir(i.key,e),t.Nl.Fi(i.key)||uI(t,i.key)):nM()}}function uT(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new n3(n0.ot(e)),r=t.Ol.next();t.xl.set(r,new us(n)),t.Cl=t.Cl.zt(n,r),aR(t.yl,new r5(rQ(rH(n.path)),r,2,nW.q))}}function u_(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,nS.Jh)(this,function(a){switch(a.label){case 0:return i=[],o=[],s=[],(r=t).vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sW.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,h;return(0,nS.Jh)(this,function(f){switch(f.label){case 0:n=t,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return oE.forEach(e,function(e){return oE.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return oE.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return f.sent(),[3,4];case 3:if(!oN(r=f.sent()))throw r;return nC("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=(u=n.fc.get(a)).Ot,h=u.Lt(c),n.fc=n.fc.zt(a,h));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function uA(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r;return(0,nS.Jh)(this,function(i){var o;switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(nC("SyncEngine","User change. New user:",e.A()),[4,s$(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fl.forEach(function(t){t.forEach(function(t){t.reject(new nq(nG.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fl.clear(),n.Vl.Ua(e,r.mc,r.Ac),[4,u_(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function uS(t,e){var n=t.xl.get(e);if(n&&n.Pl)return iK().add(n.key);var r=iK(),i=t.Sl.get(e);if(!i)return r;for(var o=0;o<i.length;o++){var s=i[o],a=t.vl.get(s);r=r.Pe(a.view._l)}return r}function uN(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){return[2,s6((e=t).bh).then(function(t){return u_(e,t)})]})})}function uk(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o;return(0,nS.Jh)(this,function(s){switch(s.label){case 0:var a,u;return[4,(u=(a=(i=t).bh).zo,a.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return u.yi(t,e).next(function(e){return e?a.Tc.Xo(t,e):oE.resolve(null)})}))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,aK(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ub(i,e,r||null),ug(i,e),function(t,e){t.zo.xi(e)}(i.bh,e)):nM(),s.label=4;case 4:return[4,u_(i,o)];case 5:return s.sent(),[3,7];case 6:nC("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function uO(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,h,f,l,p,d,v;return(0,nS.Jh)(this,function(y){switch(y.label){case 0:n=t,r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Sl.get(a))&&0!==c.length?[4,s2(n.bh,rQ(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.vl.get(l),[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return[4,s4((n=t).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&uE(n,e.targetId,i.Il),i)]}})})}(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,s5(n.bh,a)];case 8:return v=y.sent(),[4,s2(n.bh,v)];case 9:return u=y.sent(),[4,uc(n,uD(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function uD(t){var e,n,r,i;return e=t.path,n=t.collectionGroup,r=t.orderBy,i=t.filters,new rz(e,n,r,i,t.limit,"F",t.startAt,t.endAt)}function uP(t){return t.bh.persistence.Uo()}function uC(t,e,n,r){return(0,nS.mG)(this,void 0,void 0,function(){var i,o,s;return(0,nS.Jh)(this,function(a){switch(a.label){case 0:return(i=t).kl?(nC("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,s6(i.bh)];case 3:return o=a.sent(),s=iZ.Me(e,"current"===n),[4,u_(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,s3(i.bh,e,!0)];case 6:return a.sent(),uw(i,e,r),[3,8];case 7:nM(),a.label=8;case 8:return[2]}})})}function ux(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,h,f,l;return(0,nS.Jh)(this,function(p){switch(p.label){case 0:if(!(r=uR(t)).kl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(nC("SyncEngine","Adding an already active target "+s),[3,5]):[4,s5(r.bh,s)]):[3,6];case 2:return a=p.sent(),[4,s2(r.bh,a)];case 3:return u=p.sent(),[4,uc(r,uD(a),u.targetId,!1)];case 4:p.sent(),aR(r.yl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,s3(r.bh,t,!1).then(function(){aL(r.yl,t),uw(r,t)}).catch(sv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function uR(t){return t.yl.Dh.Lh=ul.bind(null,t),t.yl.Dh.vn=uS.bind(null,t),t.yl.Dh.Mh=ud.bind(null,t),t.bl.ah=a6.bind(null,t.gl),t.bl.Bl=a9.bind(null,t.gl),t}function uL(t){return t.yl.Dh.Bh=uv.bind(null,t),t.yl.Dh.qh=uy.bind(null,t),t}var uM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return this.Qt=a_(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){var e;return e=this.persistence,new sQ(e,new sZ,t.Jl,this.Qt)},t.prototype.jl=function(t){return new ai(as.ia,this.Qt)},t.prototype.Wl=function(t){return new ay},t.prototype.terminate=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),uj=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,nS.ZT)(e,t),e.prototype.initialize=function(e){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){var e,n;return e=sV(t),n=nQ.min(),e.hs({index:oH.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=o7(e.readTime)),r.done()}).next(function(){return n})}).then(function(t){e.wc=t})]})})}(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,uL(this.Yl._a)];case 4:return n.sent(),[4,aK(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){var e;return e=this.persistence,new sQ(e,new sZ,t.Jl,this.Qt)},e.prototype.zl=function(t){return new sC(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=sJ(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?sd.Ys(this.cacheSizeBytes):sd.ti;return new sz(this.synchronizeTabs,e,t.clientId,n,t._s,aE(),aT(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new ay},e}(uM),uU=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,nS.ZT)(e,t),e.prototype.initialize=function(e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r=this;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof av?(this.Vl._a={eu:uk.bind(null,n),nu:uC.bind(null,n),su:ux.bind(null,n),Uo:uP.bind(null,n),tu:uN.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return(0,nS.mG)(r,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,nS.Jh)(this,function(h){var f;switch(h.label){case 0:return uR(n=t),uL(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,uO(n,r.it())]);case 1:return i=h.sent(),n.kl=!0,[4,a$(n.yl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],aR(n.yl,a);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):c=c.then(function(){return uw(n,e),s3(n.bh,e,!0)}),aL(n.yl,e)}),[4,c]);case 4:return h.sent(),[4,uO(n,u)];case 5:return h.sent(),(f=n).xl.forEach(function(t,e){aL(f.yl,e)}),f.Nl.Oc(),f.xl=new Map,f.Cl=new ij(n3.H),n.kl=!1,[4,a$(n.yl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})}(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=aE();if(!av.Kn(e))throw new nq(nG.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sJ(t.yu.t,t.yu.persistenceKey);return new av(e,t._s,n,t.clientId,t.Jl)},e}(uj),uV=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n=this;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return up(n._a,t,1)},this.yl.Dh.n_=uA.bind(null,this._a),[4,a$(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new a3},t.prototype.Xl=function(t){var e=a_(t.yu.t),n=new aI(t.yu);return new aO(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n=this;return e=this.bh,new aP(e,this.Sh,t._s,function(t){return up(n._a,t,0)},ag.Kn()?new ag:new am)},t.prototype.e_=function(t,e){var n,r,i,o,s;return n=this.bh,r=this.yl,i=this.gl,o=this.Vl,s=new ua(n,r,i,o,t.Jl,t.pl),e&&(s.kl=!0),s},t.prototype.terminate=function(){return function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e=t,nC("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,ax(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),uF=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),uG=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new oI,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return[4,this.a_()];case 1:return null===(t=r.sent())?[2,null]:(isNaN(n=Number(e=this.o_.decode(t)))&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return[2,new ut(JSON.parse(r.sent()),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return 123===t})},t.prototype.a_=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return 0>this.l_()?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),Error("Invalid bundle format: "+t)},t.prototype.__=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new nq(nG.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new n2(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),uq=function(t){this._methodName=t},uB=function(t){this.d_=t};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t,e,n){if(!n)throw new nq(nG.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function uH(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nq(nG.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uK(t,e,n,r){if(!0===e&&!0===r)throw new nq(nG.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function uJ(t){if(!n3.wt(t))throw new nq(nG.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function uX(t){if(n3.wt(t))throw new nq(nG.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function uY(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":nM()}function uW(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new nq(nG.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uY(t);throw new nq(nG.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function uZ(t,e){if(e<=0)throw new nq(nG.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uQ=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new nq(nG.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nq(nG.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,uK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),u$=new Map,u0=function(){function t(t,e){this.w_="(lite)",this.E_=new uQ({}),this.T_=!1,t instanceof nO?(this.I_=t,this.m_=new nK):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nq(nG.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nO(t.options.projectId)}(t),this.m_=new nJ(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new nq(nG.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new nq(nG.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new uQ(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new nK;switch(t.type){case"gapi":var e=t.client;return"object"==typeof e&&null!==e&&e.auth&&e.auth.getAuthHeaderValueForFirstParty||nM(),new nY(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new nq(nG.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){var t;return(t=u$.get(this))&&(nC("ComponentProvider","Removing Datastore"),u$.delete(this),t.terminate()),Promise.resolve()},t}(),u1=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new u3(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),u2=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),u3=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rH(r))||this).firestore=e,i.D_=r,i.type="collection",i}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new u1(this.firestore,null,new n3(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(u2);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof uB&&(t=t.d_),uz("collection","path",e),t instanceof u0)return uX(n=n0.ot.apply(n0,(0,nS.pr)([e],r))),new u3(t,null,n);if(!(t instanceof u1||t instanceof u3))throw new nq(nG.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uX(n=n0.ot.apply(n0,(0,nS.pr)([t.path],r)).child(n0.ot(e))),new u3(t.firestore,null,n)}function u5(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof uB&&(t=t.d_),1==arguments.length&&(e=nj.u()),uz("doc","path",e),t instanceof u0)return uJ(n=n0.ot.apply(n0,(0,nS.pr)([e],r))),new u1(t,null,new n3(n));if(!(t instanceof u1||t instanceof u3))throw new nq(nG.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uJ(n=t.D_.child(n0.ot.apply(n0,(0,nS.pr)([e],r)))),new u1(t.firestore,t instanceof u3?t.v_:null,new n3(n))}function u6(t,e){return t instanceof uB&&(t=t.d_),e instanceof uB&&(e=e.d_),(t instanceof u1||t instanceof u3)&&(e instanceof u1||e instanceof u3)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function u9(t,e){return t instanceof uB&&(t=t.d_),e instanceof uB&&(e=e.d_),t instanceof u2&&e instanceof u2&&t.firestore===e.firestore&&r0(t.C_,e.C_)&&t.v_===e.v_}var u8=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new nq(nG.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nq(nG.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return nU(this.x_,t.x_)||nU(this.N_,t.N_)},t}(),u7=/^__.*__$/,ct=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new iw(t,this.data,this.Gt,e,this.fieldTransforms):new ib(t,this.data,e,this.fieldTransforms)},t}(),ce=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new iw(t,this.data,this.Gt,e,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nM()}}var cr=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return cT(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(cn(this.k_)&&u7.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ci=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||a_(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new cr({k_:t,methodName:e,j_:n,path:n2.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function co(t){var e=t.p_(),n=a_(t.I_);return new ci(t.I_,!!e.ignoreUndefinedProperties,n)}function cs(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);cb("Data must be an object, but it was:",s,r);var a,u,c=cm(r,s);if(o.merge)a=new n9(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=cw(e,l[f],n);if(!s.contains(p))throw new nq(nG.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");c_(h,p)||h.push(p)}a=new n9(h),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new ct(new rb(c),a,u)}var ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(uq);function cu(t,e,n){return new cr({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.z_=function(t){return new ih(t.path,new ie)},e.prototype.isEqual=function(t){return t instanceof e},e}(uq),ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,nS.ZT)(e,t),e.prototype.z_=function(t){var e=cu(this,t,!0),n=new ir(this.H_.map(function(t){return cy(t,e)}));return new ih(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(uq),cf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,nS.ZT)(e,t),e.prototype.z_=function(t){var e=cu(this,t,!0),n=new io(this.H_.map(function(t){return cy(t,e)}));return new ih(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(uq),cl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return(0,nS.ZT)(e,t),e.prototype.z_=function(t){var e=new ia(t.Qt,r8(t.Qt,this.J_));return new ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(uq);function cp(t,e,n,r){var i=t.G_(1,e,n);cb("Data must be an object, but it was:",i,r);var o=[],s=new rw;n5(r,function(t,r){var a=cE(e,t,n);r instanceof uB&&(r=r.d_);var u=i.U_(a);if(r instanceof ca)o.push(a);else{var c=cy(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new n9(o);return new ce(s.Pt(),a,i.fieldTransforms)}function cd(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[cw(e,r,n)],u=[i];if(o.length%2!=0)throw new nq(nG.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(cw(e,o[c])),u.push(o[c+1]);for(var h=[],f=new rw,l=a.length-1;l>=0;--l)if(!c_(h,a[l])){var p=a[l],d=u[l];d instanceof uB&&(d=d.d_);var v=s.U_(p);if(d instanceof ca)h.push(p);else{var y=cy(d,v);null!=y&&(h.push(p),f.set(p,y))}}var m=new n9(h);return new ce(f.Pt(),m,s.fieldTransforms)}function cv(t,e,n,r){return void 0===r&&(r=!1),cy(n,t.G_(r?4:3,e))}function cy(t,e){if(t instanceof uB&&(t=t.d_),cg(t))return cb("Unsupported field value:",e,t),cm(t,e);if(t instanceof uq)return function(t,e){if(!cn(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0;i<t.length;i++){var o=cy(t[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof uB&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return r8(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nZ.fromDate(t);return{timestampValue:i7(e.Qt,n)}}if(t instanceof nZ)return n=new nZ(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:i7(e.Qt,n)};if(t instanceof u8)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nB)return{bytesValue:ot(e.Qt,t.I)};if(t instanceof u1){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+uY(t))}(t,e)}function cm(t,e){var n={};return n6(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):n5(t,function(t,r){var i=cy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function cg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nZ||t instanceof u8||t instanceof nB||t instanceof u1||t instanceof uq)}function cb(t,e,n){if(!cg(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){var r=uY(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function cw(t,e,n){if(e instanceof uB&&(e=e.d_),e instanceof uG)return e.f_;if("string"==typeof e)return cE(t,e);throw cT("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cI=RegExp("[~\\*/\\[\\]]");function cE(t,e,n){if(e.search(cI)>=0)throw cT("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(uG.bind.apply(uG,(0,nS.pr)([void 0],e.split("."))))).f_}catch(r){throw cT("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cT(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new nq(nG.INVALID_ARGUMENT,(a+=". ")+t+u)}function c_(t,e){return t.some(function(t){return t.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n=this;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new nq(nG.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,nS.Jh)(this,function(u){switch(u.label){case 0:return r=oa((n=t).Qt)+"/documents",i={documents:e.map(function(t){return oi(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e,r=(e=n.Qt,"found"in t?(t.found||nM(),t.found.name,t.found.updateTime,new rE(oo(e,t.found.name),oe(t.found.updateTime),new rb({mapValue:{fields:t.found.fields}}),{})):"missing"in t?(t.missing||nM(),t.readTime||nM(),new rT(oo(e,t.missing),oe(t.readTime))):nM());s.set(r.key.toString(),r)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());e||nM(),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof rT||t instanceof rE?n.sf(t):nM()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new iC(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e=this;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=n3._t(n);e.mutations.push(new ix(r,e.jt(r)))}),[4,function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return r=oa((n=t).Qt)+"/documents",i={writes:e.map(function(t){return of(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){if(t instanceof rE)e=t.version;else{if(!(t instanceof rT))throw nM();e=nQ.min()}var e,n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new nq(nG.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ip.updateTime(e):ip.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(nQ.min()))throw new nq(nG.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ip.updateTime(e)}return ip.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),cS=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new aA(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return(0,nS.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,nS.Jh)(this,function(r){return t=new cA(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ri(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!iL(e)}return!1},t}(),cN=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=nz.UNAUTHENTICATED,this.clientId=nj.u(),this._f=function(){},this.C=new oI,this.credentials.v(function(t){nC("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new nq(nG.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new oI;return this._s.Tf(function(){return(0,nS.mG)(t,void 0,void 0,function(){var t;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=ox(n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return t._s.Af(),nC("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return(0,nS.mG)(i,void 0,void 0,function(){return(0,nS.Jh)(this,function(t){switch(t.label){case 0:return[4,s$(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function cO(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,cD(t)];case 1:return n=i.sent(),nC("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return(0,nS.mG)(this,void 0,void 0,function(){var n,r;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return(n=t)._s.Af(),nC("RemoteStore","RemoteStore received new credentials"),r=aF(n),n.Nh.add(3),[4,ax(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,aC(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function cD(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(nC("FirestoreClient","Using default OfflineComponentProvider"),[4,ck(t,new uM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function cP(t){return(0,nS.mG)(this,void 0,void 0,function(){return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(nC("FirestoreClient","Using default OnlineComponentProvider"),[4,cO(t,new uV)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function cC(t){return cD(t).then(function(t){return t.persistence})}function cx(t){return cD(t).then(function(t){return t.bh})}function cR(t){return cP(t).then(function(t){return t.yl})}function cL(t){return cP(t).then(function(t){return t._a})}function cM(t){return(0,nS.mG)(this,void 0,void 0,function(){var e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return[4,cP(t)];case 1:return[2,((n=(e=r.sent()).gl).jh=uu.bind(null,e._a),n.Hh=uh.bind(null,e._a),n)]}})})}function cj(t,e,n){var r=this;void 0===n&&(n={});var i=new oI;return t._s.Ps(function(){return(0,nS.mG)(r,void 0,void 0,function(){var r;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uF({next:function(o){e.Ps(function(){return a5(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new nq(nG.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new nq(nG.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new a7(rH(n.path),o,{includeMetadataChanges:!0,nl:!0});return a4(t,s)},[4,cM(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function cU(t,e,n){var r=this;void 0===n&&(n={});var i=new oI;return t._s.Ps(function(){return(0,nS.mG)(r,void 0,void 0,function(){var r;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new a7(n,new uF({next:function(n){e.Ps(function(){return a5(t,o)}),n.fromCache&&"server"===r.source?i.reject(new nq(nG.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),{includeMetadataChanges:!0,nl:!0});return a4(t,o)},[4,cM(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var cV=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new aA(this,"async_queue_retry"),this.vf=function(){var e=aT();e&&nC("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=aT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=aT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t,e=this;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!oN(t=n.sent()))throw t;return nC("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){var n;throw e.Vf=t,e.pf=!1,nx("INTERNAL UNHANDLED ERROR: ",(n=t.message||"",t.stack&&(n=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),n)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=oC.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&nM()},t.prototype.Af=function(){},t.prototype.Nf=function(){return(0,nS.mG)(this,void 0,void 0,function(){var t;return(0,nS.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function cF(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new oI,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var cG=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new cV,r.w_="name"in e?e.name:"[DEFAULT]",r}return(0,nS.ZT)(e,t),e.prototype.b_=function(){return this.qf||cB(this),this.qf.terminate()},e}(u0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){return t.qf||cB(t),t.qf.df(),t.qf}function cB(t){var e=t.p_(),n=new nk(t.I_,t.w_,e.host,e.ssl,e.experimentalForceLongPolling,e.experimentalAutoDetectLongPolling);t.qf=new cN(t.m_,t.Bf,n)}function cz(t,e,n){var r=this,i=new oI;return t._s.enqueue(function(){return(0,nS.mG)(r,void 0,void 0,function(){var r;return(0,nS.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ck(t,n)];case 1:return o.sent(),[4,cO(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:var s;if(!("FirebaseError"===(s=r=o.sent()).name?s.code===nG.FAILED_PRECONDITION||s.code===nG.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cH(t){if(t.R_||t.P_)throw new nq(nG.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rt(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(re(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw nM()}},t.prototype.Hf=function(t,e){var n=this,r={};return n5(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new u8(rt(t.latitude),rt(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return rn(n)?t(n):n}(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(rr(t));default:return null}},t.prototype.Qf=function(t){var e=n7(t);return new nZ(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=n0.ot(t);ow(n)||nM();var r=new nO(n.get(1),n.get(3)),i=new n3(n.Y(5));return r.isEqual(e)||nx("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),cJ=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new u1(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new cX(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(cY("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),cX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(cJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t,e){return"string"==typeof e?cE(t,e):e instanceof uB?e.d_.f_:e.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(t){if(rJ(t)&&0===t.xt.length)throw new nq(nG.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cZ=function(){};function cQ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)t=e[r].td(t);return t}var c$=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return(0,nS.ZT)(e,t),e.prototype.td=function(t){var e,n,r=co(t.firestore),i=function(t,e,n,r,i,o,s){if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new nq(nG.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){c6(s,o);for(var a,u=[],c=0;c<s.length;c++){var h=s[c];u.push(c5(r,t,h))}a={arrayValue:{values:u}}}else a=c5(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||c6(s,o),a=cv(n,"where",s,"in"===o||"not-in"===o);var f=rD.create(i,o,a);return function(t,e){if(e.Ct()){var n=rY(t);if(null!==n&&!n.isEqual(e.field))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=rX(t);null!==r&&c9(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new nq(nG.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new nq(nG.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,r,t.firestore.I_,this.ed,this.nd,this.sd);return new u2(t.firestore,t.v_,(n=(e=t.C_).filters.concat([i]),new rz(e.path,e.collectionGroup,e.xt.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)))},e}(cZ),c0=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return(0,nS.ZT)(e,t),e.prototype.td=function(t){var e,n,r=function(t,e,n){if(null!==t.startAt)throw new nq(nG.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nq(nG.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rG(e,n);return function(t,e){if(null===rX(t)){var n=rY(t);null!==n&&c9(t,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new u2(t.firestore,t.v_,(n=(e=t.C_).xt.concat([r]),new rz(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(cZ),c1=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return(0,nS.ZT)(e,t),e.prototype.td=function(t){return new u2(t.firestore,t.v_,r$(t.C_,this.od,this.ad))},e}(cZ),c2=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return(0,nS.ZT)(e,t),e.prototype.td=function(t){var e,n=c4(t,this.type,this.ud,this.hd);return new u2(t.firestore,t.v_,new rz((e=t.C_).path,e.collectionGroup,e.xt.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt))},e}(cZ),c3=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return(0,nS.ZT)(e,t),e.prototype.td=function(t){var e,n=c4(t,this.type,this.ud,this.hd);return new u2(t.firestore,t.v_,new rz((e=t.C_).path,e.collectionGroup,e.xt.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n))},e}(cZ);function c4(t,e,n,r){if(n[0]instanceof uB&&(n[0]=n[0].d_),n[0]instanceof cJ)return function(t,e,n,r,i){if(!r)throw new nq(nG.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=rZ(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(rp(e,r.key));else{var c=r.field(u.field);if(rn(c))throw new nq(nG.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.rt();throw new nq(nG.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rV(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=co(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new nq(nG.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new nq(nG.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!rW(t)&&-1!==c.indexOf("/"))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(n0.ot(c));if(!n3.wt(h))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new n3(h);a.push(rp(e,f))}else{var l=cv(n,r,c);a.push(l)}}return new rV(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function c5(t,e,n){if(n instanceof uB&&(n=n.d_),"string"==typeof n){if(""===n)throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rW(e)&&-1!==n.indexOf("/"))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(n0.ot(n));if(!n3.wt(r))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rp(t,new n3(r))}if(n instanceof u1)return rp(t,n.S_);throw new nq(nG.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uY(n)+".")}function c6(t,e){if(!Array.isArray(t)||0===t.length)throw new nq(nG.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new nq(nG.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function c9(t,e,n){if(!n.isEqual(e))throw new nq(nG.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var c7=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,nS.ZT)(e,t),e.prototype.Wf=function(t){return new nB(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new u1(this.firestore,null,e)},e}(cK),ht=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),he=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return(0,nS.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new hn(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(cY("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(cJ),hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(he),hr=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new ht(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new hn(n.Yf,n.Xf,r.key,r,new ht(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new nq(nG.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){var r=new hn(t.Yf,t.Xf,e.doc.key,e.doc,new ht(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hn(t.Yf,t.Xf,e.doc.key,e.doc,new ht(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nM()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function hi(t,e){return t instanceof he&&e instanceof he?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof hr&&e instanceof hr&&t.Yf===e.Yf&&u9(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,nS.ZT)(e,t),e.prototype.Wf=function(t){return new nB(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new u1(this.firestore,null,e)},e}(cK);function hs(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=uW(t,u1);var o=uW(t.firestore,cG),s=co(o);return e instanceof uB&&(e=e.d_),hu(o,[("string"==typeof e||e instanceof uG?cd(s,"updateDoc",t.S_,e,n,r):cp(s,"updateDoc",t.S_,e)).F_(t.S_,ip.exists(!0))])}function ha(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof uB&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[0]||cF(i[a])||(s=i[a],a++);var u,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(cF(i[a])){var l=i[a];i[a]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[a+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[a+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof u1)c=uW(t.firestore,cG),h=rH(t.S_.path),u={next:function(e){i[a]&&i[a](hc(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=uW(t,u2);c=uW(p.firestore,cG),h=p.C_;var d=new ho(c);u={next:function(t){i[a]&&i[a](new hr(c,d,p,t))},error:i[a+1],complete:i[a+2]},cW(t.C_)}return function(t,e,n,r){var i=this,o=new uF(r),s=new a7(e,o,n);return t._s.Ps(function(){return(0,nS.mG)(i,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e=a4,[4,cM(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return(0,nS.mG)(i,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e=a5,[4,cM(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(cq(c),h,f,u)}function hu(t,e){return function(t,e){var n=this,r=new oI;return t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var n;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return n=uf,[4,cL(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(cq(t),e)}function hc(t,e,n){var r=n.docs.get(e.S_),i=new ho(t);return new he(t,i,e.S_,r,new ht(n.hasPendingWrites,n.fromCache),e.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=co(t)}return t.prototype.set=function(t,e,n){this.md();var r=hf(t,this.Yf),i=c8(r.v_,e,n),o=cs(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,ip.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=hf(t,this.Yf);return e instanceof uB&&(e=e.d_),o="string"==typeof e||e instanceof uG?cd(this.Id,"WriteBatch.update",s.S_,e,n,r):cp(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,ip.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=hf(t,this.Yf);return this.Ed=this.Ed.concat(new iC(e.S_,ip.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new nq(nG.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function hf(t,e){if(t instanceof uB&&(t=t.d_),t.firestore!==e)throw new nq(nG.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return(0,nS.ZT)(e,t),e.prototype.get=function(e){var n=this,r=hf(e,this.Yf),i=new ho(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new he(n.Yf,i,r.S_,t.Zf,new ht(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=co(t)}return t.prototype.get=function(t){var e=this,n=hf(t,this.Yf),r=new c7(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return nM();var i=t[0];if(i instanceof rT)return new cJ(e.Yf,r,n.S_,null,n.v_);if(i instanceof rE)return new cJ(e.Yf,r,i.key,i,n.v_);throw nM()})},t.prototype.set=function(t,e,n){var r=hf(t,this.Yf),i=c8(r.v_,e,n),o=cs(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=hf(t,this.Yf);return e instanceof uB&&(e=e.d_),o="string"==typeof e||e instanceof uG?cd(this.Id,"Transaction.update",s.S_,e,n,r):cp(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=hf(t,this.Yf);return this.Ad.delete(e.S_),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){if("undefined"==typeof Uint8Array)throw new nq(nG.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hd(){if("undefined"==typeof atob)throw new nq(nG.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.fromBase64String=function(t){return hd(),new e(nB.fromBase64String(t))},e.fromUint8Array=function(t){return hp(),new e(nB.fromUint8Array(t))},e.prototype.toBase64=function(){return hd(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return hp(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(uB),hy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n,r,i,o,s;return n=t.d_,r={forceOwnership:e},cH(n=uW(n,cG)),i=cq(n),o=n.p_(),cz(i,s=new uV,new uj(s,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e,n,r,i;return cH(e=uW(e=t.d_,cG)),n=cq(e),r=e.p_(),cz(n,i=new uV,new uU(i,r.cacheSizeBytes))},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new nq(nG.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new oI;return t.Bf.Tf(function(){return(0,nS.mG)(e,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return o_.Kn()?(e=t+"main",[4,o_.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(sJ(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),hm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof nO||(i.Pd=e),i}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){var n,r;"firestore.googleapis.com"!==(r=(n=uW(n=this.d_,u0)).V_()).host&&r.host!==t&&nR("Host has been set in both settings() and useEmulator(), emulator host will be used"),n.g_(Object.assign(Object.assign({},r),{host:t+":"+e,ssl:!1}))},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return(0,nS.mG)(e,void 0,void 0,function(){var e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return[4,cC(t)];case 1:return e=r.sent(),[4,cR(t)];case 2:return n=r.sent(),[2,(e.yo(!0),n.Nh.delete(0),aC(n))]}})})})}(cq(uW(this.d_,cG)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return(0,nS.mG)(e,void 0,void 0,function(){var e,n;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return[4,cC(t)];case 1:return e=r.sent(),[4,cR(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return(0,nS.mG)(this,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return(e=t).Nh.add(0),[4,ax(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(cq(uW(this.d_,cG)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&uK("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new oI;return t._s.Ps(function(){return(0,nS.mG)(e,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(r){switch(r.label){case 0:return e=um,[4,cL(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cq(uW(this.d_,cG)))},e.prototype.onSnapshotsInSync=function(t){var e;return function(t,e){var n=this,r=new uF(e);return t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Wh.add(e),e.next()},[4,cM(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var e;return(0,nS.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Wh.delete(e)},[4,cM(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(cq(uW(this.d_,cG)),cF(t)?t:{next:t})},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new nq(nG.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new hP(this,u4(this.d_,t))}catch(t){throw hT(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new hE(this,u5(this.d_,t))}catch(t){throw hT(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new hk(this,function(t,e){if(t=uW(t,u0),uz("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nq(nG.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new u2(t,null,new rz(n0.ct(),e))}(this.d_,t))}catch(t){throw hT(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e,n,r=this;return e=this.d_,n=function(e){return t(new hb(r,e))},function(t,e){var n=this,r=new oI;return t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var n;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return[4,cP(t).then(function(t){return t.Sh})];case 1:return n=i.sent(),new cS(t._s,n,e,r).run(),[2]}})})}),r.promise}(cq(e),function(t){return n(new hl(e,t))})},e.prototype.batch=function(){var t=this;return cq(this.d_),new hw(new hh(this.d_,function(e){return hu(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new nq(nG.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new nq(nG.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(uB),hg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,nS.ZT)(e,t),e.prototype.Wf=function(t){return new hv(new nB(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return hE.yd(e,this.firestore,null)},e}(cK),hb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new hg(e),r}return(0,nS.ZT)(e,t),e.prototype.get=function(t){var e=this,n=hC(t);return this.d_.get(n).then(function(t){return new hS(e.Yf,new he(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=hC(t);return n?(uH("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hC(t);return 2==arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,(0,nS.pr)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hC(t);return this.d_.delete(e),this},e}(uB),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.set=function(t,e,n){var r=hC(t);return n?(uH("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hC(t);return 2==arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,(0,nS.pr)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hC(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(uB),hI=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return(0,nS.ZT)(e,t),e.prototype.fromFirestore=function(t,e){var n=new hn(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new hN(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new hg(t),n),i.set(n,o)),o},e}(uB);hI.Vd=new WeakMap;var hE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new hg(e),r}return(0,nS.ZT)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new nq(nG.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new u1(n.d_,r,new n3(t)))},e.yd=function(t,n,r){return new e(n,new u1(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hP(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new hP(this.firestore,u4(this.d_,t))}catch(t){throw hT(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof uB&&(t=t.d_),t instanceof u1&&u6(this.d_,t)},e.prototype.set=function(t,e){e=uH("DocumentReference.set",e);try{var n,r,i,o;return n=this.d_,r=e,n=uW(n,u1),i=uW(n.firestore,cG),o=c8(n.v_,t,r),hu(i,[cs(co(i),"setDoc",n.S_,o,null!==n.v_,r).F_(n.S_,ip.Kt())])}catch(t){throw hT(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?hs(this.d_,t):hs.apply(void 0,(0,nS.pr)([this.d_,t,e],n))}catch(t){throw hT(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){var t;return hu(uW((t=this.d_).firestore,cG),[new iC(t.S_,ip.Kt())])},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=h_(e),i=hA(e,function(e){return new hS(t.firestore,new he(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return ha(this.d_,r,i)},e.prototype.get=function(t){var e,n,r,i,o,s,a,u,c=this;return("cache"===(null==t?void 0:t.source)?(e=uW(e=this.d_,u1),r=cq(n=uW(e.firestore,cG)),i=new ho(n),(function(t,e){var n=this,r=new oI;return t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var n;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.persistence.runTransaction("read document","readonly",function(n){return t.Tc.Ho(n,e)})];case 1:return(r=i.sent())instanceof rE?n.resolve(r):r instanceof rT?n.resolve(null):n.reject(new nq(nG.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=ox(i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,cx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e.S_).then(function(t){return new he(n,i,e.S_,t,new ht(t instanceof rE&&t.Vt,!0),e.v_)})):"server"===(null==t?void 0:t.source)?(o=uW(o=this.d_,u1),cj(cq(s=uW(o.firestore,cG)),o.S_,{source:"server"}).then(function(t){return hc(s,o,t)})):(a=uW(a=this.d_,u1),cj(cq(u=uW(a.firestore,cG)),a.S_).then(function(t){return hc(u,a,t)}))).then(function(t){return new hS(c.firestore,new he(c.firestore.d_,c.Xf,t.S_,t.Zf,t.metadata,c.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hI.gd(this.firestore,t)))},e}(uB);function hT(t,e,n){return t.message=t.message.replace(e,n),t}function h_(t){for(var e=0;e<t.length;e++){var n=t[e];if("object"==typeof n&&!cF(n))return n}return{}}function hA(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cF(t[0])?t[0]:cF(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new hE(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return hi(this.d_,t.d_)},e}(uB),hN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(hS),hk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new hg(e),r}return(0,nS.ZT)(e,t),e.prototype.where=function(t,n,r){try{var i;return new e(this.firestore,cQ(this.d_,(i=cY("where",t),new c$(i,n,r))))}catch(t){throw hT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{var r,i,o;return new e(this.firestore,cQ(this.d_,(r=n,void 0===r&&(r="asc"),i=r,o=cY("orderBy",t),new c0(o,i))))}catch(t){throw hT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,cQ(this.d_,(uZ("limit",t),new c1("limit",t,"F"))))}catch(t){throw hT(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,cQ(this.d_,(uZ("limitToLast",t),new c1("limitToLast",t,"L"))))}catch(t){throw hT(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cQ(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new c2("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw hT(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cQ(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new c2("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw hT(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cQ(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new c3("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw hT(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cQ(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new c3("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw hT(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return u9(this.d_,t.d_)},e.prototype.get=function(t){var e,n,r,i,o,s,a,u,c,h,f,l,p=this;return("cache"===(null==t?void 0:t.source)?(e=uW(e=this.d_,u2),r=cq(n=uW(e.firestore,cG)),i=new ho(n),(function(t,e){var n=this,r=new oI;return t._s.Ps(function(){return(0,nS.mG)(n,void 0,void 0,function(){var n;return(0,nS.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,nS.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,nS.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,s4(t,e,!0)];case 1:return i=(r=new ui(e,(s=a.sent()).Rc)).fl(s.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=ox(a.sent(),"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,cx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e.C_).then(function(t){return new hr(n,i,e,t)})):"server"===(null==t?void 0:t.source)?(o=uW(o=this.d_,u2),a=cq(s=uW(o.firestore,cG)),u=new ho(s),cU(a,o.C_,{source:"server"}).then(function(t){return new hr(s,u,o,t)})):(c=uW(c=this.d_,u2),f=cq(h=uW(c.firestore,cG)),l=new ho(h),cW(c.C_),cU(f,c.C_).then(function(t){return new hr(h,l,c,t)}))).then(function(t){return new hD(p.firestore,new hr(p.firestore.d_,p.Xf,p.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=h_(e),i=hA(e,function(e){return new hD(t.firestore,new hr(t.firestore.d_,t.Xf,t.d_,e._d))});return ha(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hI.gd(this.firestore,t)))},e}(uB),hO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hN(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(uB),hD=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new hk(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new hN(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new hO(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new hN(n.Yf,r))})},e.prototype.isEqual=function(t){return hi(this.d_,t.d_)},e}(uB),hP=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return(0,nS.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new hE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hE(this.firestore,void 0===t?u5(this.d_):u5(this.d_,t))}catch(t){throw hT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o=this;return(n=uW((e=this.d_).firestore,cG),r=u5(e),i=c8(e.v_,t),hu(n,[cs(co(e.firestore),"addDoc",r.S_,i,null!==e.v_,{}).F_(r.S_,ip.exists(!1))]).then(function(){return r})).then(function(t){return new hE(o.firestore,t)})},e.prototype.isEqual=function(t){return u6(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hI.gd(this.firestore,t)))},e}(hk);function hC(t){return t instanceof uB&&(t=t.d_),uW(t,u1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hx=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(uG.bind.apply(uG,(0,nS.pr)([void 0],e))))||this}return(0,nS.ZT)(e,t),e.documentId=function(){return new e(n2.ht().rt())},e.prototype.isEqual=function(t){return t instanceof uB&&(t=t.d_),t instanceof uG&&this.d_.f_.isEqual(t.f_)},e}(uB),hR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,nS.ZT)(e,t),e.serverTimestamp=function(){var t=new cc("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ca("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ch("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cf("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new cl("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(uB),hL=n(30909),hM={Firestore:hm,GeoPoint:u8,Timestamp:nZ,Blob:hv,Transaction:hb,WriteBatch:hw,DocumentReference:hE,DocumentSnapshot:hS,Query:hk,QueryDocumentSnapshot:hN,QuerySnapshot:hD,CollectionReference:hP,FieldPath:hx,FieldValue:hR,setLogLevel:function(t){nD.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t,e){t.INTERNAL.registerComponent(new hL.wA("firestore",function(t){return e(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hM)))}(r=i.Z,function(t,e){return new hm(t,new cG(t,e),new hy)}),r.registerVersion("@firebase/firestore","2.1.6")},62984:function(t,e,n){var r=n(83454);(()=>{"use strict";var e={421:t=>{t.exports=n(15503)},942:t=>{t.exports=n(72211)}},i={};function o(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};(()=>{o.d(s,{default:()=>j});let t=n(59713);var e,i,a=o.n(t);let u=n(6479);var c=o.n(u);let h=()=>"undefined"!=typeof window;var f=!1,l=t=>{f=t};let p=function(){if(f){for(var t=h()?["%cnext-firebase-auth","background: #ffa000; color: #fff; border-radius: 2px; padding: 2px 6px"]:["next-firebase-auth:"],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.log(...t,...n)}};function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y,m={debug:!1,loginAPIEndpoint:void 0,logoutAPIEndpoint:void 0,tokenChangedHandler:void 0,authPageURL:void 0,appPageURL:void 0,firebaseAdminInitConfig:void 0,firebaseClientInitConfig:void 0,firebaseAuthEmulatorHost:void 0,cookies:{name:void 0,keys:void 0,domain:void 0,httpOnly:!0,maxAge:6048e5,overwrite:!0,path:"/",sameSite:"strict",secure:!0,signed:!0}},g=t=>{var e=[];t.tokenChangedHandler?(t.loginAPIEndpoint&&e.push('The "loginAPIEndpoint" setting should not be set if you are using a "tokenChangedHandler".'),t.logoutAPIEndpoint&&e.push('The "logoutAPIEndpoint" setting should not be set if you are using a "tokenChangedHandler".')):(t.loginAPIEndpoint||e.push('The "loginAPIEndpoint" setting is required.'),t.logoutAPIEndpoint||e.push('The "logoutAPIEndpoint" setting is required.')),t.firebaseClientInitConfig&&t.firebaseClientInitConfig.apiKey||e.push('The "firebaseClientInitConfig.apiKey" value is required.'),t.firebaseAuthEmulatorHost&&t.firebaseAuthEmulatorHost.startsWith("http")&&e.push("The firebaseAuthEmulatorHost should be set without a prefix (e.g., localhost:9099)");var{keys:n}=t.cookies,i=n&&n.length&&(!n.filter||n.filter(t=>void 0!==t).length);return h()?(t.firebaseAdminInitConfig&&t.firebaseAdminInitConfig.credential&&t.firebaseAdminInitConfig.credential.privateKey&&e.push('The "firebaseAdminInitConfig" private key setting should not be available on the client side.'),i&&e.push('The "cookies.keys" setting should not be available on the client side.')):(t.cookies.name||e.push('The "cookies.name" setting is required on the server side.'),t.cookies.signed&&!i&&e.push('The "cookies.keys" setting must be set if "cookies.signed" is true.'),t.firebaseAuthEmulatorHost&&(r.env.FIREBASE_AUTH_EMULATOR_HOST?r.env.FIREBASE_AUTH_EMULATOR_HOST!==t.firebaseAuthEmulatorHost&&e.push('The "FIREBASE_AUTH_EMULATOR_HOST" environment variable should be the same as the host set in the config'):e.push('The "FIREBASE_AUTH_EMULATOR_HOST" environment variable should be set if you are using the "firebaseAuthEmulatorHost" option')),t.cookies.maxAge>12096e5&&e.push('The "cookies.maxAge" setting must be less than two weeks ('.concat(12096e5," ms)."))),{isValid:0===e.length,errors:e}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p("Setting config with provided value:",t);var{cookies:e={}}=t,n=c()(t,["cookies"]),r=v(v(v({},m),n),{},{cookies:v(v({},m.cookies),e)}),{isValid:i,errors:o}=g(r);if(!i)throw Error("Invalid next-firebase-auth options: ".concat(o.join(" ")));y=r},w=()=>{if(!y)throw Error("next-firebase-auth must be initialized before rendering.");return y};let I=n(67294);var E=o.n(I);let T=n(11163),_=n(48926);var A=o.n(_),S=["aud","auth_time","email","email_verified","exp","firebase","iat","iss","sub","uid","user_id"],N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return Object.keys(t).forEach(n=>{S.includes(n)||(e[n]=t[n])}),e};function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}let O=function(){var{firebaseUserClientSDK:t,firebaseUserAdminSDK:e,serializedAuthUser:n,clientInitialized:r=!1,token:i=null,claims:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(p("Called createAuthUser with arguments:",{firebaseUserClientSDK:t,firebaseUserAdminSDK:e,serializedAuthUser:n,clientInitialized:r,token:i,claims:s}),[t,e,n].reduce((t,e)=>e?t+1:t,0)>1)throw Error('createAuthUser cannot receive more than one of the following properties: "firebaseUserClientSDK", "firebaseUserAdminSDK", "serializedAuthUser"');if(r&&(e||n))throw Error('The "clientInitialized" value can only be true when called with the "firebaseUserClientSDK" property or no user.');if(s&&(e||n))throw Error('The "claims" value can only be set in conjunction with the "firebaseUserClientSDK" property.');if(i&&!e)throw Error('The "token" value can only be set if the "firebaseUserAdminSDK" property is defined.');var u,c,f={},l=null,d=null,v=!1,y=(u=A()(function*(){return null}),function(){return u.apply(this,arguments)});h()&&(o(942),c=o(421).default);var m=(b=A()(function*(){}),function(){return b.apply(this,arguments)}),g=null;if(t)f=N(s),l=t.uid,d=t.email,v=t.emailVerified,w=A()(function*(){return t.getIdToken()}),y=function(){return w.apply(this,arguments)},I=A()(function*(){return c.auth().signOut()}),m=function(){return I.apply(this,arguments)},g=null;else if(e)f=N(e),l=e.uid,d=e.email,v=e.email_verified,E=A()(function*(){return i}),y=function(){return E.apply(this,arguments)},g=i;else if(n){var b,w,I,E,T,_=JSON.parse(n);f=_.claims,l=_.id,d=_.email,v=_.emailVerified,T=A()(function*(){return _._token||null}),y=function(){return T.apply(this,arguments)},g=_._token}return{id:l,email:d,emailVerified:v,claims:f,getIdToken:y,clientInitialized:r,firebaseUser:t||null,signOut:m,serialize:function(){var{includeToken:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({id:l,claims:f,email:d,emailVerified:v,clientInitialized:r},t&&{_token:g}))}}};var D=(0,I.createContext)(O()),P=o(421),C=o.n(P),x=(o(942),e=A()(function*(t){var e,{loginAPIEndpoint:n,logoutAPIEndpoint:r}=w();if(t.id){var i=yield t.getIdToken();if(!(e=yield fetch(n,{method:"POST",headers:{Authorization:i},credentials:"include"})).ok){var o=yield e.json();throw Error("Received ".concat(e.status," response from login API endpoint: ").concat(JSON.stringify(o)))}}else if(!(e=yield fetch(r,{method:"POST",credentials:"include"})).ok){var s=yield e.json();throw Error("Received ".concat(e.status," response from logout API endpoint: ").concat(JSON.stringify(s)))}return e}),function(t){return e.apply(this,arguments)}),R=(i=A()(function*(t){var{tokenChangedHandler:e}=w(),n=O({firebaseUserClientSDK:t,clientInitialized:!0});return e?e(n):x(n)}),function(t){return i.apply(this,arguments)});let L=()=>{var[t,e]=(0,I.useState)(),[n,r]=(0,I.useState)({}),[i,o]=(0,I.useState)(!1);function s(t){return a.apply(this,arguments)}function a(){return(a=A()(function*(t){t&&r(N((yield C().auth().currentUser.getIdTokenResult()).claims)),e(t),o(!0),yield R(t)})).apply(this,arguments)}return(0,I.useEffect)(()=>{var t=C().auth().onIdTokenChanged(s);return()=>t()},[]),{user:t,claims:n,initialized:i}},M={RENDER:"render",SHOW_LOADER:"showLoader",RETURN_NULL:"returnNull",REDIRECT_TO_LOGIN:"redirectToLogin",REDIRECT_TO_APP:"redirectToApp"},j={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(!0===t.debug),b(t),h()&&function(){var{firebaseClientInitConfig:t,firebaseAuthEmulatorHost:e}=w();if(!C().apps.length){if(!t)throw Error('If not initializing the Firebase JS SDK elsewhere, you must provide "firebaseClientInitConfig" to next-firebase-auth.');C().initializeApp(t)}e&&C().auth().useEmulator("http://".concat(e))}()},withAuthUser:function(){var{whenAuthed:t=M.RENDER,whenUnauthedBeforeInit:e=M.RENDER,whenUnauthedAfterInit:n=M.RENDER,appPageURL:r=null,authPageURL:i=null,LoaderComponent:o=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s=>{var a=a=>{var{AuthUserSerialized:u}=a,f=c()(a,["AuthUserSerialized"]),l=O({serializedAuthUser:u}),{user:p,claims:d,initialized:v}=L(),y=O({firebaseUserClientSDK:p,clientInitialized:v,claims:d}),m=v?y:l,g=!!m.id,b=m.clientInitialized,_=g&&t===M.REDIRECT_TO_APP,A=!g&&(!b&&e===M.REDIRECT_TO_LOGIN||b&&n===M.REDIRECT_TO_LOGIN),S=(0,T.useRouter)(),N=(0,I.useCallback)(()=>{var t=r||w().appPageURL;if(!t)throw Error('The "appPageURL" config setting must be set when using `REDIRECT_TO_APP`.');var e="string"==typeof t?t:t({ctx:void 0,AuthUser:m});if(!e||"string"!=typeof e)throw Error('The "appPageURL" must be set to a non-empty string or resolve to a non-empty string');S.replace(e)},[S,m]),k=(0,I.useCallback)(()=>{var t=i||w().authPageURL;if(!t)throw Error('The "authPageURL" config setting must be set when using `REDIRECT_TO_LOGIN`.');var e="string"==typeof t?t:t({ctx:void 0,AuthUser:m});if(!e||"string"!=typeof e)throw Error('The "authPageURL" must be set to a non-empty string or resolve to a non-empty string');S.replace(e)},[S,m]);if((0,I.useEffect)(()=>{h()&&(_?N():A&&k())},[_,A,N,k]),_||A)return null;if(!b&&!g){if(e===M.SHOW_LOADER)return o?E().createElement(o,null):null;if(e===M.RETURN_NULL)return null}return E().createElement(D.Provider,{value:m},E().createElement(s,f))};return a.displayName="WithAuthUserHOC",a}},useAuthUser:()=>(0,I.useContext)(D),withAuthUserSSR:()=>{throw Error('"withAuthUserSSR" can only be called server-side.')},withAuthUserTokenSSR:()=>{throw Error('"withAuthUserTokenSSR" can only be called server-side.')},setAuthCookies:()=>{throw Error('"setAuthCookies" can only be called server-side.')},unsetAuthCookies:()=>{throw Error('"unsetAuthCookies" can only be called server-side.')},verifyIdToken:()=>{throw Error('"verifyIdToken" can only be called server-side.')},AuthAction:M,getFirebaseAdmin:()=>{throw Error('"getFirebaseAdmin" can only be called server-side.')}}})(),t.exports=s.default})()},83454:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(77663)},91118:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(14789)}])},49775:function(t,e,n){"use strict";var r=n(15503);n(82595),r.default.apps.length||r.default.initializeApp({apiKey:"AIzaSyCCZ9zgvuHCVrkgk6wkurzzUFROmjCCOHo",authDomain:"hyer-aviation.firebaseapp.com",databaseURL:"https://hyer-aviation.firebaseio.com",projectId:"hyer-aviation",storageBucket:"hyer-aviation.appspot.com"}),e.Z=r.default},35121:function(t,e,n){"use strict";n.d(e,{IL:function(){return i},LV:function(){return r}}),n(83454).env.GOOGLE_TAG_MANAGER_ID;let r=t=>{window.dataLayer.push({event:"pageview",page:t})},i=t=>{window.dataLayer.push({ecommerce:null}),window.dataLayer.push(t)}},14789:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=n(85893),i=n(67294),o=n(11163),s=n(35121),a=t=>{let{children:e}=t,n=(0,o.useRouter)();function r(t){s.LV(t)}return(0,i.useEffect)(()=>(n.events.on("routeChangeComplete",r),()=>{n.events.off("routeChangeComplete",r)}),[n.events,n.asPath]),e};n(49775);var u=n(62984),c=n(83454);n(32107),(0,u.init)({authPageURL:"/login",appPageURL:"/dashboard",loginAPIEndpoint:"/api/login",logoutAPIEndpoint:"/api/logout",firebaseAdminInitConfig:{credential:{projectId:"hyer-aviation",clientEmail:"firebase-adminsdk-dx6cg@hyer-aviation.iam.gserviceaccount.com",privateKey:c.env.FIREBASE_PRIVATE_KEY},databaseURL:"https://hyer-aviation.firebaseio.com"},firebaseClientInitConfig:{apiKey:"AIzaSyCCZ9zgvuHCVrkgk6wkurzzUFROmjCCOHo",authDomain:"hyer-aviation.firebaseapp.com",databaseURL:"https://hyer-aviation.firebaseio.com",projectId:"hyer-aviation",storageBucket:"hyer-aviation.appspot.com"},cookies:{name:"Hyer",keys:[c.env.COOKIE_SECRET_CURRENT,c.env.COOKIE_SECRET_PREVIOUS],httpOnly:!0,maxAge:10368e5,overwrite:!0,path:"/",sameSite:"strict",secure:!0,signed:!0}});var h=function(t){let{Component:e,pageProps:n}=t;return(0,i.useEffect)(()=>{document&&document.querySelector("body").classList.remove("preload")},[]),(0,r.jsx)(a,{children:(0,r.jsx)(e,{...n})})}},32107:function(){},77663:function(t){!function(){var e={229:function(t){var e,n,r,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u=[],c=!1,h=-1;function f(){c&&r&&(c=!1,r.length?u=r.concat(u):h=-1,u.length&&l())}function l(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(r=u,u=[];++h<e;)r&&r[h].run();h=-1,e=u.length}r=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||a(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},s=!0;try{e[t](o,o.exports,r),s=!1}finally{s&&delete n[t]}return o.exports}r.ab="//";var i=r(229);t.exports=i}()},11163:function(t,e,n){t.exports=n(9090)},70655:function(t,e,n){"use strict";n.d(e,{CR:function(){return h},Jh:function(){return u},XA:function(){return c},ZT:function(){return i},_T:function(){return s},fl:function(){return f},mG:function(){return a},pi:function(){return o},pr:function(){return l}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[9774,179],function(){return e(91118),e(9090)}),_N_E=t.O()}]);